# This is an automated backup - check out https://outlands.uorazorscripts.com/script/3bf4b8c8-60b1-4734-a61c-6561c2460c5e for latest
# Automation by Jaseowns
## Script: Chivalry Gate Bot (Simplified)
## Created by: thisideasucks#0
#############################################

# Chiv Gate Bot by Jaseowns
# *Modified by ThisIdeaSucks*
# UO Outlands
# youtube.com/jaseowns
#   Requirements:
#       100 Chivalry

// Variables
// How long to wait after failed attempt
@setvar! timeoutRetry 4000
// Set to 1 for bot to speak in chat
@setvar! chattyBot 0
// Time before gate is resummoned, adjust as needed
@setvar! chivGateTime 33500

// Gate to open - Pick only one
@setvar! cityGate 0
@setvar! dungeonGate 1
@setvar! shrineGate 0
@setvar! customGate 0

// Closes the chiv gate gump in case something causes it to stick open, can otherwise break the script
if gumpexists 1482653814
    gumpclose 1482653814
endif
if not gumpexists 1387930325
    say "[ChivalryHotbar"
endif
if not timerexists jase_chiv_gate_ready
    createtimer jase_chiv_gate_ready
    settimer jase_chiv_gate_ready chivGateTime
endif

if timer jase_chiv_gate_ready >= 60000
    settimer jase_chiv_gate_ready chivGateTime
endif

@setvar! jase_chiv_has_enough_symbols 0

if ingump "12/" 1387930325
    @setvar! jase_chiv_has_enough_symbols 1
elseif ingump "11/" 1387930325
    @setvar! jase_chiv_has_enough_symbols 1
elseif ingump "10/" 1387930325
    @setvar! jase_chiv_has_enough_symbols 1
elseif ingump "9/" 1387930325
    @setvar! jase_chiv_has_enough_symbols 1
elseif ingump "8/" 1387930325
    @setvar! jase_chiv_has_enough_symbols 1
elseif ingump "7/" 1387930325
    @setvar! jase_chiv_has_enough_symbols 1
elseif ingump "6/" 1387930325
    @setvar! jase_chiv_has_enough_symbols 1
elseif ingump "5/" 1387930325
    @setvar! jase_chiv_has_enough_symbols 1
elseif ingump "4/" 1387930325
    @setvar! jase_chiv_has_enough_symbols 0
elseif ingump "3/" 1387930325
    @setvar! jase_chiv_has_enough_symbols 0
elseif ingump "2/" 1387930325
    @setvar! jase_chiv_has_enough_symbols 0
elseif ingump "1/" 1387930325
    @setvar! jase_chiv_has_enough_symbols 0
elseif ingump "0/" 1387930325
    @setvar! jase_chiv_has_enough_symbols 0
endif

if jase_chiv_has_enough_symbols = 1

    if customGate = 1
        if timer jase_chiv_gate_ready > chivGateTime
            if chattyBot = 1
                say "Opening Custom..." 88
            endif
            say '[SacredJourney'
            waitforgump 1482653814 5000
            gumpresponse 4 1482653814
            wait 500
            settimer jase_chiv_gate_ready 0
        else
            if chattybot = 1
                say "Opening Custom after timer..." 34
            endif
            wait timeoutRetry
            replay
        endif
    endif

    if cityGate = 1
        if timer jase_chiv_gate_ready > chivGateTime
            if chattyBot = 1   
                say "Opening Cities..." 88
            endif
            say '[SacredJourney'
            waitforgump 1482653814 5000
            gumpresponse 1 1482653814
            wait 500
            settimer jase_chiv_gate_ready 0
        else
            if chattyBot = 1
                say "Opening Cities after timer..." 34
            endif
            wait timeoutRetry
            replay
        endif
    endif
    wait 100
    
    if dungeonGate = 1
        if timer jase_chiv_gate_ready > chivGateTime 
            if chattyBot = 1
                say "Opening Dungeons..." 88
            endif
            say '[SacredJourney'
            waitforgump 1482653814 5000
            gumpresponse 2 1482653814
            wait 500
            settimer jase_chiv_gate_ready 0
        else
            if chattyBot = 1
                say "Opening Dungeons after timer..." 34
            endif
            wait timeoutRetry
            replay
        endif
    endif
    wait 100
    
    if shrineGate = 1
        if timer jase_chiv_gate_ready > chivGateTime
            if chattyBot = 1
                say "Opening Shrines..." 88
            endif
            say '[SacredJourney'
            waitforgump 1482653814 5000
            gumpresponse 3 1482653814
            wait 500
            settimer jase_chiv_gate_ready 0
        else
            if chattyBot = 1
                say "Opening Shrines after timer..." 34
            endif
            wait timeoutRetry
            replay
        endif
    endif
    wait 100

else
    if chattyBot = 1
        say "Awaiting symbols.." 34
    endif
    wait 2000
    replay
endif
wait 1000
replay