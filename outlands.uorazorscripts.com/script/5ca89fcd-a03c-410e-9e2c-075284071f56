# This is an automated backup - check out https://outlands.uorazorscripts.com/script/5ca89fcd-a03c-410e-9e2c-075284071f56 for latest
# Automation by Jaseowns
## Script: DanStock's ULTIMATE HARVESTING AUTO PILOT  (DEXXER, MAGE AND/OR SUMMONER w/ AUTO RECALL & MORE!)
## Created by: danstock._98439#0
#############################################

/////////
////////               Glaciers ULTIMATE HARVESTING AUTO PILOT UO OUTLANDS RAZOR SCRIPT - Last Updated Apr 20, 2025
///////
//////            MINING, LUMBERJACKING, FISHING & SCAVENGING MEGA-AUTOBOT (DEXXER, MAGE OR SUMMONER w/ AUTO RECALL & MUCH MORE!)
/////                                           Compiled by Lord Glacier (aka. DanStock.) 
////                     Inspired by & learned from various scripts found on:  https://outlands.uorazorscripts.com/ 
/// 





# Required (or suggested *) inventory items:

    # Pickaxe or Hatchet or Fishing Pole or Skinning Knife, Lockpicks & Trap Removal Tools 
    # A blessed escape runebook (charged w/ recall scrolls if no Magery skill)
    # Trapped pouches 
    # Healing, Cure and Refresh potions 
    # Magic Resist and Strength potions *
    # Potion Satchel *
    # Wizards Satchel (w/ regs) *
    # Bandages * 
    # Adventurers rope *
    # Magic Mushrooms *
    # Wooden Box w/ copper key *
    # Tool Kit (for tool recycle) *
    # Weapon of choice (supports Swords, Macing or Spellbook) *
    # Harvest Aspect armour of choice *




                                                    //////////////////////////////
                                                    //    RESET SCRIPT HERE:    //
                                                    //////////////////////////////

                        //////  SET THIS VALUE TO '1' AND RUN SCRIPT TO UNSET ALL PERMANENT SCRIPT VARIABLES:  \\\\\\

                                @setvar! SCRIPTRESET 0

                    ###################  THEN RETURN "SCRIPTRESET" TO '0' TO RESTART THE INITIAL SETUP  ###################
                    ####  (Or you can re-target script variables individually in the "Options" tab above the script!)  ####




    # ENABLE or DISABLE individual sections of the script here:
        @setvar! EnableMining 1
        @setvar! EnableLumberjacking 1
        @setvar! EnableFishing 1
        @setvar! EnableDungeonPicker 1
            // Only required if you have multiple harvest skills on a single character!




    ############################################
    ###    COOLDOWNS TO ADD IN UO CLIENT:    ###
    ############################################
#
#     REQUIRED COOLDOWNS:
#         Hiding  (w/ overhead text triggers of "You have hidden yourself well" and "You fail to hide" - 10 second cooldown)
#             * Only "required" for DUNGEON PICKER script functions (but a handy cooldown to put on a bar for any build)
#
#     OPTIONAL COOLDOWNS:
#         Healing Potion
#         Cure Potion
#         Refresh Potion
#         Travel
#         Mushroom  (magery only)
#             * These cooldowns are NOT required for script functions (but will still work for bars - no triggers required)
#




        //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        //    MOST FUNCTIONS ARE TURNED 'OFF' BY DEFAULT (set to '0' for OFF and '1' for ON) - MAKE SURE TO CHECK ALL VARIABLES CLOSELY!    //
        //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

        


    #################################################
    //             COMMON VARIABLES:               //
    #################################################
    
//////////////////////////
//      OFFENSIVE:      //
//////////////////////////
        
@setvar! EnableAutoAttackGreyMOB 0
    # Toggle 'War Mode' to attack nearby grey targets

@setvar! EnableSpellbookCheck 0
@setvar! EnableWeaponCheck 0
    # Will automatically equip weapon or book during combat
    
    
//////////////////////////
//      DEFENSIVE:      //
//////////////////////////
        
@setvar! EnableHealPotion 1
@setvar! EnableCurePotion 1
@setvar! EnableRefreshPotion 1
@setvar! EnableMagicResistPotion 0
@setvar! EnableStrengthPotion 0
@setvar! EnableAgilityPotion 0
    # Set to '1' for fulltime buff or '2' for combat-only

@setvar! HealPotHPdiff 30
@setvar! RefreshPotSPdiff 15
@setvar! HealingPotionCooldown 10000
@setvar! CurePotionCooldown 1000
@setvar! RefreshPotionCooldown 5000
    # Adjust your potion cooldowns and set points 

@setvar! EnableAutoParalyzePouch 1
    # Requires trapped pouches in inventory


//////////////////////////
//       UTILITY:       //
//////////////////////////

@setvar! EnableWeightWarningMessage 1
@setvar! GreenWarningDiffWeight 50
@setvar! YellowWarningDiffWeight 25
@setvar! RedWeightLimitDiffWeight 5
    # Overhead weight warning message settings 

@setvar! EnableOverheadMessages 1
    # Disable or Enable unnecessary overhead messages/texts

@setvar! EnableLootBag 0
    # Allows selection of your loot bag (opens after recall)

@setvar! EnableToolCountdown 0
    # System message countdown when tool is about to break

@setvar! EnableGoldVacuum 0
    # Automatically grabs any nearby gold on the ground

@setvar! EnableSatchels 0
    # Requires potion and/or wizard satchels in inventory
    # Will move all regs/potions to satchel if found elsewhere in your inventory

@setvar! EnableEatingFood 0
    # Only if delectable food found in inventory

@setvar! EnableAutoCarving 0
    # Requires skinning knife in inventory

@setvar! EnableRecycleTool 0
    # Requires tinker 'Tool Kit' in inventory
    # Will automatically recycle your tool before final use


//////////////////////////
//     AUTO-RECALL:     //
//////////////////////////

    ####################################################
    ####    RECALL AND/OR DUNGEON GATE TRIGGERS:    ####
    ####################################################
    
        //  RED RECALL (w/ TRACKING SKILL):  //
            if skill "Tracking" >= 50
                @setvar! EnableTrackingAutoRecall 1
                    # Make sure "Ignore Houses/Ships" is checked in the Tracking skill menu!
                @setvar! PKTrackingRange 60
                    # Range can be 40, 50 or 60 tiles (or "0" will trigger Auto Recall regardless of range)
                @setvar! EnableRedAlertOverhead 1
                    # If your build has tracking skill, I highly recommend setting up a Razor overhead message instead of using the script one...
                        // Doing this will display PK name and tile distance overhead (when tracked):
                        // Add overhead message w/ a trigger of "Now tracking" and message "[ RED ALERT: {3} ]"  (hue 335)
                        // Then a second with a trigger of "Distance to destination" and message "[ {4} TILES AWAY! ]"  (hue 253)
                        // Once complete you should disable 'EnableRedAlertOverhead' above
            
        //  RED RECALL (w/ NO TRACKING SKILL):  //
            elseif skill "Tracking" < 50
                @setvar! EnablePKradar 1
                @setvar! EnableAutoRedRecall 1
            endif
                # This will work in a pinch, but is not ideal (your harvester should have tracking skill IMO)
                # PK Radar will only pikcup Reds within targetting distance (but it is better than nothing)

        //  MINING RECALL (ingots):  //
            if skill "Mining" >= 50 EnableMining = 1
                @setvar! EnableIngotAutoRecall 0
                @setvar! IngotRecallAmount 2500
            endif 
                # Will auto recall if ingot total exceeds target!

        //  LUMBER RECALL (boards):  //
            if skill "Lumberjacking" >= 50 and EnableLumberjacking = 1
                @setvar! EnableBoardAutoRecall 0
                @setvar! BoardRecallAmount 2500
            endif 
                # Will auto recall if board total exceeds target!

        //  OTHER RECALL TRIGGERS:  //
                @setvar! EnableRecallAfterDungeonGate 0
                @setvar! EnableRecallAfterRessurection 0

        //  DUNGEON GATE TRIGGERS:  //
            if DungeonMode = 1
                @setvar! EnableWarModeDungeonGate 0
                @setvar! EnableAutoRedDungeonGate 0
                @setvar! EnableAutoWeightDungeonGate 0
            endif

            
        #####################################################
        ####  YOU CAN USE YOUR OWN RAZOR RECALL SCRIPT:  ####
        #####################################################
        
        # Enable use of your own Razor script for Auto Recall (otherwise script will prompt for a Runebook or Rune and use built-in auto recall):

            @setvar! EnableDIYRecallScript 0

            # Type the name of your own Home Recall Razor script here:
                createlist DIYRecallScriptList
                pushlist DIYRecallScriptList " YOUR RECALL SCRIPT NAME GOES HERE "


        #####################################################
        ####   OR USE THE BUILT-IN AUTO RECALL SCRIPT:   ####
        #####################################################
        
        # Script will use charged recall scrolls if casting is disabled:
            @setvar! EnableCastRecall 0

            if EnableCastRecall = 1
                # If casting Recall, choose to target Runebook or Rune:
                @setvar! CasttoRunebook 1
                    # or 
                @setvar! CasttoRune 0
            endif 

            //  AUTO RECALL DESTINATION (choose only one):
                @setvar! InsideHouseRecall 0
                @setvar! OutsideHouseRecall 0
                @setvar! OwnerInnRecall 0
                @setvar! CoOwnerInnRecall 0
                @setvar! BankRecall 0

                    if OutsideHouseRecall = 1
                        @setvar! EnableCloseMyDoor 0
                            # Use ">info" to ID your own house door (to quickly close it behind you):
                        @setvar! MyDoor 0x00000
                    endif 

                @setvar! HideAtHomeorInn 0

                //  HOME/INN/BANK STORAGE (after recall):  //
                    # Will look for and use nearby storage after recalling:
                        @setvar! EnableSafeDeposit 0
                        @setvar! EnableRepairBench 0
                        @setvar! EnableResourceStockpile 0
                        @setvar! EnableStorageShelf 0
                        @setvar! EnableMagicRecycler 0
                        @setvar! EnableStorageTomes 0
                        @setvar! EnableReagentSplitter 0
                    # Optional Loot Chest to store non-shelf/stockpile/tome items in your HOME/INN/BANK (uses Razor organizer agents 06-09)
                        @setvar! EnableLootChest 0



    #################################################
    //         BUILD-SPECIFIC VARIABLES:           //
    #################################################
  
/////////////////////////////
//    MINING VARIABLES:    //
/////////////////////////////

if skill "Mining" >= 50 and EnableMining = 1

    @setvar! EnableOreVacuum 0

    @setvar! EnablePlayerForgeRadar 1

    @setvar! EnableAutoSmeltPlayerForge 1
    @setvar! EnableAutoSmeltNaturalForge 1

    @setvar! EnableOreStacker 0
    @setvar! StackOreinIngotBag 0

    @setvar! EnablePackAnimals 0
    @setvar! PackAnimalCount 0
        # Can be set to '1' or '2' (or '0')
        # Make sure to add PACK ANIMALS amounts to TOTAL FOLLOWER COUNT below (Magery settings) if using SUMMONS
        # Ore can be transfered to packy based on Ore Amount:
    @setvar! OreTransfertoPackyAmount 0
        # or Diff Weight:
    @setvar! TransfertoPackyWeightDiff 50

# You can choose to set a storage bag for your Ingots:
    @setvar! EnableIngotBag 0
        # It can be a trapped pouch for security but, if so, disable opening Ingot Bag:
    @setvar! OpenIngotBag 0
        # Otherwise, this will open your Ingot Bag when stacking ingots or unloading (at home/inn/bank/etc.)
    @setvar! SetIngotBagtoOrganizer03 0
        # This option will prompt the script to set your Ingot Bag to Agent-03 automatically (if using organizers)
    @setvar! StackIngotsinIngotBag 0
        # This will stack all the ingots on the same pixel in your Ingot Bag for additional security
# Or you can put them in a locked box instead:
    @setvar! PutIngotsinLockedChest 0
        # Must have wooden box and matching copper key in backpack (can be crafted with 50 carpentry/50 tinkering)

endif


/////////////////////////////
//    LUMBER VARIABLES:    //
/////////////////////////////

if skill "Lumberjacking" >= 50 and EnableLumberjacking = 1

    @setvar! LogsToBoards 1

    @setvar! EnableLogStacker 0

# You can choose to set a storage bag for your Boards:
    @setvar! EnableBoardBag 0
    # It can be a trapped pouch for security but, if so, disable opening Board Bag:
    @setvar! OpenBoardBag 0
    # Otherwise, this will open your Board Bag when stacking boards or unloading (at home/inn/bank/etc.)
    @setvar! StackBoardsinBoardBag 0
    # This will stack all the boards on the same pixel in your Board Bag for additional security
    @setvar! SetBoardBagtoOrganizer01 0
    # This option will prompt the script to set your Board Bag to Agent-01 automatically (if using organizers)
# Or you can put them in a locked box instead:
    @setvar! PutBoardsinLockedChest 0
    # Must have wooden box and matching copper key in backpack (can be crafted with 50 carpentry/50 tinkering)

endif


/////////////////////////////
//    PICKER VARIABLES:    //
/////////////////////////////

if skill "Lockpicking" >= 50 and EnableDungeonPicker = 1 

    @setvar! EnableDungeonCleanup 1

        # Make sure continuous Lockpicking and Remove Trap is selected in UO client!
    @setvar! EnableChestRadar 1
    @setvar! EnableAutoPickDungeonChests 1
        # Will automatically attempt to remove traps and pick locks of any locked dungeon chests within 2 tiles

    @setvar! EnableSkinningMode 0
        # Equip a skinning knife to toggle SKINNING MODE (will work even if EnableAutoCarving is disabled above)
        # Mode will reveal you and spam forensic eval while keeping you healed, etc. 
        # Hiding or unequipping skinning knife will automatically turn off skinning mode

    @setvar! EnableAutoGateEscape 1
        # Toggle 'War Mode' while in dungeon to start 2 minute "Escape Timer"
        # This will try to keep you alive while you get to the nearest gate - and then automatically exits!
        # If enabled (in 'Auto Recall' section above) recall is then triggered upon dungeon gating to town

    @setvar! PutLootinLockedChest 1
        # Must have wooden box and matching copper key in backpack (can be crafted with 50 carpentry/50 tinkering)
        # Will automatically store loot and lock chest 

endif 


//////////////////////////////
//    FISHING VARIABLES:    //
//////////////////////////////

if skill "Fishing" >= 50 and EnableFishing = 1
    
    @setvar! EnableSpyglass 0

    @setvar! EnableCasting 1
        # Casting mode will equip fishing pole and cast while in PEACE MODE
        # Must add a "Dress List" in Razor (Arm/Dress tab) called "Fishing Pole" (to auto equip fishing poles, as needed)
        # Add (Target) your fishing pole then right-click the list item and choose "Convert Selected to TYPE"

    @setvar! EnableFishCarver 1
    @setvar! FishCarveCount 100
        # Must have dagger in inventory to carve fish steaks

    @setvar! EnableTrawling 1
        # Trawling mode will equip fishing weapon (HARPOON or TRIDENT) and throw fishing nets if in WAR MODE 

    @setvar! PutSpecialNetsinBag 0
        # Will prompt to you to select a storage bag for any Special Fishing Nets you harvest
    // or
    @setvar! PutSpecialNetsinLockedChest 1
        # Otherwise, you can put them in a locked box instead!
        # Must have wooden box and matching copper key in backpack (can be crafted with 50 carpentry/50 tinkering or purchased from NPC)

endif 


/////////////////////////////
//    MAGERY VARIABLES:    //
/////////////////////////////
    
    # Use ">info" to ID any of your regular [blessed] spellbooks and add them here:
        @setvar! MyBlessedMiningSpellbook 0x00000000
        @setvar! MyBlessedLumberSpellbook 0x00000000
        @setvar! MyBlessedFishingSpellbook 0x00000000
        @setvar! MyBlessedScavengerSpellbook 0x00000000
            # This will prevent the script from trying to equip it (instead of your aspect spellbook)

    
    ########################
    #   DEFENSIVE MAGIC:   #
    ########################
     
if skill "Magery" >= 60

    @setvar! EnableMagicReflection 0
    @setvar! EnableReactiveArmour 0
    @setvar! EnableProtection 0
    @setvar! EnableCastHeal 0
    @setvar! EnableCastCure 0
    @setvar! CastHealHPlowdiff 25
    @setvar! CastHealHPhighdiff 45

endif


    ######################## 
    #   OFFENSIVE MAGIC:   #
    ########################
    
if skill "Magery" >= 80

    @setvar! EnableCastHarm 0
    @setvar! HarmCooldown 30000
    @setvar! EnableCastWeaken 0
    @setvar! WeakenCooldown 60000
    @setvar! EnableCastCurse 0
    @setvar! CurseCooldown 60000
    @setvar! EnableCastMindBlast 0
    @setvar! MindblastCooldown 5000
    @setvar! EnableCastMagicArrow 0
    @setvar! MagicArrowCooldown 60000
    @setvar! EnableCastFireball 0
    @setvar! FireballCooldown 60000
    @setvar! EnableCastLightning 0
    @setvar! LightningCooldown 30000
    @setvar! EnableCastExplosion 1
    @setvar! ExplosionCooldown 10000
    @setvar! EnableCastEnergyBolt 1
    @setvar! EnergyBoltCooldown 10000
    @setvar! EnableCastFlamestrike 1
    @setvar! FlamestrikeCooldown 10000
    @setvar! EnableCastMeteorSwarm 0
    @setvar! MeteorSwarmCooldown 30000
    @setvar! EnableCastChainLightning 0
    @setvar! ChainLightningCooldown 30000


    #######################
    #   MINING SUMMONS:   #
    #######################
    
    if skill "Mining" >= 50 and EnableMining = 1

        @setvar! EnableSummons 0
        @setvar! TotalFollowerCount 0
        # This number assumes your are MOUNTED (do NOT include mounts in total followers) but must include any active PETS, SUMMONS or PACK ANIMALS

        // Number of summoned pets (0, 1 or 2 each - up to 4 total):
        @setvar! SummonFireElemental 0
        @setvar! SummonEarthElemental 0
        @setvar! SummonAirElemental 0
        @setvar! SummonWaterElemental 0
        @setvar! SummonDemon 0

        @setvar! EnableMagicMushroom 0
        @setvar! MushroomCooldown 180000
        @setvar! EnableMushroomMaker 0
        @setvar! MakeMushroomAmount 5
        
  
    #######################
    #   LUMBER SUMMONS:   #
    #######################  
    
    elseif skill "Lumberjacking" >= 50 and EnableLumberjacking = 1

        @setvar! EnableSummons 0
        @setvar! TotalFollowerCount 0
        # This number assumes your are MOUNTED (do NOT include mounts in total followers) but must include any active PETS, SUMMONS or PACK ANIMALS
        
        // Number of summoned pets (0, 1 or 2 each - up to 4 total):
        @setvar! SummonFireElemental 0
        @setvar! SummonEarthElemental 0
        @setvar! SummonAirElemental 0
        @setvar! SummonWaterElemental 0
        @setvar! SummonDemon 0

        @setvar! EnableMagicMushroom 0
        @setvar! MushroomCooldown 180000
        @setvar! EnableMushroomMaker 0
        @setvar! MakeMushroomAmount 5
        
    endif     

    
    ########################
    #  NAME YOUR SUMMONS:  #
    ########################
        
        @setvar! NameSummonedPets 0


# Add or change pet names in lists below (must be unique):
    if NameSummonedPets = 1        
        if not listexists FireEleNamesList 
            createlist FireEleNamesList
        endif
        if not listexists AirEleNamesList
            createlist AirEleNamesList
        endif
        if not listexists WaterEleNamesList
            createlist WaterEleNamesList 
        endif 
        if not listexists EarthEleNamesList
            createlist EarthEleNamesList
        endif
        if not listexists DemonNamesList
            createlist DemonNamesList 
        endif
        # FIRE ELEMENTAL NAMES:
        if SummonFireElemental > 0 and list FireEleNamesList = 0
            pushlist FireEleNamesList "Vulcanuz"
            pushlist FireEleNamesList "Blazze"
            pushlist FireEleNamesList "Emberr"
            pushlist FireEleNamesList "Seraphinz"
            pushlist FireEleNamesList "Ignitiaz"
            pushlist FireEleNamesList "Phenixx"
            pushlist FireEleNamesList "Flarrez"
            pushlist FireEleNamesList "Flinntz"
            pushlist FireEleNamesList "Valcanii"
            pushlist FireEleNamesList "Lavaass"
            pushlist FireEleNamesList "Pryo"
            pushlist FireEleNamesList "Maagnus"
            pushlist FireEleNamesList "Pyrrhuz"
            pushlist FireEleNamesList "Volcanous"
            pushlist FireEleNamesList "Magmaass"
            pushlist FireEleNamesList "Toastious"
            pushlist FireEleNamesList "Valcanii"
            pushlist FireEleNamesList "Fumettos"
            pushlist FireEleNamesList "Heliozz"
            pushlist FireEleNamesList "Ziriuz"
        endif
        # DEMON NAMES:
        if SummonDemon > 0 and list DemonNamesList = 0 
            pushlist DemonNamesList "Akuumah"
            pushlist DemonNamesList "Agarez"
            pushlist DemonNamesList "Baahl"
            pushlist DemonNamesList "Beelzeabubbs"
            pushlist DemonNamesList "Beliall"
            pushlist DemonNamesList "Kronuus"
            pushlist DemonNamesList "Daemahnn"
            pushlist DemonNamesList "Otnickk"
            pushlist DemonNamesList "Deemanous"
            pushlist DemonNamesList "Lucifass"
            pushlist DemonNamesList "Satanious"
            pushlist DemonNamesList "Deamathous"
            pushlist DemonNamesList "Pyratis"
            pushlist DemonNamesList "Pyrathius" 
            pushlist DemonNamesList "Darkius"
            pushlist DemonNamesList "Devilass"
            pushlist DemonNamesList "Evillanous"
            pushlist DemonNamesList "Pentagrys"
            pushlist DemonNamesList "Rectarr"
            pushlist DemonNamesList "Satonne"
        endif
        # EARTH ELEMENTAL NAMES:
        if SummonEarthElemental > 0 and list EarthEleNamesList = 0
            pushlist EarthEleNamesList "Terranous"
            pushlist EarthEleNamesList "Avanii"
            pushlist EarthEleNamesList "Gaiassius"
            pushlist EarthEleNamesList "Demetrious"
            pushlist EarthEleNamesList "Rikura"
            pushlist EarthEleNamesList "Terradus"
            pushlist EarthEleNamesList "Rochets"
            pushlist EarthEleNamesList "Clifffy"
            pushlist EarthEleNamesList "Earthares"
            pushlist EarthEleNamesList "Tialocc"
            pushlist EarthEleNamesList "Pebbellz"
            pushlist EarthEleNamesList "Rawckee"
            pushlist EarthEleNamesList "Bloccius"
            pushlist EarthEleNamesList "Stoniouss"
            pushlist EarthEleNamesList "Boulderass"
            pushlist EarthEleNamesList "Stownes"
            pushlist EarthEleNamesList "Hevvee"
            pushlist EarthEleNamesList "Rockkee"
            pushlist EarthEleNamesList "Tonness"
            pushlist EarthEleNamesList "Stoneyy"
        endif
        # AIR ELEMENTAL NAMES:
        if SummonAirElemental > 0 and list AirEleNamesList = 0
            pushlist AirEleNamesList "Aylamayus"
            pushlist AirEleNamesList "Alyaah"
            pushlist AirEleNamesList "Anemoneee"
            pushlist AirEleNamesList "Ariahhh"
            pushlist AirEleNamesList "Caelestisss"
            pushlist AirEleNamesList "Tuuliii"
            pushlist AirEleNamesList "Zeruss"
            pushlist AirEleNamesList "Sorasse"
            pushlist AirEleNamesList "Windius"
            pushlist AirEleNamesList "Essenn"
            pushlist AirEleNamesList "Inannah"
            pushlist AirEleNamesList "Tornadous"
            pushlist AirEleNamesList "Cyclonius"
            pushlist AirEleNamesList "Hurhicann"
            pushlist AirEleNamesList "Aeronious"
            pushlist AirEleNamesList "Blohh"
            pushlist AirEleNamesList "Stratosus"
            pushlist AirEleNamesList "Cloudass"
            pushlist AirEleNamesList "Spinniboius"
            pushlist AirEleNamesList "Gassius"
        endif 
        # WATER ELEMENTAL NAMES:
        if SummonWaterElemental > 0 and list WaterEleNamesList = 0 
            pushlist WaterEleNamesList "Andymanus"
            pushlist WaterEleNamesList "Aaltoh"
            pushlist WaterEleNamesList "Asherahh"
            pushlist WaterEleNamesList "Burimmah"
            pushlist WaterEleNamesList "Juballaa" 
            pushlist WaterEleNamesList "Nanamiia"
            pushlist WaterEleNamesList "Afonnis"
            pushlist WaterEleNamesList "Tiamattus"
            pushlist WaterEleNamesList "Marinus"
            pushlist WaterEleNamesList "Hyrdrosis"
            pushlist WaterEleNamesList "Wettiuss"
            pushlist WaterEleNamesList "Liquidiouss"
            pushlist WaterEleNamesList "Hydroniuous"
            pushlist WaterEleNamesList "Oceannah"
            pushlist WaterEleNamesList "Seaamahhn"
            pushlist WaterEleNamesList "Hydroass"
            pushlist WaterEleNamesList "Watermahnn"
            pushlist WaterEleNamesList "Eywehtmisalph"
            pushlist WaterEleNamesList "Aachtoohoe"
            pushlist WaterEleNamesList "Riverrah"
        endif
    else
        clearlist FireEleNamesList 
        clearlist EarthEleNamesList 
        clearlist AirEleNamesList 
        clearlist WaterEleNamesList 
        clearlist DemonNamesList 
    endif 
endif


/////////////////////////////
//      END OF SETUP!      //
/////////////////////////////





############   EDIT BELOW THIS LINE AT YOUR OWN RISK!   ########   EDIT BELOW THIS LINE AT YOUR OWN RISK!   ########   EDIT BELOW THIS LINE AT YOUR OWN RISK!   ########   EDIT BELOW THIS LINE AT YOUR OWN RISK!   ############
      




    /////////////////////
    //  SCRIPT RESET:  //
    /////////////////////

if not dead
    if SCRIPTRESET = 1
        unsetvar DanStock.
        unsetvar FIRSTRUN
        unsetvar lumber_runebook
        unsetvar mining_runebook
        unsetvar fishing_runebook
        unsetvar dungeoncrawler_runebook
        unsetvar mining_rune
        unsetvar lumber_rune
        unsetvar fishing_rune
        unsetvar dungeoncrawler_rune
        unsetvar IngotBag
        unsetvar BoardBag
        unsetvar MyLootBag
        unsetvar MyLootChest
        unsetvar myMainPackAnimal
        unsetvar mySecondPackAnimal
        clearlist FireEleNamesList 
        clearlist EarthEleNamesList 
        clearlist AirEleNamesList 
        clearlist WaterEleNamesList 
        clearlist DemonNamesList 
        @setvar! TimeToGo 0
        clearignore 
        overhead "All permanent script variables reset!" 84
        overhead "Reset SCRIPTRESET back to 0 and restart script to prompt for new targets..." 0
        sysmsg "Make sure to set SCRIPTRESET back to 0" 253
        sysmsg "Stopping script..." 0
        stop    
    endif
     

    //////////////////////
    //  INITIAL SETUP:  //
    //////////////////////

    if not varexist DanStock.
        sysmsg  "Glaciers Ultimate Harvest Auto Pilot Script" 77
        wait 1000
        sysmsg "Last updated: Apr 20, 2025" 0
        wait 1000
        overhead "Thank you for trying my script!  It appears this may be your first time running it..." 0
        wait 4000
        overhead "IMPT: Please make sure to setup all your required VARIABLES!" 153
        wait 5500
        overhead "There is a LOT this script can do with the right configuration!" 0
        wait 2500
        setvar DanStock. 1
        sysmsg "Beginning initial Harvest Auto Pilot script setup...... " 0
        wait 1500
        sysmsg "This is best done from inside your Home or Inn Room!" 253
        wait 1500
        hotkey "Cancel Current Target"
    endif 

    if EnableDIYHomeRecallScript != 1
        if skill "Mining" >= 50 
            if EnableTrackingAutoRecall = 1 or EnableIngotAutoRecall = 1 or EnableRecallAfterRessurection = 1
                if EnableCastRecall = 1 and CasttoRunebook = 1
                    if not varexist mining_runebook or not find mining_runebook self
                        wait 1000
                        overhead "First off, please select your Escape Runebook..." 88
                        wait 1500
                        overhead "[ SELECT RUNEBOOK... ]" 253
                        setvar mining_runebook
                        wft 500
                            while targetexists
                                wait 100
                            endwhile
                        overhead "[ RUNEBOOOK SELECTED! ]" 93
                        wait 1500
                        overhead "Script will now CAST recall to 'default' rune in RUNEBOOK upon AUTO RECALL trigger" 0
                        wait 2500
                    endif
                elseif EnableCastRecall = 1 and CasttoRune = 1
                    if not varexist mining_rune or not find mining_rune self
                        wait 1000
                        overhead "First off, please select your Escape Rune..." 88
                        wait 1500
                        overhead "[ SELECT RUNE... ]" 253
                        setvar mining_rune
                        wft 500
                            while targetexists
                                wait 100
                            endwhile
                        overhead "[ RUNE SELECTED! ]" 93
                        wait 1500
                        overhead "Script will now CAST recall to selected RUNE upon AUTO RECALL trigger" 0
                        wait 2500
                    endif
                elseif EnableCastRecall = 0 
                    if not varexist mining_runebook or not find mining_runebook self
                        wait 1000
                        overhead "First off, please select your Escape Runebook..." 88
                        wait 1500
                        overhead "[ SELECT RUNEBOOK... ]" 253
                        setvar mining_runebook
                        wft 500
                            while targetexists
                                wait 100
                            endwhile
                        overhead "[ RUNEBOOOK SELECTED! ]" 93
                        wait 1500
                        overhead "Script will now use recall SCROLL (to first in book rune) upon AUTO RECALL trigger" 0
                        wait 2500
                    endif 
                endif
            endif
        elseif skill "Lumberjacking" >= 50
            if EnableTrackingAutoRecall = 1 or EnableBoardAutoRecall = 1 or EnableRecallAfterRessurection = 1
                if EnableCastRecall = 1 and CasttoRunebook = 1
                    if not varexist lumber_runebook or not find lumber_runebook self
                        wait 1000
                        overhead "First off, please select your Escape Runebook..." 88
                        wait 1500
                        overhead "[ SELECT RUNEBOOK... ]" 253
                        setvar lumber_runebook
                        wft 500
                            while targetexists
                                wait 100
                            endwhile
                        overhead "[ RUNEBOOOK SELECTED! ]" 93
                        wait 1500
                        overhead "Script will now CAST recall to 'default' rune in RUNEBOOK upon AUTO RECALL trigger" 0
                        wait 2500
                    endif
                elseif EnableCastRecall = 1 and CasttoRune = 1
                    if not varexist lumber_rune or not find lumber_rune self
                        wait 1000
                        overhead "First off, please select your Escape Rune..." 88
                        wait 1500
                        overhead "[ SELECT RUNE... ]" 253
                        setvar lumber_rune
                        wft 500
                            while targetexists
                                wait 100
                            endwhile
                        overhead "[ RUNE SELECTED! ]" 93
                        wait 1500
                        overhead "Script will now CAST recall to selected RUNE upon AUTO RECALL trigger" 0
                        wait 2500
                    endif
                elseif EnableCastRecall = 0 
                    if not varexist lumber_runebook or not find lumber_runebook self
                        wait 1000
                        overhead "First off, please select your Escape Runebook..." 88
                        wait 1500
                        overhead "[ SELECT RUNEBOOK... ]" 253
                        setvar lumber_runebook
                        wft 500
                            while targetexists
                                wait 100
                            endwhile
                        overhead "[ RUNEBOOOK SELECTED! ]" 93
                        wait 1500
                        overhead "Script will now use recall SCROLL (to first in book rune) upon AUTO RECALL trigger" 0
                        wait 2500
                    endif
                endif
            endif
        elseif skill "Fishing" >= 50 
            if EnableTrackingAutoRecall = 1 or EnableRecallAfterRessurection = 1
                if EnableCastRecall = 1 and CasttoRunebook = 1
                    if not varexist fishing_runebook or not find fishing_runebook self
                        wait 1000
                        overhead "First off, please select your Escape Runebook..." 88
                        wait 1500
                        overhead "[ SELECT RUNEBOOK... ]" 253
                        setvar fishing_runebook
                        wft 500
                            while targetexists
                                wait 100
                            endwhile
                        overhead "[ RUNEBOOOK SELECTED! ]" 93
                        wait 1500
                        overhead "Script will now CAST recall to 'default' rune in RUNEBOOK upon AUTO RECALL trigger" 0
                        wait 2500
                    endif
                elseif EnableCastRecall = 1 and CasttoRune = 1
                    if not varexist fishing_rune or not find fishing_rune self
                        wait 1000
                        overhead "First off, please select your Escape Rune..." 88
                        wait 1500
                        overhead "[ SELECT RUNE... ]" 253
                        setvar fishing_rune
                        wft 500
                            while targetexists
                                wait 100
                            endwhile
                        overhead "[ RUNE SELECTED! ]" 93
                        wait 1500
                        overhead "Script will now CAST recall to selected RUNE upon AUTO RECALL trigger" 0
                        wait 2500
                    endif
                elseif EnableCastRecall = 0
                    if not varexist fishing_runebook or not find fishing_runebook self
                        wait 1000
                        overhead "First off, please select your Escape Runebook..." 88
                        wait 1500
                        overhead "[ SELECT RUNEBOOK... ]" 253
                        setvar fishing_runebook 
                        wft 500
                            while targetexists
                                wait 100
                            endwhile
                        overhead "[ RUNEBOOOK SELECTED! ]" 93
                        wait 1500
                        overhead "Script will now use recall SCROLL (to first in book rune) upon AUTO RECALL trigger" 0
                        wait 2500
                    endif
                endif
            endif
        elseif skill "Lockpicking" >= 50 
            if EnableTrackingAutoRecall = 1 or EnableRecallAfterRessurection = 1 or EnableRecallAfterDungeonGate = 1
                if EnableCastRecall = 1 and CasttoRunebook = 1
                    if not varexist dungeoncrawler_runebook or not find dungeoncrawler_runebook self
                        wait 1000
                        overhead "First off, please select your Escape Runebook..." 88
                        wait 1500
                        overhead "[ SELECT RUNEBOOK... ]" 253
                        setvar dungeoncrawler_runebook
                        wft 500
                            while targetexists
                                wait 100
                            endwhile
                        overhead "[ RUNEBOOOK SELECTED! ]" 93
                        wait 1500
                        overhead "Script will now CAST recall to 'default' rune in RUNEBOOK upon AUTO RECALL trigger" 0
                        wait 2500
                    endif
                elseif EnableCastRecall = 1 and CasttoRune = 1
                    if not varexist dungeoncrawler_rune or not find dungeoncrawler_rune self
                        wait 1000
                        overhead "First off, please select your Escape Rune..." 88
                        wait 1500
                        overhead "[ SELECT RUNE... ]" 253
                        setvar dungeoncrawler_rune
                        wft 500
                            while targetexists
                                wait 100
                            endwhile
                        overhead "[ RUNE SELECTED! ]" 93
                        wait 1500
                        overhead "Script will now CAST recall to selected RUNE upon AUTO RECALL trigger" 0
                        wait 2500
                    endif
                elseif EnableCastRecall = 0 
                    if not varexist dungeoncrawler_runebook or not find dungeoncrawler_runebook self
                        wait 1000
                        overhead "First off, please select your Escape Runebook..." 88
                        wait 1500
                        overhead "[ SELECT RUNEBOOK... ]" 253
                        setvar dungeoncrawler_runebook
                        wft 500
                            while targetexists
                                wait 100
                            endwhile
                        overhead "[ RUNEBOOOK SELECTED! ]" 93
                        wait 1500
                        overhead "Script will now use recall SCROLL (to first in book rune) upon AUTO RECALL trigger" 0
                        wait 2500
                    endif
                endif
            endif
        endif
    endif

    if skill "Mining" >= 50 and EnableIngotBag = 1
        if not varexist IngotBag or not find IngotBag self 
            wait 1500
            overhead "Next, choose your ingot storage bag..." 88
            wait 1500
            overhead "[ SELECT INGOT BAG... ]" 253
            setvar IngotBag
            wft 500
                while targetexists
                    wait 100
                endwhile
            overhead "[ INGOT BAG SET! ]" 93
            wait 3000
            if SetIngotBagtoOrganizer03 = 1
                overhead "...now once more to set it as Razor Organizer Agent-03..." 88
                wait 1500
                overhead "[ SELECT INGOT BAG AGAIN... ]" 253
                hotkey "Set Organizer HotBag-03"
                wft 500
                    while targetexists
                        wait 100
                    endwhile
                overhead "[ RAZOR HOTBAG-03 SET! ]" 93
                wait 3000
            endif
        endif
    endif

    if skill "Lumberjacking" >= 50 and EnableBoardBag = 1
        if not varexist BoardBag or not find BoardBag self 
            wait 1000
            overhead "Next, set your lumber storage bag..." 88
            wait 1500
            overhead "[ SELECT BOARD BAG... ]" 253
            setvar BoardBag
            wft 500
                while targetexists
                    wait 100
                endwhile
            overhead "[ BOARD BAG SET! ]" 93
            wait 3000
            if SetBoardBagtoOrganizer01 = 1
                overhead "...now once more to set it as Razor Organizer Agent-01..." 88
                wait 1500
                overhead "[ SELECT BOARD BAG AGAIN... ]" 253
                hotkey "Set Organizer HotBag-01"
                wft 500
                    while targetexists
                        wait 100
                    endwhile
                overhead "[ RAZOR HOTBAG-01 SET! ]" 93
                wait 3000
            endif
        endif
    endif

    if EnableLootChest = 1
        if not varexist MyLootChest
            wait 1000
            sysmsg "Disable 'EnableLootChest' in script variables to turn off this feature!" 0
            overhead "Now, select a container (in your Home or Inn) to store your loot..." 88
            wait 1500
            overhead "[ SELECT YOUR LOOT CHEST... ]" 253
            setvar MyLootChest
            wft 500
                while targetexists 
                    wait 100
                endwhile
            overhead "[ LOOT CHEST SET! ]" 93
            wait 1500
            overhead "Setup additional Organizer Agents (06-09 by default) within this container!" 0
            wait 3500
        endif
    endif

    if EnableLootBag = 1
        if not varexist MyLootBag or not find MyLootBag self
            wait 1000
            sysmsg "Disable 'EnableLootBag' in script variables to turn off this feature!" 0
            overhead "Please select a bag (in your backpack) for your loot..." 88
            wait 1500
            overhead "[ SELECT YOUR LOOT BAG... ]" 253
            setvar MyLootBag
            wft 500
                while targetexists 
                    wait 100
                endwhile
            overhead "[ LOOT BAG SET! ]" 93
            wait 1500
            overhead "This bag should also be set as your "Grid Loot" bag!" 0
            wait 2500
        endif
    endif

    if not varexist FIRSTRUN
        sysmsg "Verifying initial setup is complete.......... " 0
        wait 3500
        overhead "Ok, looks like you are good to go!" 0
        wait 3000
        overhead "Good luck out there and thanks again for trying my script!" 0
        overhead "                             - Dan " 0
        setvar FIRSTRUN 1
        wait 3000
        sysmsg "GLACIERS ULTIMATE HARVEST AUTO PILIOT SCRIPT SETUP COMPLETE!" 84
        wait 1500
        overhead "[ HAPPY HARVESTING!! ]" 2086
        wait 3000
    endif

@ignore MyBlessedMiningSpellbook
@ignore MyBlessedLumberSpellbook
@ignore MyBlessedFishingSpellbook
@ignore MyBlessedScavengerSpellbook


///////////////////////
//      TIMERS:      //
///////////////////////

    //////////////////////    
    //  COMMON TIMERS:  //
    //////////////////////

    if not timerexists "HealingPotionTimer"  
        createtimer "HealingPotionTimer" 
        settimer "HealingPotionTimer" HealingPotionCooldown
    endif 

    if not timerexists "CurePotionTimer" 
        createtimer "CurePotionTimer" 
        settimer "CurePotionTimer" CurePotionCooldown
    endif 

    if not timerexists "RefreshPotionTimer" 
        createtimer "RefreshPotionTimer" 
        settimer "RefreshPotionTimer" RefreshPotionCooldown
    endif 

    if not timerexists "InventoryTimer" 
        createtimer "InventoryTimer" 
        settimer "InventoryTimer" 6000
    endif 

    if not timerexists "TargetTimer" 
        createtimer "TargetTimer" 
        settimer "TargetTimer" 3500
    endif 

    if not timerexists "NoTargetTimer" 
        createtimer "NoTargetTimer" 
        settimer "NoTargetTimer" 3500
    endif 

    if not timerexists "TravelTimer" 
        createtimer "TravelTimer" 
        settimer "TravelTimer" 60000
    endif 

    if not timerexists "MoveTimer" 
        createtimer "MoveTimer" 
        settimer "MoveTimer" 2500
    endif

    if not timerexists "ManaTimer" 
        createtimer "ManaTimer" 
        settimer "ManaTimer" 5000
    endif 

    if not timerexists "PKRadar" 
        createtimer "PKRadar" 
        settimer "PKRadar" 0
    endif 

    if not timerexists "WeightTimer" 
        createtimer "WeightTimer" 
        settimer "WeightTimer" 5000
    endif   

    if not timerexists "GoldVacuum"
        createtimer "GoldVacuum"
        settimer "GoldVacuum" 0
    endif 

    if not timerexists "GoldRadar"
        createtimer "GoldRadar"
        settimer "GoldRadar" 0
    endif 

    if not timerexists "PotionSatchelTimer" 
        createtimer "PotionSatchelTimer" 
        settimer "PotionSatchelTimer" 60000
    endif

    if not timerexists "OrganizerTimer"
        createtimer "OrganizerTimer"
        settimer "OrganizerTimer" 30000
    endif  


    //////////////////////
    //  MINING TIMERS:  // 
    //////////////////////

if skill "Mining" >= 50
    if not timerexists "ForgeRadar"
        createtimer "ForgeRadar"
        settimer "ForgeRadar" 3500
    endif 

    if not timerexists "OreRadar"
        createtimer "OreRadar"
        settimer "OreRadar" 3500
    endif 

    if not timerexists "IngotRadar"
        createtimer "IngotRadar"
        settimer "IngotRadar" 3500
    endif

    if not timerexists "ForgeRadar"
        createtimer "ForgeRadar"
        settimer "ForgeRadar" 3500
    endif 

    if not timerexists "ForgingTimer" 
        createtimer "ForgingTimer" 
        settimer "ForgingTimer" 3500
    endif 

    if not timerexists "SmeltingTimer" 
        createtimer "SmeltingTimer" 
        settimer "SmeltingTimer" 3500
    endif 

    if not timerexists "NaturalForgeTimer"
        createtimer "NaturalForgeTimer"
        settimer "NaturalForgeTimer" 2500
    endif

    if not timerexists "OreStackerTimer" 
        createtimer "OreStackerTimer" 
        settimer "OreStackerTimer" 60000
    endif 

    if not timerexists "StackerTimer" 
        createtimer "StackerTimer" 
        settimer "StackerTimer" 3500
    endif 

    if not timerexists "PackyFollowOne" 
        createtimer "PackyFollowOne" 
        settimer "PackyFollowOne" 30000
    endif

    if not timerexists "PackyFollowTwo" 
        createtimer "PackyFollowTwo" 
        settimer "PackyFollowTwo" 30000
    endif

    if not timerexists "PackyCheckTimer" 
        createtimer "PackyCheckTimer" 
        settimer "PackyCheckTimer" 15000
    endif 

    if not timerexists "PackySmeltTimer" 
        createtimer "PackySmeltTimer" 
        settimer "PackySmeltTimer" 3500
    endif 

    if not timerexists "PackyStorageTimer" 
        createtimer "PackyStorageTimer" 
        settimer "PackyStorageTimer" 3500
    endif 

    if not timerexists "HarvestDelay"
        createtimer "HarvestDelay"
        settimer "HarvestDelay" 5000
    endif

    if not timerexists "MinerOrganizer"
        createtimer "MinerOrganizer"
        settimer "MinerOrganizer" 30000
    endif

    if not timerexists "IngotRecallTimer" 
        createtimer "IngotRecallTimer" 
        settimer "IngotRecallTimer" 30000
    endif 
endif
    

    //////////////////////
    //  LUMBER TIMERS:  //
    //////////////////////

if skill "Lumberjacking" >= 50
    if not timerexists "LogStackerTimer" 
        createtimer "LogStackerTimer"
        settimer "LogStackerTimer" 10000
    endif

    if not timerexists "BoardTimer" 
        createtimer "BoardTimer" 
        settimer "BoardTimer" 3500
    endif 

    if not timerexists "LumberOrganizer"
        createtimer "LumberOrganizer"
        settimer "LumberOrganizer" 30000
    endif

    if not timerexists "BoardRecallTimer" 
        createtimer "BoardRecallTimer" 
        settimer "BoardRecallTimer" 30000
    endif 
endif
    

    ///////////////////////
    //  FISHING TIMERS:  //
    ///////////////////////

if skill "Fishing" >= 50
    if not timerexists "CastTimer" 
        createtimer "CastTimer" 
        settimer "CastTimer" 8000
    endif

    if not timerexists "NetTimer" 
        createtimer "NetTimer" 
        settimer "NetTimer" 4500
    endif

    if not timerexists "SpyglassTimer" 
        createtimer "SpyglassTimer" 
        settimer "SpyglassTimer" 6500
    endif

    if not timerexists "SpecialNetCheckTimer" 
        createtimer "SpecialNetCheckTimer" 
        settimer "SpecialNetCheckTimer" 30000
    endif
endif
    

    //////////////////////
    //  PICKER TIMERS:  //
    //////////////////////

if skill "Lockpicking" >= 50
    if not timerexists "StealthCheck" 
        createtimer "StealthCheck" 
        settimer "StealthCheck" 0
    endif 

    if not timerexists "StealthTimer" 
        createtimer "StealthTimer"
        settimer "StealthTimer" 0
    endif

    if not timerexists "HidingTimer"
        createtimer "HidingTimer"
        settimer "HidingTimer" 11000
    endif

    if not timerexists "ChestRadar" 
        createtimer "ChestRadar" 
        settimer "ChestRadar" 11000
    endif    

    if not timerexists "SkinningModeTimer" 
        createtimer "SkinningModeTimer" 
        settimer "SkinningModeTimer" 3500
    endif 

    if not timerexists "DungeonCleanupRadar" 
        createtimer "DungeonCleanupRadar" 
        settimer "DungeonCleanupRadar" 3500
    endif 

    if not timerexists "DungeonCleanupTimer" 
        createtimer "DungeonCleanupTimer" 
        settimer "DungeonCleanupTimer" 1000
    endif 

    if not timerexists "DungeonEscape" 
        createtimer "DungeonEscape" 
        settimer "DungeonEscape" 0
    endif 

    if not timerexists "EscapeTimer"
        createtimer "EscapeTimer"
        settimer "EscapeTimer" 120000
    endif
endif
    
    
    //////////////////////
    //  MAGERY TIMERS:  //
    //////////////////////

if skill "Magery" >= 50
    if not timerexists "WizardSatchelTimer" 
        createtimer "WizardSatchelTimer" 
        settimer "WizardSatchelTimer" 60000
    endif

    if not timerexists "MagicShield" 
        createtimer "MagicShield"
        settimer "MagicShield" 15000
    endif

    if not timerexists "MagicReflect"
        createtimer "MagicReflect"
        settimer "MagicReflect" 30000
    endif

    if not timerexists "MagicArmor"
        createtimer "MagicArmor"
        settimer "MagicArmor" 30000
    endif

    if not timerexists "SpiritSpeak"
        createtimer "SpiritSpeak"
        settimer "SpiritSpeak" 10500
    endif

    if not timerexists "GuardCommentTimer" 
        createtimer "GuardCommentTimer" 
        settimer "GuardCommentTimer" 0
    endif 

    if not timerexists "GuardCheckTimer"
        createtimer "GuardCheckTimer"
        settimer "GuardCheckTimer" 30000 
    endif 

    if not timerexists "MushroomTimer" 
        createtimer "MushroomTimer" 
        settimer "MushroomTimer" 0
    endif

    if not timerexists "MeditatingTimer"
        createtimer "MeditatingTimer"
        settimer "MeditatingTimer" 0
    endif

    if not timerexists "WeakenCD" 
        createtimer "WeakenCD" 
        settimer "WeakenCD" WeakenCooldown
    endif 

    if not timerexists "MagicArrowCD"
        createtimer "MagicArrowCD"
        settimer "MagicArrowCD" MagicArrowCooldown
    endif 

    if not timerexists "HarmCD"
        createtimer "HarmCD"
        settimer "HarmCD" HarmCooldown
    endif 

    if not timerexists "CurseCD"
        createtimer "CurseCD"
        settimer "CurseCD" CurseCooldown
    endif 

    if not timerexists "ExplosionCD"
        createtimer "ExplosionCD"
        settimer "ExplosionCD" ExplosionCooldown
    endif 

    if not timerexists "MindblastCD"
        createtimer "MindblastCD"
        settimer "MindblastCD" 0
    endif 

    if not timerexists "EnergyBoltCD"
        createtimer "EnergyBoltCD"
        settimer "EnergyBoltCD" EnergyBoltCooldown
    endif 

    if not timerexists "LightningCD"
        createtimer "LightningCD"
        settimer "LightningCD" LightningCooldown
    endif 

    if not timerexists "FlamestrikeCD"
        createtimer "FlamestrikeCD"
        settimer "FlamestrikeCD" FlamestrikeCooldown
    endif 

    if not timerexists "FireballCD"
        createtimer "FireballCD"
        settimer "FireballCD" FireballCooldown
    endif 

    if not timerexists "MeteorSwarmCD"
        createtimer "MeteorSwarmCD"
        settimer "MeteorSwarmCD" MeteorSwarmCooldown
    endif 

    if not timerexists "ChainLightningCD"
        createtimer "ChainLightningCD"
        settimer "ChainLightningCD" ChainLightningCooldown
    endif 
endif

///////////////////////
//      CHECKS:      //
///////////////////////

    if EnableAutoParalyzePouch = 1
        if paralyzed
            if EnableOverheadMessages = 1
                overhead "[  [  [ [POP] ]  ]  ]" 2117
            endif
            say "[pouch" 
            if EnableRedAlertOverhead = 1
                overhead "[ !!RED ALERT!! ]" 37
            endif
            @setvar! RedTargetFound 1
            @setvar! TimeToGo 1
        endif
    endif

    if EnablePKradar = 1 and skill "Tracking" < 50
        if timer "PKRadar" > 1000
            hotkey "Next Murderer Player Target"
            wait 500
            if insysmsg "No one matching that was found"
                settimer "PKRadar" 0
            else
                if DungeonMode = 1 and EnableAutoRedDungeonGate = 1
                    hotkey "Toggle War Only"
                elseif DungeonMode = 1 and EnableAutoRedDungeonGate = 0
                    if not hidden
                        useskill "Hiding"
                    endif
                elseif DungeonMode = 0
                    @setvar! RedTargetFound 1
                    @setvar! TimeToGo 1
                endif 
                @setvar! MurdererTarget lasttarget
                clearsysmsg
                replay 
            endif 
        endif
    endif 

    if EnableTrackingAutoRecall = 1 and RedTargetFound != 1
        if skill "Tracking" > 50 and not findbuff "tracking"
            while not gumpexists 4267467659
                useskill "tracking"
                wait 250
            endwhile
            if gumpexists 4267467659
                while not insysmsg "You will now hunt all hostile players."
                    gumpresponse 8 4267467659
                    waitforgump 4267467659 5000
                endwhile
                gumpresponse 6 4267467659
                wait 1000
                clearsysmsg
            endif
            gumpclose 4267467659
            if EnableOverheadMessages = 1
                overhead "*tracking reds...*" 334
            endif
        endif 

        if PKTrackingRange = 60 
             if insysmsg ": 60 step" or insysmsg "60 space" or insysmsg ": 59 step" or insysmsg "59 space" or insysmsg ": 58 step" or insysmsg "58 space" or insysmsg ": 57 step" or insysmsg "57 space" or insysmsg ": 56 step" or insysmsg "56 space" or insysmsg ": 55 step" or insysmsg "55 space" or insysmsg ": 54 step" or insysmsg "54 space" or insysmsg ": 53 step" or insysmsg "53 space" or insysmsg ": 52 step" or insysmsg "52 space" or insysmsg ": 51 step" or insysmsg "51 space" or insysmsg ": 50 step" or insysmsg "50 space" or insysmsg ": 49 step" or insysmsg "49 space" or insysmsg ": 48 step" or insysmsg "48 space" or insysmsg ": 47 step" or insysmsg "47 space" or insysmsg ": 46 step" or insysmsg "46 space" or insysmsg ": 45 step" or insysmsg "45 space" or insysmsg ": 44 step" or insysmsg "44 space" or insysmsg ": 43 step" or insysmsg "43 space" or insysmsg ": 42 step" or insysmsg "42 space" or insysmsg ": 41 step" or insysmsg "41 space" or insysmsg ": 40 step" or insysmsg "40 space" or insysmsg ": 39 step" or insysmsg "39 space" or insysmsg ": 38 step" or insysmsg "38 space" or insysmsg ": 37 step" or insysmsg "37 space" or insysmsg ": 36 step" or insysmsg "36 space" or insysmsg ": 35 step" or insysmsg "35 space" or insysmsg ": 34 step" or insysmsg "34 space" or insysmsg ": 33 step" or insysmsg "33 space" or insysmsg ": 32 step" or insysmsg "32 space" or insysmsg ": 31 step" or insysmsg "31 space" or insysmsg ": 30 step" or insysmsg "30 space" or insysmsg ": 29 step" or insysmsg "29 space" or insysmsg ": 28 step" or insysmsg "28 space" or insysmsg ": 27 step" or insysmsg "27 space" or insysmsg ": 26 step" or insysmsg "26 space" or insysmsg ": 25 step" or insysmsg "25 space" or insysmsg ": 24 step" or insysmsg "24 space" or insysmsg ": 23 step" or insysmsg "23 space" or insysmsg ": 22 step" or insysmsg "22 space" or insysmsg ": 21 step" or insysmsg "21 space" or insysmsg ": 20 step" or insysmsg "20 space" or insysmsg ": 19 step" or insysmsg "19 space" or insysmsg ": 18 step" or insysmsg "18 space" or insysmsg ": 17 step" or insysmsg "17 space" or insysmsg ": 16 step" or insysmsg "16 space" or insysmsg ": 15 step" or insysmsg "15 space" or insysmsg ": 14 step" or insysmsg "14 space" or insysmsg ": 13 step" or insysmsg "13 space" or insysmsg ": 12 step" or insysmsg "12 space" or insysmsg ": 11 step" or insysmsg "11 space" or insysmsg ": 10 step" or insysmsg "10 space" or insysmsg ": 9 step" or insysmsg "(9 space" or insysmsg ": 8 step" or insysmsg "(8 space" or insysmsg ": 7 step" or insysmsg "(7 space" or insysmsg ": 6 step" or insysmsg "(6 space" or insysmsg ": 5 step" or insysmsg "(5 space" or insysmsg ": 4 step" or insysmsg "(4 space" or insysmsg ": 3 step" or insysmsg "(3 space" or insysmsg ": 2 step" or insysmsg "(2 space" or insysmsg ": 1 step" or insysmsg "(1 space" or insysmsg ": 0 step" or insysmsg "(0 space"
                if EnableRedAlertOverhead = 1
                    overhead "[ !! RED ALERT !! ]" 37
                endif 
                if DungeonMode = 1 and EnableAutoRedDungeonGate = 1
                    hotkey "Toggle War Only"
                elseif DungeonMode = 1 and EnableAutoRedDungeonGate = 0
                    if not hidden
                        useskill "Hiding"
                    endif
                elseif DungeonMode = 0
                    @setvar! RedTargetFound 1
                    @setvar! TimeToGo 1
                    clearsysmsg
                endif 
            endif
        elseif PKTrackingRange = 50 
            if insysmsg ": 50 step" or insysmsg "50 space" or insysmsg ": 49 step" or insysmsg "49 space" or insysmsg ": 48 step" or insysmsg "48 space" or insysmsg ": 47 step" or insysmsg "47 space" or insysmsg ": 46 step" or insysmsg "46 space" or insysmsg ": 45 step" or insysmsg "45 space" or insysmsg ": 44 step" or insysmsg "44 space" or insysmsg ": 43 step" or insysmsg "43 space" or insysmsg ": 42 step" or insysmsg "42 space" or insysmsg ": 41 step" or insysmsg "41 space" or insysmsg ": 40 step" or insysmsg "40 space" or insysmsg ": 39 step" or insysmsg "39 space" or insysmsg ": 38 step" or insysmsg "38 space" or insysmsg ": 37 step" or insysmsg "37 space" or insysmsg ": 36 step" or insysmsg "36 space" or insysmsg ": 35 step" or insysmsg "35 space" or insysmsg ": 34 step" or insysmsg "34 space" or insysmsg ": 33 step" or insysmsg "33 space" or insysmsg ": 32 step" or insysmsg "32 space" or insysmsg ": 31 step" or insysmsg "31 space" or insysmsg ": 30 step" or insysmsg "30 space" or insysmsg ": 29 step" or insysmsg "29 space" or insysmsg ": 28 step" or insysmsg "28 space" or insysmsg ": 27 step" or insysmsg "27 space" or insysmsg ": 26 step" or insysmsg "26 space" or insysmsg ": 25 step" or insysmsg "25 space" or insysmsg ": 24 step" or insysmsg "24 space" or insysmsg ": 23 step" or insysmsg "23 space" or insysmsg ": 22 step" or insysmsg "22 space" or insysmsg ": 21 step" or insysmsg "21 space" or insysmsg ": 20 step" or insysmsg "20 space" or insysmsg ": 19 step" or insysmsg "19 space" or insysmsg ": 18 step" or insysmsg "18 space" or insysmsg ": 17 step" or insysmsg "17 space" or insysmsg ": 16 step" or insysmsg "16 space" or insysmsg ": 15 step" or insysmsg "15 space" or insysmsg ": 14 step" or insysmsg "14 space" or insysmsg ": 13 step" or insysmsg "13 space" or insysmsg ": 12 step" or insysmsg "12 space" or insysmsg ": 11 step" or insysmsg "11 space" or insysmsg ": 10 step" or insysmsg "10 space" or insysmsg ": 9 step" or insysmsg "(9 space" or insysmsg ": 8 step" or insysmsg "(8 space" or insysmsg ": 7 step" or insysmsg "(7 space" or insysmsg ": 6 step" or insysmsg "(6 space" or insysmsg ": 5 step" or insysmsg "(5 space" or insysmsg ": 4 step" or insysmsg "(4 space" or insysmsg ": 3 step" or insysmsg "(3 space" or insysmsg ": 2 step" or insysmsg "(2 space" or insysmsg ": 1 step" or insysmsg "(1 space" or insysmsg ": 0 step" or insysmsg "(0 space"
                if EnableRedAlertOverhead = 1
                    overhead "[ !! RED ALERT !! ]" 37
                endif 
                if DungeonMode = 1 and EnableAutoRedDungeonGate = 1
                    hotkey "Toggle War Only"
                elseif DungeonMode = 1 and EnableAutoRedDungeonGate = 0
                    if not hidden
                        useskill "Hiding"
                    endif
                elseif DungeonMode = 0
                    @setvar! RedTargetFound 1
                    @setvar! TimeToGo 1
                    clearsysmsg
                endif 
            endif
        elseif PKTrackingRange = 40
            if insysmsg ": 40 step" or insysmsg "40 space" or insysmsg ": 39 step" or insysmsg "39 space" or insysmsg ": 38 step" or insysmsg "38 space" or insysmsg ": 37 step" or insysmsg "37 space" or insysmsg ": 36 step" or insysmsg "36 space" or insysmsg ": 35 step" or insysmsg "35 space" or insysmsg ": 34 step" or insysmsg "34 space" or insysmsg ": 33 step" or insysmsg "33 space" or insysmsg ": 32 step" or insysmsg "32 space" or insysmsg ": 31 step" or insysmsg "31 space" or insysmsg ": 30 step" or insysmsg "30 space" or insysmsg ": 29 step" or insysmsg "29 space" or insysmsg ": 28 step" or insysmsg "28 space" or insysmsg ": 27 step" or insysmsg "27 space" or insysmsg ": 26 step" or insysmsg "26 space" or insysmsg ": 25 step" or insysmsg "25 space" or insysmsg ": 24 step" or insysmsg "24 space" or insysmsg ": 23 step" or insysmsg "23 space" or insysmsg ": 22 step" or insysmsg "22 space" or insysmsg ": 21 step" or insysmsg "21 space" or insysmsg ": 20 step" or insysmsg "20 space" or insysmsg ": 19 step" or insysmsg "19 space" or insysmsg ": 18 step" or insysmsg "18 space" or insysmsg ": 17 step" or insysmsg "17 space" or insysmsg ": 16 step" or insysmsg "16 space" or insysmsg ": 15 step" or insysmsg "15 space" or insysmsg ": 14 step" or insysmsg "14 space" or insysmsg ": 13 step" or insysmsg "13 space" or insysmsg ": 12 step" or insysmsg "12 space" or insysmsg ": 11 step" or insysmsg "11 space" or insysmsg ": 10 step" or insysmsg "10 space" or insysmsg ": 9 step" or insysmsg "(9 space" or insysmsg ": 8 step" or insysmsg "(8 space" or insysmsg ": 7 step" or insysmsg "(7 space" or insysmsg ": 6 step" or insysmsg "(6 space" or insysmsg ": 5 step" or insysmsg "(5 space" or insysmsg ": 4 step" or insysmsg "(4 space" or insysmsg ": 3 step" or insysmsg "(3 space" or insysmsg ": 2 step" or insysmsg "(2 space" or insysmsg ": 1 step" or insysmsg "(1 space" or insysmsg ": 0 step" or insysmsg "(0 space"
                if EnableRedAlertOverhead = 1
                    overhead "[ !! RED ALERT !! ]" 37
                endif 
                if DungeonMode = 1 and EnableAutoRedDungeonGate = 1
                    hotkey "Toggle War Only"
                elseif DungeonMode = 1 and EnableAutoRedDungeonGate = 0
                    if not hidden
                        useskill "Hiding"
                    endif
                elseif DungeonMode = 0
                    @setvar! RedTargetFound 1
                    @setvar! TimeToGo 1
                    clearsysmsg
                endif 
            endif
        elseif PKTrackingRange = 0 
            if insysmsg "Now tracking"
                if EnableRedAlertOverhead = 1
                    overhead "[ !! RED ALERT !! ]" 37
                endif 
                if DungeonMode = 1 and EnableAutoRedDungeonGate = 1
                    hotkey "Toggle War Only"
                elseif DungeonMode = 1 and EnableAutoRedDungeonGate = 0
                    if not hidden
                        useskill "Hiding"
                    endif
                elseif DungeonMode = 0
                    @setvar! RedTargetFound 1
                    @setvar! TimeToGo 1
                    clearsysmsg
                endif 
            endif
        endif 
    endif

    if TravelCooldownActive = 1
        clearsysmsg 
        hotkey "Use item in hand" 
        wft 1500
        hotkey "Target Self" 
        wait 500
        if insysmsg "must wait 59"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a minute to recover!" 2086
            endif 
            clearsysmsg 
            cooldown "Travel" 59000
            settimer "TravelTimer" 1000
            @setvar! TravelCooldownActive 0
            replay 
        elseif insysmsg "must wait 58"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a minute to recover!" 2086
            endif
            cooldown "Travel" 58000
            settimer "TravelTimer" 2000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 57"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a minute to recover!" 2086
            endif
            cooldown "Travel" 57000
            settimer "TravelTimer" 3000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 56"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a minute to recover!" 2086
            endif
            cooldown "Travel" 56000
            settimer "TravelTimer" 4000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 55"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a minute to recover!" 2086
            endif
            cooldown "Travel" 55000
            settimer "TravelTimer" 5000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 54"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a minute to recover!" 2086
            endif
            cooldown "Travel" 54000
            settimer "TravelTimer" 6000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 53"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a minute to recover!" 2086
            endif
            cooldown "Travel" 53000
            settimer "TravelTimer" 7000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 52"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a minute to recover!" 2086
            endif
            cooldown "Travel" 52000
            settimer "TravelTimer" 8000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 51"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a minute to recover!" 2086
            endif
            cooldown "Travel" 51000
            settimer "TravelTimer" 9000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 50"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a minute to recover!" 2086
            endif
            cooldown "Travel" 50000
            settimer "TravelTimer" 10000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 49"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a minute to recover!" 2086
            endif
            cooldown "Travel" 49000
            settimer "TravelTimer" 11000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 48"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a minute to recover!" 2086
            endif
            cooldown "Travel" 48000
            settimer "TravelTimer" 12000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 47"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a minute to recover!" 2086
            endif
            cooldown "Travel" 47000
            settimer "TravelTimer" 13000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 46"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a minute to recover!" 2086
            endif
            cooldown "Travel" 46000
            settimer "TravelTimer" 14000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 45"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a minute to recover!" 2086
            endif
            cooldown "Travel" 45000
            settimer "TravelTimer" 15000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 44"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a minute to recover!" 2086
            endif
            cooldown "Travel" 44000
            settimer "TravelTimer" 16000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 43"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a minute to recover!" 2086
            endif
            cooldown "Travel" 43000
            settimer "TravelTimer" 17000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 42"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a minute to recover!" 2086
            endif
            cooldown "Travel" 42000
            settimer "TravelTimer" 18000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 41"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a minute to recover!" 2086
            endif
            cooldown "Travel" 41000
            settimer "TravelTimer" 19000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 40"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a bit to recover!" 2086
            endif
            cooldown "Travel" 40000
            settimer "TravelTimer" 20000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 39"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a bit to recover!" 2086
            endif
            cooldown "Travel" 39000
            settimer "TravelTimer" 21000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 38"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a bit to recover!" 2086
            endif
            cooldown "Travel" 38000
            settimer "TravelTimer" 22000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 37"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a bit to recover!" 2086
            endif
            cooldown "Travel" 37000
            settimer "TravelTimer" 23000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 36"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a bit to recover!" 2086
            endif
            cooldown "Travel" 36000
            settimer "TravelTimer" 24000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay                     
        elseif insysmsg "must wait 35"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a bit to recover!" 2086
            endif
            cooldown "Travel" 35000
            settimer "TravelTimer" 25000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 34"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a bit to recover!" 2086
            endif
            cooldown "Travel" 34000
            settimer "TravelTimer" 26000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 33"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a bit to recover!" 2086
            endif
            cooldown "Travel" 33000
            settimer "TravelTimer" 27000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 32"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a bit to recover!" 2086
            endif
            cooldown "Travel" 32000
            settimer "TravelTimer" 28000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 31"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a bit to recover!" 2086
            endif
            cooldown "Travel" 31000
            settimer "TravelTimer" 29000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 30"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a bit to recover!" 2086
            endif
            cooldown "Travel" 30000
            settimer "TravelTimer" 30000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 29"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a bit to recover!" 2086
            endif
            cooldown "Travel" 29000
            settimer "TravelTimer" 31000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 28"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a bit to recover!" 2086
            endif
            cooldown "Travel" 28000
            settimer "TravelTimer" 32000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 27"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a bit longer to recover!" 2086
            endif
            cooldown "Travel" 27000
            settimer "TravelTimer" 33000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 26"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a bit longer to recover!" 2086
            endif
            cooldown "Travel" 26000
            settimer "TravelTimer" 34000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 25"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a bit longer to recover!" 2086
            endif
            cooldown "Travel" 25000
            settimer "TravelTimer" 35000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 24"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a bit longer to recover!" 2086
            endif
            cooldown "Travel" 24000
            settimer "TravelTimer" 36000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 23"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a bit longer to recover!" 2086
            endif
            cooldown "Travel" 23000
            settimer "TravelTimer" 37000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 22"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a bit longer to recover!" 2086
            endif
            cooldown "Travel" 22000
            settimer "TravelTimer" 38000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 21"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a bit longer to recover!" 2086
            endif
            cooldown "Travel" 21000
            settimer "TravelTimer" 39000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 20"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a bit longer to recover!" 2086
            endif
            cooldown "Travel" 20000
            settimer "TravelTimer" 40000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 19"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a bit longer to recover!" 2086
            endif
            cooldown "Travel" 19000
            settimer "TravelTimer" 41000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 18"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a bit longer to recover!" 2086
            endif
            cooldown "Travel" 18000
            settimer "TravelTimer" 42000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 17"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a bit longer to recover!" 2086
            endif
            cooldown "Travel" 17000
            settimer "TravelTimer" 43000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 16"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a bit longer to recover!" 2086
            endif
            cooldown "Travel" 16000
            settimer "TravelTimer" 44000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 15"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a bit longer to recover!" 2086
            endif
            cooldown "Travel" 15000
            settimer "TravelTimer" 45000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 14"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a bit longer to recover!" 2086
            endif
            cooldown "Travel" 14000
            settimer "TravelTimer" 46000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 13"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a little bit longer to recover!" 2086
            endif
            cooldown "Travel" 13000
            settimer "TravelTimer" 47000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 12"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a little bit longer to recover!" 2086
            endif
            cooldown "Travel" 12000
            settimer "TravelTimer" 48000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 11"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a little bit longer to recover!" 2086
            endif
            cooldown "Travel" 11000
            settimer "TravelTimer" 49000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 10"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a little bit longer to recover!" 2086
            endif
            cooldown "Travel" 10000
            settimer "TravelTimer" 50000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 9"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a few more seconds to recover!" 2086
            endif
            cooldown "Travel" 9000
            settimer "TravelTimer" 51000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 8"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a few more seconds to recover!" 2086
            endif
            cooldown "Travel" 8000
            settimer "TravelTimer" 82000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 7"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a few more seconds to recover!" 2086
            endif
            cooldown "Travel" 7000
            settimer "TravelTimer" 53000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay                     
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a few more seconds to recover!" 2086
            endif
            cooldown "Travel" 6000
            settimer "TravelTimer" 54000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 5"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a few more seconds to recover!" 2086
            endif
            cooldown "Travel" 5000
            settimer "TravelTimer" 55000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 4"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a few more seconds to recover!" 2086
            endif
            cooldown "Travel" 4000
            settimer "TravelTimer" 56000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 3"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a few more seconds to recover!" 2086
            endif
            cooldown "Travel" 3000
            settimer "TravelTimer" 57000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 2"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a couple more seconds to recover!" 2086
            endif
            cooldown "Travel" 2000
            settimer "TravelTimer" 58000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        elseif insysmsg "must wait 1"
            if EnableOverheadMessages = 1
                overhead "I am tired from travelling..." 2086
                wait 1500 
                overhead "Just give me a second to recover!" 2086
            endif
            cooldown "Travel" 1000
            settimer "TravelTimer" 59000
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay 
        else 
            @setvar! TravelCooldownActive 0
            clearsysmsg 
            replay             
        endif 
    endif
                        

/////////////////////////
//  AUTO RECALL LOOP:  //
/////////////////////////

    if TimeToGo = 1
        settimer "TargetTimer" 0
        settimer "NoTargetTimer" 0
        settimer "InventoryTimer" 3500
        settimer "ManaTimer" 3500

        if EnableAutoRedRecall = 1 and RedTargetFound = 1 and DungeonMode = 0
            @setvar! MurdererFound 1 
            if EnableDIYRecallScript = 1
                @setvar! RedTargetFound 0                                    
                foreach RecallScript in DIYRecallScriptList
                    script RecallScript
                endfor
            else
                while mana < 11
                    if timer "ManaTimer" > 3500 and EnableOverheadMessages = 1
                        overhead "[ MOVE!! ]" 12
                        settimer "ManaTimer" 0
                    endif 
                    wait 500
                endwhile
                @setvar! RECALLTIME 1
            endif 
        elseif EnableTrackingAutoRecall = 1 and RedTargetFound = 1 and DungeonMode = 0
            @setvar! MurdererFound 1 
            if EnableDIYRecallScript = 1
                @setvar! RedTargetFound 0                                    
                foreach RecallScript in DIYRecallScriptList
                    script RecallScript
                endfor
            else
                while mana < 11
                    if timer "ManaTimer" > 3500 and EnableOverheadMessages = 1
                        overhead "[ MOVE!! ]" 12
                        settimer "ManaTimer" 0
                    endif 
                    wait 500
                endwhile
                @setvar! RECALLTIME 1
            endif 
        elseif EnableBoardAutoRecall = 1 or EnableIngotAutoRecall = 1 and AutoRecallTriggered = 1
            if EnableDIYRecallScript = 1
                @setvar! DungeonGateThenTimeToGo 0
                foreach RecallScript in DIYRecallScriptList
                    script RecallScript
                endfor
            else
                while mana < 11
                    if timer "ManaTimer" > 3500 and EnableOverheadMessages = 1
                        overhead "*waiting for mana...*" 12
                        settimer "ManaTimer" 0
                    endif  
                    wait 500
                endwhile
                if EnableOverheadMessages = 1
                    overhead "[ AUTO RECALL! ]" 88
                    wait 1000
                endif
                @setvar! AutoRecallTriggered 0
                @setvar! TimeToGo 0
                @setvar! RECALLTIME 1
            endif
        elseif EnableRecallAfterDungeonGate = 1 and DungeonGateThenTimeToGo = 1 
            if EnableDIYRecallScript = 1
                @setvar! DungeonGateThenTimeToGo 0
                foreach RecallScript in DIYRecallScriptList
                    script RecallScript
                endfor
            else
                while mana < 11
                    if timer "ManaTimer" > 3500 and EnableOverheadMessages = 1
                        overhead "*waiting for mana...*" 12
                        settimer "ManaTimer" 0
                    endif  
                    wait 500
                endwhile
                if EnableOverheadMessages = 1
                    overhead "[ AUTO RECALL! ]" 88
                    wait 1000
                endif
                @setvar! DungeonGateThenTimeToGo 0
                @setvar! TimeToGo 0
                @setvar! RECALLTIME 1
            endif
        elseif EnableRecallAfterRessurection = 1 and ResThenTimeToGo = 1
            if EnableDIYRecallScript = 1
                @setvar! ResThenTimeToGo 0
                foreach RecallScript in DIYRecallScriptList
                    script RecallScript
                endfor
            else
                while mana < 11
                    if timer "ManaTimer" > 3500 and EnableOverheadMessages = 1
                        overhead "*waiting for mana...*" 12
                        settimer "ManaTimer" 0
                    endif 
                    wait 500
                endwhile
                if EnableOverheadMessages = 1
                    overhead "[ AUTO RECALL! ]" 88
                    wait 1000
                endif
                @setvar! ResThenTimeToGo 0
                @setvar! RECALLTIME 1
            endif
        elseif warmode and DungeonMode = 1
            if EnableAutoRedDungeonGate = 1 or EnableAutoWeightDungeonGate = 1 or EnableWarModeDungeonGate = 1
                settimer "TargetTimer" 3500
        
                if RedTargetFound = 1 and timer "TargetTimer" > 3500 and EnableRedAlertOverhead = 1
                    overhead "[ !! RED ALERT !! ]" 37 
                    settimer "TargetTimer" 0
                    @setvar! MurdererFound 0 
                endif
                
                settimer "NoTargetTimer" 3500 
                settimer "DungeonEscape" 0
                wait 500
                
                while timer "DungeonEscape" < 120000
                    if EnablePKradar = 1 and skill "Tracking" < 50
                        if timer "PKRadar" > 1000
                            clearsysmsg
                            hotkey "Next Murderer Player Target"
                            wait 250
                            if insysmsg "No one matching that was found"
                                settimer "EscapeTimer" 120000
                                if EnableOverheadMessages = 1 and timer "EscapeTimer" > 120000
                                    overhead "[ GATE ESCAPE! ]" 88
                                    settimer "EscapeTimer" 0
                                endif 
                                settimer "PKRadar" 0
                                clearsysmsg
                            else
                                if EnableRedAlertOverhead = 1 and timer "TargetTimer" > 3500
                                    overhead "[ !! RED ALERT !! ]" 37
                                    settimer "TargetTimer" 0
                                    @setvar! MurdererTarget lasttarget
                                endif 
                            endif 
                        endif
                    endif 

                    if skill "Healing" > 30
                        if counttype "clean bandage%s%" = 0 
                            if EnableOverheadMessages = 1 and timer "InventoryTimer" > 3500
                                overhead "[ NO BANDAGES! ]" 337
                                settimer "InventoryTimer" 0
                            endif
                        endif 
                        if not bandaging 
                            if hp < maxhp or poisoned or findbuff "bleed" or findbuff "disease" 
                                if counttype "clean bandage%s%" < 10 
                                    if EnableOverheadMessages = 1 and timer "InventoryTimer" > 3500
                                        overhead "[ BANDAGES LOW! ]" 339
                                        settimer "InventoryTimer" 0
                                    endif
                                    hotkey "Bandage Self"
                                else
                                    if EnableOverheadMessages = 1
                                        overhead "[ BANDAGING... ]" 88
                                    endif
                                    hotkey "Bandage Self"
                                    wait 500
                                endif 
                            endif 
                        endif
                    endif

                    if EnableHealPotion = 1 or EnableHealPotion = 2
                        if diffhits > HealPotHPdiff and timer "HealingPotionTimer" > HealingPotionCooldown
                            if findtype "Yellow Potion" self as healpot
                                dclick healpot
                                wait 750
                                if insysmsg "Potion satchel used"
                                    if EnableOverheadMessages = 1 
                                        overhead "*drinking free heal potion...*" 253
                                    endif
                                    clearsysmsg
                                else 
                                    if EnableOverheadMessages = 1 
                                        overhead "*drinking heal potion...*" 253
                                    endif
                                    clearsysmsg
                                endif
                                settimer "HealingPotionTimer" 0
                                cooldown "Healing Potion" HealingPotionCooldown
                            else 
                                if timer "InventoryTimer" > 6000
                                    if EnableOverheadMessages = 1 
                                        overhead "[ NO HEAL POTS! ]" 337
                                    endif
                                    settimer "InventoryTimer" 0
                                endif
                            endif
                            wait 500 
                        endif
                    endif 

                    if EnableCurePotion = 1 or EnableCurePotion = 2
                        if poisoned and timer "CurePotionTimer" > CurePotionCooldown
                            if findtype "Orange Potion" self as curepot
                                dclick curepot
                                wait 500
                                if insysmsg "Potion satchel used"
                                    if EnableOverheadMessages = 1 
                                        overhead "*drinking free cure potion...*" 44
                                    endif
                                    clearsysmsg
                                else 
                                    if EnableOverheadMessages = 1 
                                        overhead "*drinking cure potion...*" 44
                                    endif
                                    clearsysmsg
                                endif
                                settimer "CurePotionTimer" 0
                                cooldown "Cure Potion" CurePotionCooldown
                            else
                                if timer "InventoryTimer" > 6000
                                    if EnableOverheadMessages = 1 
                                        overhead "[ NO CURE POTS! ]" 337
                                    endif
                                    settimer "InventoryTimer" 0
                                endif
                            endif
                            wait 500 
                        endif
                    endif 

                    if EnableRefreshPotion = 1 or EnableRefreshPotion = 2
                        if diffstam >= RefreshPotSPdiff and timer "RefreshPotionTimer" > RefreshPotionCooldown
                            if findtype "Red Potion" self as refreshpot
                                dclick refreshpot
                                wait 500
                                if insysmsg "Potion satchel used"
                                    if EnableOverheadMessages = 1 
                                        overhead "*drinking free refresh potion...*" 34
                                    endif
                                    clearsysmsg
                                else 
                                    if EnableOverheadMessages = 1 
                                        overhead "*drinking refresh potion...*" 34
                                    endif
                                    clearsysmsg
                                endif
                                settimer "RefreshPotionTimer" 0
                                cooldown "Refresh Potion" RefreshPotionCooldown
                            else 
                                if timer "InventoryTimer" > 6000
                                    if EnableOverheadMessages = 1 
                                        overhead "[ NO REFRESH POTS! ]" 337
                                    endif
                                    settimer "InventoryTimer" 0
                                endif
                            endif
                            wait 500 
                        endif
                    endif 

                    if EnableAutoParalyzePouch = 1
                        if paralyzed
                            if findtype "pouch" self
                                yell "[pouch"
                                @setvar! TimeToGo 1
                                @setvar! RedTargetFound 1
                                replay
                            else
                                if EnableOverheadMessages = 1
                                    overhead "[ NO MORE POUCHES! ]" 337
                                endif
                            endif
                       endif
                    endif

                    if EnableDropGoldWhenOverweight = 1
                        while weight > maxweight 
                            if timer "InventoryTimer" > 3500 and EnableOverheadMessages = 1
                                overhead "[ OVERWEIGHT! ]" 37 
                                settimer "InventoryTimer" 0
                            endif 
                            if findtype "gold coin" backpack as easygo
                                lift easygo DropGoldAmount
                                droprelloc 0 0
                                wait 500
                                if insysmsg "cannot drop anything"
                                    drop backpack -1 -1 -1
                                endif
                                settimer "GoldVacuum" 0
                            else
                                if timer "InventoryTimer" > 3500 and EnableOverheadMessages = 1
                                    overhead "[ OVERWEIGHT! ]" 37 
                                    settimer "InventoryTimer" 0
                                endif 
                            endif
                        endwhile 
                    endif 

                    if not warmode
                        if EnableOverheadMessages = 1
                            overhead "[ ESCAPE CANCELLED! ]" 88
                        else 
                            overhead "  " 88
                        endif
                        replay
                    endif 

                    while not gumpexists 3899019871 and findtype "blue moongate" ground 0 1 2 as EscapeGate
                        dclick EscapeGate
                    endwhile

                    if gumpexists 3899019871 and findtype "blue moongate" ground 0 1 2 as EscapeGate
                        while gumpexists 3899019871 and findtype "blue moongate" ground 0 1 2 as EscapeGate
                            gumpresponse 2 3899019871
                            wait 200
                        endwhile
                        wait 1500
                        @setvar! TimeToGo 0
                        if EnableDIYRecallScript = 1
                            foreach RecallScript in DIYRecallScriptList
                                script RecallScript
                            endfor
                        else 
                            @setvar! TimeToGo 1
                            @setvar! DungeonGateThenTimeToGo 1
                            replay
                        endif
                    endif

                    while not gumpexists 3899019871 and findtype 30528 ground 2091 1 1 as EscapeGate
                        dclick EscapeGate
                    endwhile

                    if gumpexists 3899019871 and findtype 30528 ground 2091 1 1 as EscapeGate
                        while gumpexists 3899019871 and findtype 30528 ground 2091 1 1 as EscapeGate
                            gumpresponse 2 3899019871
                            wait 200
                        endwhile
                        @setvar! TimeToGo 0
                        if EnableDIYRecallScript = 1
                            foreach RecallScript in DIYRecallScriptList
                                script RecallScript
                            endfor
                        else 
                            @setvar! TimeToGo 1
                            @setvar! DungeonGateThenTimeToGo 1
                            replay
                        endif
                    endif

                    while not gumpexists 3773199800 and findtype "blue moongate" ground -1 1 2 as EscapeGate
                        dclick EscapeGate
                    endwhile

                    if gumpexists 3773199800 and findtype "blue moongate" ground -1 1 2 as EscapeGate
                        while gumpexists 3773199800 and findtype "blue moongate" ground -1 1 2 as EscapeGate
                            gumpresponse 2 3773199800
                            wait 200
                        endwhile
                        wait 1500
                        @setvar! TimeToGo 0
                        if EnableDIYRecallScript = 1
                            foreach RecallScript in DIYRecallScriptList
                                script RecallScript
                            endfor
                        else 
                            @setvar! TimeToGo 1
                            @setvar! DungeonGateThenTimeToGo 1
                            replay
                        endif
                    endif

                    while not gumpexists 3899019871 and findtype "moongate" ground -1 -1 2 as EscapeGate
                        dclick EscapeGate
                    endwhile

                    if gumpexists 3899019871 and findtype "moongate" ground -1 -1 2 as EscapeGate
                        while gumpexists 3899019871 and findtype "moongate" ground -1 -1 2 as EscapeGate
                            gumpresponse 2 3899019871
                            wait 200
                        endwhile
                        wait 1500
                        @setvar! TimeToGo 0
                        if EnableDIYRecallScript = 1
                            foreach RecallScript in DIYRecallScriptList
                                script RecallScript
                            endfor
                        else 
                            @setvar! TimeToGo 1
                            @setvar! DungeonGateThenTimeToGo 1
                            replay
                        endif
                    endif

                    if findtype "moongate" ground -1 1 12 or findtype "blue moongate" ground -1 1 12 as EscapeGate
                        if timer "TargetTimer" > 3500 
                            if EnableOverheadMessages = 1 
                                overhead "[ GET CLOSER! ]" 69
                            else 
                                overhead "  " 69
                            endif
                            settimer "TargetTimer" 0
                        endif
                        if timer "NoTargetTimer" > 3500 
                            overhead "  " 253 EscapeGate
                            settimer "NoTargetTimer" 0
                        endif
                    else 
                        if timer "TargetTimer" > 3500
                            if EnableOverheadMessages = 1 
                                overhead "[ GET TO A GATE... ]" 253
                            else
                                overhead "  " 253
                            endif
                            settimer "TargetTimer" 0
                        endif 
                    endif
                endwhile
            endif 
        endif                        

        if RECALLTIME = 1
            if skill "Magery" >= 60 and EnableCastRecall = 1
                cast "Recall"
                while casting
                    wait 100
                endwhile 
                if CasttoRunebook = 1
                    if skill "Lockpicking" > 50
                        target dungeoncrawler_runebook                    
                    elseif skill "Fishing" > 50 
                        target fishing_runebook                     
                    elseif skill "Mining" > 50
                        target mining_runebook
                    elseif skill "Lumberjacking" > 50  
                        target lumber_runebook                    
                    endif 
                elseif CasttoRune = 1
                    if skill "Lockpicking" > 50
                        target dungeoncrawler_rune             
                    elseif skill "Fishing" > 50 
                        target fishing_rune                   
                    elseif skill "Mining" > 50
                        target mining_rune
                    elseif skill "Lumberjacking" > 50  
                        target lumber_rune      
                    endif 
                endif 
                wait 1000
                for 5
                wait 500
                if insysmsg "Your concentration is disturbed"
                    if diffhits > 25 timer "HealingPotionTimer" > HealingPotionCooldown
                        if findtype "Yellow Potion" self as healpot
                            dclick healpot
                            wait 750
                            cooldown "Healing Potion" HealingPotionCooldown
                        endif
                    endif

                    if poisoned and timer "CurePotionTimer" > CurePotionCooldown
                        if findtype "Orange Potion" self as curepot
                            dclick curepot
                            wait 500
                            cooldown "Cure Potion" CurePotionCooldown
                        endif
                    endif
                    clearsysmsg
                    overhead "[ INTERUPTED! ]" 153
                    cast "Recall"
                    while casting 
                        wait 100
                    endwhile
                    if CasttoRunebook = 1
                        if skill "Lockpicking" > 50
                            target dungeoncrawler_runebook                    
                        elseif skill "Fishing" > 50 
                            target fishing_runebook                     
                        elseif skill "Mining" > 50
                            target mining_runebook
                        elseif skill "Lumberjacking" > 50  
                            target lumber_runebook                    
                        endif 
                    elseif CasttoRune = 1
                        if skill "Lockpicking" > 50
                            target dungeoncrawler_rune             
                        elseif skill "Fishing" > 50 
                            target fishing_rune                   
                        elseif skill "Mining" > 50
                            target mining_rune
                        elseif skill "Lumberjacking" > 50  
                            target lumber_rune      
                        endif 
                    endif
                    if insysmsg "Your concentration is disturbed"
                        wait 1000
                    else 
                        break
                    endif 
                endif
                endfor
            else
                if skill "Lockpicking" > 50
                    dclick dungeoncrawler_runebook
                elseif skill "Fishing" > 50
                    dclick fishing_runebook 
                elseif skill "Mining" > 50
                   dclick mining_runebook
                elseif skill "Lumberjacking" > 50 
                    dclick lumber_runebook
                endif 
                waitforgump 1551740969 
                gumpresponse 2
                wait 1000             
                for 5
                wait 500
                if insysmsg "Your concentration is disturbed"
                    if diffhits > 25 and timer "HealingPotionTimer" > HealingPotionCooldown
                        if findtype "Yellow Potion" self as healpot
                            dclick healpot
                            wait 750
                            cooldown "Healing Potion" HealingPotionCooldown
                        endif
                    endif

                    if poisoned and timer "CurePotionTimer" > CurePotionCooldown
                        if findtype "Orange Potion" self as curepot
                            dclick curepot
                            wait 500
                            cooldown "Cure Potion" CurePotionCooldown
                        endif
                    endif
                    clearsysmsg
                    overhead "[ INTERUPTED! ]" 153
                    if skill "Lockpicking" > 50
                        dclick dungeoncrawler_runebook
                    elseif skill "Fishing" > 50
                        dclick fishing_runebook      
                    elseif skill "Mining" > 50
                        dclick mining_runebook
                    elseif skill "Lumberjacking" > 50
                        dclick lumber_runebook
                    endif 
                    clearsysmsg
                    waitforgump 1551740969 
                    gumpresponse 2
                    wait 1000 
                    clearsysmsg 
                endif                 
                endfor
            endif

            wait 2500

            if OutsideHouseRecall = 1
                wait 2000
                if find MyDoor ground -1 -1 2 and EnableCloseMyDoor = 1
                    dclick MyDoor 
                    overhead "*door slams!*" 0 MyDoor
                    wait 1000
                endif
                wait 2500
            elseif OwnerInnRecall = 1
                wait 500
                say "Innkeeper, I need a room!"
                waitforgump 2393832411
                gumpresponse 4
                wait 1500
            elseif CoOwnerInnRecall = 1
                wait 500
                say "Innkeeper, I need a room!"
                waitforgump 2393832411
                gumpresponse 5
                wait 500
                gumpresponse 100
                wait 1500
            elseif InsideHouseRecall = 1
                wait 500
            elseif BankRecall = 1
                say "Open my bank!"
                wait 1000
            else 
                wait 500
            endif

            if HideAtHomeorInn = 1
                useskill "Hiding"
            endif

            clearignore 
            @setvar! RECALLTIME 0

            if EnableWeaponCheck = 1 and DEAD != 1
                if skill "Swordsmanship" >= 50 
                    if not findtype "30988|5049|3909|3911|3915|3917|3934|3937|5046|5115|5119|5182|5185|5187|31128|31190" self    
                        overhead "[ NO WEAPON! ]" 337
                    else
                        if not findtype "30988|5049|3909|3911|3915|3917|3934|3937|5046|5115|5119|5182|5185|5187|31128|31190" hand 
                            if findtype "30988|5049|3909|3911|3915|3917|3934|3937|5046|5115|5119|5182|5185|5187|31128|31190" backpack as weapon
                                for 10
                                getlabel weapon WeaponLabel
                                wait 500
                                if "aspect" in WeaponLabel
                                    break
                                else
                                     @ignore weapon
                                    wait 150
                                    if findtype "30988|5049|3909|3911|3915|3917|3934|3937|5046|5115|5119|5182|5185|5187|31128|31190" backpack as weapon
                                        getlabel weapon WeaponLabel
                                    endif
                                endif 
                                endfor  
                                wait 150
                                dclick weapon
                                wait 500
                            endif 
                        endif
                    endif
                elseif skill "Mace Fighting" >= 50 
                    if not findtype "3568|3713|3721|3932|5040|5044|5112|5127|5177|5179|5181|30991|30999|31000|31001|31014|31178|31180|31182" self
                        overhead "[ NO WEAPON! ]" 337
                    else
                        if not findtype "3568|3713|3721|3932|5040|5044|5112|5127|5177|5179|5181|30991|30999|31000|31001|31014|31178|31180|31182" hand 
                            if findtype "3568|3713|3721|3932|5040|5044|5112|5127|5177|5179|5181|30991|30999|31000|31001|31014|31178|31180|31182" backpack as weapon
                                for 10
                                getlabel weapon WeaponLabel
                                wait 500
                                if "aspect" in WeaponLabel
                                    break
                                else
                                     @ignore weapon
                                    wait 150
                                    if findtype "3568|3713|3721|3932|5040|5044|5112|5127|5177|5179|5181|30991|30999|31000|31001|31014|31178|31180|31182" backpack as weapon
                                        getlabel weapon WeaponLabel
                                    endif
                                endif 
                                endfor  
                                wait 150
                                dclick weapon
                                wait 500
                            endif 
                        endif
                    endif
                elseif skill "Magery" >= 80 and not findtype "spellbook" hand and findtype "spellbook" backpack as myspellbook
                    getlabel myspellbook SpellbookLabel
                    for 5
                    wait 500
                    if "aspect" in SpellbookLabel
                        break
                    elseif "unidentified" in SpellbookLabel or "[blessed" in SpellbookLabel or "spells)" in SpellbookLabel 
                        @ignore myspellbook 
                        wait 250
                        if not findtype "spellbook" hand and findtype "spellbook" self as myspellbook
                            getlabel myspellbook SpellbookLabel
                        else 
                            overhead "[ NO SPELLBOOK! ]" 337
                            break
                        endif
                    endif 
                    endfor
                    dclick myspellbook
                endif
            endif

            if MurdererFound = 1 
                if EnableOverheadMessages = 1
                    overhead "Whew!  I think we got away..." 2086
                endif
                wait 1500
                @setvar! MurdererFound 0        
                if not varexist GuardHomeComment 
                    @setvar! GuardHomeComment 1
                endif
                if EnableOverheadMessages = 1
                    if EnableSummons = 1 and GuardHomeComment = 1 and followers >= 1
                        wait 1500
                        overhead "Yes Master, that was a close one..." 44 myMainTankPet
                        menu myMainTankPet 3
                        clearsysmsg 
                        @setvar! GuardHomeComment 2
                        wait 500
                    elseif EnableSummons = 1 and GuardHomeComment = 2 and followers >= 1
                        wait 1500
                        overhead "Yes Master, your script is truly God-like..." 44 myMainTankPet
                        menu myMainTankPet 3
                        clearsysmsg 
                        @setvar! GuardHomeComment 3
                        wait 500
                    elseif EnableSummons = 1 and GuardHomeComment = 3 and followers >= 1
                        wait 1500
                        overhead "Yes Master, these red humans are quite annoying..." 44 myMainTankPet
                        menu myMainTankPet 3
                        clearsysmsg 
                        @setvar! GuardHomeComment 4
                        wait 500
                    elseif EnableSummons = 1 and GuardHomeComment = 4 and followers >= 1
                        wait 1500
                        overhead "I think we could have taken them..." 44 myMainTankPet
                        menu myMainTankPet 3
                        clearsysmsg 
                        @setvar! GuardHomeComment 5
                        wait 500
                    elseif EnableSummons = 1 and GuardHomeComment = 5 and followers >= 1
                        wait 1500
                        overhead "I worked for that human before... total prick..." 44 myMainTankPet
                        menu myMainTankPet 3
                        clearsysmsg 
                        @setvar! GuardHomeComment 6
                        wait 500
                    elseif EnableSummons = 1 and GuardHomeComment = 6 and followers >= 1
                        wait 1500
                    overhead "I do not think tonight is our night, Master.." 44 myMainTankPet
                        menu myMainTankPet 3
                        clearsysmsg 
                        @setvar! GuardHomeComment 1
                        wait 500
                    endif
                endif 
            endif       

            if OpenIngotBag = 1 
                dclick IngotBag
                wait 250
            endif

            if OpenBoardBag = 1 
                dclick BoardBag
                wait 250
            endif 

            if findtype "wooden box" backpack as LootBox
                if findtype "copper key" backpack as LootKey
                    getlabel LootBox LootBoxLabel
                    if "items" in LootBoxLabel
                        // Do nothing
                    else
                        dclick LootKey
                        wft 1000
                        target LootBox
                        overhead "[lockbox opened]" 69 LootBox
                        wait 500
                        dclick LootBox
                        wait 250
                    endif
                else 
                    if EnableOverheadMessages = 1
                        overhead "I lost my lockbox key!" 2086
                    else 
                        overhead "[ NO LOCKBOX KEY ]" 337
                    endif
                endif
            endif

            while findtype "iron ore" backpack as ore
                if findtype "forge" ground -1 -1 2 as forge or findtype 0x0FB1 ground -1 -1 2 as forge
                    if EnableOverheadMessages = 1
                        overhead "*smelting ore...*" 2114 forge
                    endif
                    dclick ore
                    if EnableOverheadMessages = 1
                        overhead "*forging ingots...*" 2117
                    endif
                    wait 500
                endif 
            endwhile

           if EnablePackAnimals = 1
                wait 500
                if find myMainPackAnimal ground -1 -1 2
                    getlabel myMainPackAnimal PackyLabel
                    if "[0/2000|[0/4000" in PackyLabel
                        // Do nothing
                    else
                        dclick myMainPackAnimal 
                        wait 500
                        while findtype "iron ore" myMainPackAnimal as packyoretosmelt
                            dclick packyoretosmelt
                            if timer "PackySmeltTimer" > 3500 and EnableOverheadMessages = 1 
                                overhead "*smelting from pack animal...*" 2114 myMainPackAnimal 
                                settimer "PackySmeltTimer" 0
                            endif 
                            wait 650
                        endwhile
                        @setvar! NeedtoSecureIngots 1
                    endif
                endif 
                wait 500
                if find mySecondPackAnimal ground -1 -1 2
                    getlabel mySecondPackAnimal TwoPackyLabel
                    if "[0/2000|[0/4000" in TwoPackyLabel
                        // Do nothing
                    else
                        dclick mySecondPackAnimal 
                        wait 500
                        while findtype "iron ore" myMainPackAnimal as twopackyoretosmelt
                            dclick twopackyoretosmelt
                            if timer "PackySmeltTimer" > 3500 and EnableOverheadMessages = 1
                                overhead "*smelting from pack animal...*" 2114 mySecondPackAnimal 
                                settimer "PackySmeltTimer" 0
                            endif 
                            wait 650
                        endwhile
                        @setvar! NeedtoSecureIngots 1
                    endif
                endif 
            endif 

            while findtype "log%s" backpack and LogsToBoards = 1 
                wait 500
                overhead "*making boards...*" 0
                dclicktype "log%s" 
                wait 500
                if SetBoardBagtoOrganizer01 = 1
                    hotkey "Organizer Agent-01"
                endif 
                wait 1000
            endwhile        

            if EnableLootBag = 1
                dclick LootBag
                wait 250
            endif
            
            if EnableLootChest = 1
                dclick LootChest
                wait 250
            endif

            if EnableSafeDeposit = 1
                if findtype "bank deposit safe" ground -1 -1 2 as safe
                    while findtype "gold coin" backpack as gold
                        lift gold 60000
                        if EnableOverheadMessages = 1
                            overhead "*depositing gold..." 149
                        else 
                            overhead "  " 149
                        endif 
                            drop safe -1 -1 -1
                            wait 1500
                    endwhile
                    while findtype 2539 backpack as dubs
                        if EnableOverheadMessages = 1
                            overhead "depositing dubs..." 149
                        else 
                            overhead "  " 149
                        endif 
                        lift dubs 60000
                        drop safe -1 -1 -1
                        wait 1500
                    endwhile
                else
                    overhead "[ NO BANK SAFE FOUND ]" 337
                    wait 1500
                endif
            endif 

            if EnableResourceStockpile = 1
                if findtype "resource container" ground -1 -1 2 as resource
                    menu resource 0
                    wft 500
                    target self
                        if EnableOverheadMessages = 1
                            overhead "*piling resources...*" 84
                        else 
                            overhead "  " 84
                        endif 
                    wait 1500
                else
                    overhead "[ NO RESOURCE STOCKPILE FOUND ]" 337
                    wait 1500
                endif
            endif 

            if EnableRepairBench = 1 
                if findtype "repair bench" ground -1 -1 3 as RepairBench
                    clearsysmsg 
                    dclick RepairBench
                    wait 500
                    if insysmsg "You do not have any items equipped or in your backpack in need of repairs."
                        if EnableOverheadMessages = 1
                            overhead "[ NOTHING TO REPAIR! ]" 0
                        endif 
                        wait 1500
                    else
                        if EnableOverheadMessages = 1
                            overhead "*repairing equipment...*" 339
                        else 
                            overhead "  " 339
                        endif 
                        settimer RepairTimer 0
                    while timer RepairTimer <= 5000 
                        if insysmsg "Repair"
                            break
                        endif
                    endwhile
                        if EnableOverheadMessages = 1
                            overhead "[ ITEMS REPAIRED! ]" 0
                            wait 500
                            overhead "Repair took: {{RepairTimer}}ms" 77
                        else 
                            overhead "  " 0
                        endif 
                        removetimer RepairTimer
                        wait 500
                    endif
                else
                    overhead "[ NO REPAIR BENCH FOUND ]" 337
                    wait 1500
                endif
            endif 

            if EnableMagicRecycler = 1
                if findtype "ornate elven chest|magic item recycler" ground -1 -1 2 as recycler
                    for 2
                    getlabel recycler recyclerdesc
                    if "(125 items" in recyclerdesc
                        dclick recycler
                        waitforgump 4045111101
                        gumpresponse 7
                        waitforgump 4045111101
                        gumpresponse 6
                        waitforgump 4045111101
                        gumpresponse 6
                        if EnableOverheadMessages = 1
                            overhead "*recycling junk...*" 66
                        else 
                            overhead "  " 66
                        endif
                        wait 500
                        gumpclose 4045111101
                        if findtype "resource container" ground -1 -1 2 as resource and EnableResourceStockpile = 1
                            menu resource 0
                            wft 1500
                            target recycler
                            wait 1000
                            if EnableOverheadMessages = 1
                                overhead "*piling resources...*" 112
                            else 
                                overhead "  " 112
                            endif
                            wait 500
                        else
                            overhead "[ NO RESOURCE STOCKPILE FOUND ]" 337
                        endif
                        menu recycler 1
                        wait 500
                        if insysmsg "0 recyclable"
                            break
                        else
                            if EnableOverheadMessages = 1
                                overhead "*adding to recycler...*" 6
                            else 
                                overhead "  " 6
                            endif
                            wait 1500
                        endif
                        break
                    else 
                        menu recycler 1
                        wait 500
                        if insysmsg "0 recyclable"
                            if timer "InventoryTimer" > 3500 
                                if EnableOverheadMessages = 1
                                    overhead "[ NO MAGIC LOOT! ]" 6
                                else 
                                    overhead "  " 6
                                endif
                                settimer "InventoryTimer" 0
                            endif
                            break
                        else
                            if EnableOverheadMessages = 1
                                overhead "*adding to recycler...*" 6
                            else 
                                overhead "  " 6
                            endif
                            settimer "InventoryTimer" 0
                            wait 1500
                        endif
                    endif
                    wait 500
                    endfor
                else
                    overhead "[ NO MAGIC ITEM RECYCLER FOUND ]" 337
                endif
            endif 

            if EnableLootChest = 1
                dclick LootChest
                if EnableOverheadMessages = 1
                    overhead "*stashing loot...*" 69
                else 
                    overhead "  " 69
                endif 
                wait 500
                for 2
                hotkey "Organizer Agent-06"
                wait 250
                hotkey "Organizer Agent-07"
                wait 250
                hotkey "Organizer Agent-08"
                wait 250
                hotkey "Organizer Agent-09"
                wait 250
                endfor
                while queued
                    wait 100
                endwhile 
            endif 

            if EnableStorageTomes = 1
                if findtype "book" ground -1 -1 2 as StorageTome or findtype "book" LootChest as StorageTome
                    while findtype "book" ground -1 -1 2 as StorageTome
                        menu StorageTome 0
                        if EnableOverheadMessages = 1 and timer "InventoryTimer" > 3500 
                            overhead "*storing tome items...*" 2117
                            settimer "InventoryTimer" 0
                        elseif EnableOverheadMessages = 0 and timer "InventoryTimer" > 3500
                            overhead "  " 2117
                            settimer "InventoryTimer" 0
                        endif
                        wait 250 
                        @ignore StorageTome
                    endwhile
                    while findtype "book" LootChest as StorageTome
                        menu StorageTome 0
                        if EnableOverheadMessages = 1 and timer "InventoryTimer" > 3500 
                            overhead "*storing tome items...*" 2117
                            settimer "InventoryTimer" 0
                        elseif EnableOverheadMessages = 0 and timer "InventoryTimer" > 3500
                            overhead "  " 2117
                            settimer "InventoryTimer" 0
                        endif
                        wait 250 
                        @ignore StorageTome
                    endwhile
                    @clearignore 
                else
                    overhead "[ NO STORAGE TOMES FOUND ]" 337
                    wait 1500
                endif
            endif
            
            if EnableStorageShelf = 1
                if findtype "storage shelf" ground -1 -1 2 as shelf
                    if DEAD != 1
                        menu shelf 0
                        wft 500
                        target self
                        if EnableOverheadMessages = 1
                            overhead "*storing goods...*" 2114
                        else 
                            overhead "  " 2114
                        endif 
                        wait 500
                        gumpclose 3232825965
                        wait 1000
                    endif 
                    menu shelf 1
                    if EnableOverheadMessages = 1
                        overhead "*resupplying...*" 93
                        wait 500
                    else 
                        overhead "  " 93
                    endif 
                    wait 1000
                else
                    overhead "[ NO STORAGE SHELF FOUND ]" 337
                    wait 1500
                endif
            endif 

            if EnableReagentSplitter = 1
                // This section uses a Reg Splitter script I adapted from dennozz script found here: https://outlands.uorazorscripts.com/script/d8f50c97-3d9c-468b-9114-0a0623003e19 //     
                if findtype "reagent satchel" self as MyWizardBag    
                    sysmsg "Disable 'EnableReagentSplitter' in script variables to turn off this feature!" 0           
                    dclick MyWizardBag
                    if EnableOverheadMessages = 1
                        overhead "*splitting reagents...*" 111
                    else 
                        overhead "  " 111
                    endif
                    @setvar! amount 0
                    @setvar! regsID 3981
                    @setvar! myCounter 0
                        while findtype regsID self as r 
                            @setvar! myCounter index
                            @ignore r
                        endwhile                    
                        @clearignore
                    if counttype regsID self <= 15
                        @setvar! amount 2
                    elseif counttype regsID self <= 30
                        @setvar! amount 4       
                    elseif counttype regsID self <= 50
                        @setvar! amount 10    
                    elseif counttype regsID self <= 100
                        @setvar! amount 20    
                    elseif counttype regsID self <= 150
                        @setvar! amount 30
                    elseif counttype regsID self <= 200
                        @setvar! amount 40
                    else 
                        @setvar! amount 50
                    endif
                        while findtype regsID self as regs
                            @setvar! moveRegs 0         
                            if myCounter = 0
                                @setvar! moveRegs 1
                            elseif myCounter != 0 and not find regs MyWizardBag
                                @setvar! moveRegs 1
                            endif        
                            if moveRegs = 1    
                                if index = 0
                                    lift regs amount
                                    drop MyWizardBag 44 65 0    
                                    wait 150  
                                elseif index = 1
                                    lift regs amount
                                    drop MyWizardBag 68 65 0    
                                    wait 150         
                                elseif index = 2
                                    lift regs amount
                                    drop MyWizardBag 96 65 0 
                                    wait 150              
                                elseif index = 3
                                    lift regs amount
                                    drop MyWizardBag 121 65 0     
                                    wait 150         
                                else
                                    lift regs amount
                                    drop MyWizardBag 142 65 0   
                                    wait 150        
                                endif
                            endif        
                            @ignore regs         
                            if moveRegs = 1
                                wait 500
                            endif
                        endwhile
                        @setvar! regsID 3962
                        @setvar! myCounter 0
                        while findtype regsID self as r 
                            @setvar! myCounter index
                            @ignore r
                        endwhile
                        @clearignore
                        if counttype regsID self <= 10
                            @setvar! amount 2
                        elseif counttype regsID self <= 20
                            @setvar! amount 4       
                        elseif counttype regsID self <= 50
                            @setvar! amount 10    
                        elseif counttype regsID self <= 100
                            @setvar! amount 20    
                        elseif counttype regsID self <= 150
                            @setvar! amount 30
                        elseif counttype regsID self <= 200
                            @setvar! amount 40
                        else 
                            @setvar! amount 50
                        endif
                        while findtype regsID self as regs
                            @setvar! moveRegs 0        
                            if myCounter = 0
                                @setvar! moveRegs 1
                            elseif myCounter != 0 and not find regs MyWizardBag
                                @setvar! moveRegs 1
                            endif
                        if moveRegs = 1    
                            if index = 0
                                lift regs amount
                                drop MyWizardBag 44 76 0    
                                wait 150    
                            elseif index = 1
                                lift regs amount
                                drop MyWizardBag 68 76 0         
                                wait 150     
                            elseif index = 2
                                lift regs amount
                                drop MyWizardBag 96 76 0           
                                wait 150     
                            elseif index = 3
                                lift regs amount
                                drop MyWizardBag 121 76 0 
                                wait 150              
                            else
                                lift regs amount
                                drop MyWizardBag 142 76 0  
                                wait 150          
                            endif
                        endif        
                            @ignore regs         
                            if moveRegs = 1
                                wait 500
                            endif
                        endwhile
                        @setvar! regsID 3976
                        @setvar! myCounter 0
                        while findtype regsID self as r 
                            @setvar! myCounter index
                            @ignore r
                        endwhile            
                        @clearignore
                        if counttype regsID self <= 10
                            @setvar! amount 2
                        elseif counttype regsID self <= 20
                            @setvar! amount 4       
                        elseif counttype regsID self <= 50
                            @setvar! amount 10    
                        elseif counttype regsID self <= 100
                            @setvar! amount 20    
                        elseif counttype regsID self <= 150
                            @setvar! amount 30
                        elseif counttype regsID self <= 200
                            @setvar! amount 40
                        else 
                            @setvar! amount 50
                        endif
                        while findtype regsID self as regs
                            @setvar! moveRegs 0         
                            if myCounter = 0
                                @setvar! moveRegs 1
                            elseif myCounter != 0 and not find regs MyWizardBag
                                @setvar! moveRegs 1
                            endif        
                            if moveRegs = 1    
                                if index = 0
                                    lift regs amount
                                    drop MyWizardBag 44 88 0 
                                    wait 150        
                                elseif index = 1
                                    lift regs amount
                                    drop MyWizardBag 68 88 0     
                                    wait 150          
                                elseif index = 2
                                    lift regs amount
                                    drop MyWizardBag 96 88 0 
                                    wait 150                
                                elseif index = 3
                                    lift regs amount
                                    drop MyWizardBag 121 88 0   
                                    wait 150             
                                else
                                    lift regs amount
                                    drop MyWizardBag 142 88 0   
                                    wait 150          
                                endif
                            endif        
                            @ignore regs        
                            if moveRegs = 1
                                wait 500
                            endif
                        endwhile
                        @setvar! regsID 3974
                        @setvar! myCounter 0
                        while findtype regsID self as r 
                            @setvar! myCounter index
                            @ignore r
                        endwhile            
                        @clearignore
                        if counttype regsID self <= 10
                            @setvar! amount 2
                        elseif counttype regsID self <= 20
                            @setvar! amount 4       
                        elseif counttype regsID self <= 50
                            @setvar! amount 10    
                        elseif counttype regsID self <= 100
                            @setvar! amount 20    
                        elseif counttype regsID self <= 150
                            @setvar! amount 30
                        elseif counttype regsID self <= 200
                            @setvar! amount 40
                        else 
                            @setvar! amount 50
                        endif
                        while findtype regsID self as regs
                            @setvar! moveRegs 0         
                            if myCounter = 0
                                @setvar! moveRegs 1
                            elseif myCounter != 0 and not find regs MyWizardBag
                                @setvar! moveRegs 1
                            endif        
                            if moveRegs = 1    
                                if index = 0
                                    lift regs amount
                                    drop MyWizardBag 44 100 0     
                                    wait 150     
                                elseif index = 1
                                    lift regs amount
                                    drop MyWizardBag 68 100 0   
                                    wait 150            
                                elseif index = 2
                                    lift regs amount
                                    drop MyWizardBag 96 100 0  
                                    wait 150               
                                elseif index = 3
                                    lift regs amount
                                    drop MyWizardBag 121 100 0 
                                    wait 150               
                                else
                                    lift regs amount
                                    drop MyWizardBag 142 100 0  
                                    wait 150           
                                endif
                            endif        
                            @ignore regs         
                            if moveRegs = 1
                                wait 500
                            endif
                        endwhile
                        @setvar! regsID 3980
                        @setvar! myCounter 0
                        while findtype regsID self as r 
                            @setvar! myCounter index
                            @ignore r
                        endwhile
                        @clearignore
                        if counttype regsID self <= 10
                            @setvar! amount 2
                        elseif counttype regsID self <= 20
                            @setvar! amount 4       
                        elseif counttype regsID self <= 50
                            @setvar! amount 10    
                        elseif counttype regsID self <= 100
                            @setvar! amount 20    
                        elseif counttype regsID self <= 150
                            @setvar! amount 30
                        elseif counttype regsID self <= 200
                            @setvar! amount 40
                        else 
                            @setvar! amount 50
                        endif
                        while findtype regsID self as regs
                            @setvar! moveRegs 0         
                            if myCounter = 0
                                @setvar! moveRegs 1
                            elseif myCounter != 0 and not find regs MyWizardBag
                                @setvar! moveRegs 1  
                            endif        
                            if moveRegs = 1    
                                if index = 0
                                    lift regs amount
                                    drop MyWizardBag 44 112 0
                                    wait 150    
                                elseif index = 1 
                                    lift regs amount
                                    drop MyWizardBag 68 112 0         
                                    wait 150      
                                elseif index = 2
                                    lift regs amount
                                    drop MyWizardBag 96 112 0      
                                    wait 150           
                                elseif index = 3
                                    lift regs amount
                                    drop MyWizardBag 121 112 0     
                                    wait 150           
                                else
                                    lift regs amount
                                    drop MyWizardBag 142 112 0   
                                    wait 150          
                                endif
                            endif        
                            @ignore regs         
                            if moveRegs = 1
                                wait 500
                            endif
                        endwhile
                        @setvar! regsID 3973
                        @setvar! myCounter 0
                        while findtype regsID self as r 
                            @setvar! myCounter index
                            @ignore r
                        endwhile            
                        @clearignore
                        if counttype regsID self <= 10
                            @setvar! amount 2
                        elseif counttype regsID self <= 20
                            @setvar! amount 4       
                        elseif counttype regsID self <= 50
                            @setvar! amount 10    
                        elseif counttype regsID self <= 100
                            @setvar! amount 20    
                        elseif counttype regsID self <= 150
                            @setvar! amount 30
                        elseif counttype regsID self <= 200
                            @setvar! amount 40
                        else 
                            @setvar! amount 50
                        endif
                        while findtype regsID self as regs
                            @setvar! moveRegs 0         
                            if myCounter = 0
                                @setvar! moveRegs 1
                            elseif myCounter != 0 and not find regs MyWizardBag
                                @setvar! moveRegs 1
                            endif        
                            if moveRegs = 1    
                                if index = 0
                                    lift regs amount
                                    drop MyWizardBag 44 124 0    
                                    wait 150      
                                elseif index = 1
                                    lift regs amount
                                    drop MyWizardBag 68 124 0
                                    wait 150               
                                elseif index = 2
                                    lift regs amount
                                    drop MyWizardBag 96 124 0  
                                    wait 150               
                                elseif index = 3
                                    lift regs amount
                                    drop MyWizardBag 121 124 0        
                                    wait 150        
                                else
                                    lift regs amount
                                    drop MyWizardBag 142 124 0     
                                    wait 150        
                                endif
                            endif        
                            @ignore regs         
                            if moveRegs = 1
                                wait 500
                            endif
                        endwhile
                        @setvar! regsID 3963
                        @setvar! myCounter 0
                        while findtype regsID self as r 
                            @setvar! myCounter index
                            @ignore r
                        endwhile            
                        @clearignore
                        if counttype regsID self <= 10
                            @setvar! amount 2
                        elseif counttype regsID self <= 20
                            @setvar! amount 4       
                        elseif counttype regsID self <= 50
                            @setvar! amount 10    
                        elseif counttype regsID self <= 100
                            @setvar! amount 20    
                        elseif counttype regsID self <= 150
                            @setvar! amount 30
                        elseif counttype regsID self <= 200
                            @setvar! amount 40
                        else 
                            @setvar! amount 50
                        endif
                        while findtype regsID self as regs
                            @setvar! moveRegs 0         
                            if myCounter = 0
                                @setvar! moveRegs 1
                            elseif myCounter != 0 and not find regs MyWizardBag
                                @setvar! moveRegs 1
                            endif        
                            if moveRegs = 1    
                                if index = 0
                                    lift regs amount
                                    drop MyWizardBag 44 136 0    
                                    wait 150      
                                elseif index = 1
                                    lift regs amount
                                    drop MyWizardBag 68 136 0       
                                    wait 150        
                                elseif index = 2
                                    lift regs amount
                                    drop MyWizardBag 96 136 0    
                                    wait 150             
                                elseif index = 3
                                    lift regs amount
                                    drop MyWizardBag 121 136 0    
                                    wait 150            
                                else
                                    lift regs amount
                                    drop MyWizardBag 142 136 0     
                                    wait 150        
                                endif
                            endif        
                            @ignore regs         
                            if moveRegs = 1
                                wait 500
                            endif
                        endwhile
                        @setvar! regsID 3972
                        @setvar! myCounter 0
                        while findtype regsID self as r 
                            @setvar! myCounter index
                            @ignore r
                        endwhile            
                        @clearignore
                        if counttype regsID self <= 10
                            @setvar! amount 2
                        elseif counttype regsID self <= 20
                            @setvar! amount 4       
                        elseif counttype regsID self <= 50
                            @setvar! amount 10    
                        elseif counttype regsID self <= 100
                            @setvar! amount 20    
                        elseif counttype regsID self <= 150
                            @setvar! amount 30
                        elseif counttype regsID self <= 200
                            @setvar! amount 40
                        else 
                            @setvar! amount 50
                        endif
                        while findtype regsID self as regs
                            @setvar! moveRegs 0         
                            if myCounter = 0
                                @setvar! moveRegs 1
                            elseif myCounter != 0 and not find regs MyWizardBag
                                @setvar! moveRegs 1
                            endif        
                            if moveRegs = 1    
                                if index = 0
                                    lift regs amount
                                    drop MyWizardBag 44 148 0     
                                    wait 150     
                                elseif index = 1
                                    lift regs amount
                                    drop MyWizardBag 68 148 0 
                                    wait 150              
                                elseif index = 2
                                    lift regs amount
                                    drop MyWizardBag 96 148 0  
                                    wait 150               
                                elseif index = 3
                                    lift regs amount
                                    drop MyWizardBag 121 148 0    
                                    wait 150            
                                else
                                    lift regs amount
                                    drop MyWizardBag 142 148 0     
                                    wait 150        
                                endif
                            endif
                            @ignore regs         
                            if moveRegs = 1
                                wait 500
                            endif
                        endwhile
                        @setvar! regsID 8012
                        @setvar! myCounter 0
                        while findtype regsID self as r 
                            @setvar! myCounter index
                            @ignore r
                        endwhile            
                        @clearignore
                        if counttype regsID self <= 5
                            @setvar! amount 1
                        elseif counttype regsID self <= 10
                            @setvar! amount 2       
                        elseif counttype regsID self <= 20
                            @setvar! amount 4    
                        elseif counttype regsID self <= 40
                            @setvar! amount 8    
                        else 
                            @setvar! amount 15
                        endif
                        while findtype regsID self as regs
                            @setvar! moveRegs 0         
                            if myCounter = 0
                                @setvar! moveRegs 1
                            elseif myCounter != 0 and not find regs MyWizardBag
                                @setvar! moveRegs 1
                            endif
                            @ignore regs         
                            if moveRegs = 1
                                wait 500
                            endif
                        endwhile
                    else 
                        overhead "[ NO WIZARD BAG! ]" 337
                    endif
                endif
                overhead "[ SCRIPT COMPLETE! ]" 84
                @setvar! DEAD 0
                @setvar! RedTargetFound 0
                @setvar! RECALLTIME 0
                @setvar! TimeToGo 0         
                stop
            endif 
        endif
    
    
    
//////////////////////////
//    SCRIPT STARTS:    //
//////////////////////////

        if insysmsg "Captcha successful" and EnableOverheadMessages = 1
            overhead "I guess you got the magic numbers correct??" 2086
            wait 1500
            if EnableSummons = 1 and followers >= 1
                wait 1000
                overhead "Umm... who are you speaking to, Master?" 44 myMainTankPet
                menu myMainTankPet 3
                clearsysmsg
                wait 1000
                overhead "Nevermind that... let's get back to work..." 2086
            else
                overhead "Alright, let's harvest..." 2086
                clearsysmsg
            endif
        endif

        if EnableHealPotion = 1 or EnableHealPotion = 2
            if diffhits > HealPotHPdiff and timer "HealingPotionTimer" > HealingPotionCooldown
                if findtype "Yellow Potion" self as healpot
                    dclick healpot
                    wait 750
                    if insysmsg "Potion satchel used"
                        if EnableOverheadMessages = 1 
                            overhead "*drinking free heal potion...*" 253
                        endif
                        clearsysmsg
                    else 
                        if EnableOverheadMessages = 1 
                            overhead "*drinking heal potion...*" 253
                        endif
                        clearsysmsg
                    endif
                    settimer "HealingPotionTimer" 0
                    cooldown "Healing Potion" HealingPotionCooldown
                else 
                    if timer "InventoryTimer" > 6000
                        if EnableOverheadMessages = 1 
                            overhead "[ NO HEAL POTS! ]" 337
                        endif
                        settimer "InventoryTimer" 0
                    endif
                endif
                wait 500 
            endif
        endif 

        if skill "Healing" > 30
            if counttype "clean bandage%s%" = 0 
                if EnableOverheadMessages = 1 and timer "InventoryTimer" > 6000
                    overhead "[ NO BANDAGES! ]" 337
                    settimer "InventoryTimer" 0
                endif
            endif 
            if not bandaging 
                if hp < maxhp or poisoned or findbuff "bleed" or findbuff "disease" 
                    if counttype "clean bandage%s%" < 10 
                        if EnableOverheadMessages = 1 and timer "InventoryTimer" > 6000
                            overhead "[ BANDAGES LOW! ]" 339
                            settimer "InventoryTimer" 0
                        endif
                        hotkey "Bandage Self"  
                    else
                        if EnableOverheadMessages = 1
                            overhead "[ BANDAGING... ]" 88
                        endif
                        hotkey "Bandage Self"
                        wait 500
                    endif 
                endif 
            endif
        endif

        if EnableCurePotion = 1 or EnableCurePotion = 2
            if poisoned and timer "CurePotionTimer" > CurePotionCooldown
                if findtype "Orange Potion" self as curepot
                    dclick curepot
                    wait 500
                    if insysmsg "Potion satchel used"
                        if EnableOverheadMessages = 1 
                            overhead "*drinking free cure potion...*" 44
                        endif
                        clearsysmsg
                    else 
                        if EnableOverheadMessages = 1 
                            overhead "*drinking cure potion...*" 44
                        endif
                        clearsysmsg
                    endif
                    settimer "CurePotionTimer" 0
                    cooldown "Cure Potion" CurePotionCooldown
                else
                    if timer "InventoryTimer" > 3500
                        if EnableOverheadMessages = 1 
                            overhead "[ NO CURE POTS! ]" 337
                        endif
                        settimer "InventoryTimer" 0
                    endif
                endif
                wait 500 
            endif
        endif 
                  
        if EnableCastHeal = 1
            if skill "Magery" >= 50 and diffhits > CastHealHPlowdiff and diffhits < CastHealHPhighdiff and mana >= 4
                if not findtype "spellbook" hand and findtype "spellbook" backpack as myspellbook
                    getlabel myspellbook SpellbookLabel
                    for 5
                    wait 250
                    if "aspect" in SpellbookLabel
                        break
                    elseif "unidentified" in SpellbookLabel or "[blessed" in SpellbookLabel or "spells)" in SpellbookLabel 
                        @ignore myspellbook 
                        wait 250
                        if not findtype "spellbook" hand and findtype "spellbook" self as myspellbook
                            getlabel myspellbook SpellbookLabel
                        else 
                            overhead "[ NO SPELLBOOK! ]" 337
                            break
                        endif
                    endif 
                    endfor
                    dclick myspellbook
                    wait 500
                endif
                cast "Heal"
                wait 100
                while not casting                   
                    if targetexists
                        hotkey "cancel current target"
                    endif
                        cast "Heal"
                        wait 100
                endwhile  
                wft 1500
                target "self" 
                wait 250  
            elseif skill "Magery" >= 60 and diffhits > CastHealHPhighdiff and mana >= 11
                if not findtype "spellbook" hand and findtype "spellbook" backpack as myspellbook
                    getlabel myspellbook SpellbookLabel
                    for 5
                    wait 250
                    if "aspect" in SpellbookLabel
                        break
                    elseif "unidentified" in SpellbookLabel or "[blessed" in SpellbookLabel or "spells)" in SpellbookLabel 
                        @ignore myspellbook 
                        wait 250
                        if not findtype "spellbook" hand and findtype "spellbook" self as myspellbook
                            getlabel myspellbook SpellbookLabel
                        else 
                            overhead "[ NO SPELLBOOK! ]" 337
                            break
                        endif
                    endif 
                    endfor
                    dclick myspellbook
                    wait 500
                endif
                cast "Greater Heal"
                wait 100
                while not casting                   
                    if targetexists
                        hotkey "cancel current target"
                    endif
                        cast "Greater Heal"
                        wait 100
                endwhile  
                wft 1500
                target "self" 
                wait 250  
            endif
        endif 

        if EnableCastCure = 1
            if poisoned and skill "Magery" >= 40 and mana >= 6
                if not findtype "spellbook" hand and findtype "spellbook" backpack as myspellbook
                    getlabel myspellbook SpellbookLabel
                    for 5
                    wait 250
                    if "aspect" in SpellbookLabel
                        break
                    elseif "unidentified" in SpellbookLabel or "[blessed" in SpellbookLabel or "spells)" in SpellbookLabel 
                        @ignore myspellbook 
                        wait 250
                        if not findtype "spellbook" hand and findtype "spellbook" self as myspellbook
                            getlabel myspellbook SpellbookLabel
                        else 
                            overhead "[ NO SPELLBOOK! ]" 337
                            break
                        endif
                    endif 
                    endfor
                    dclick myspellbook
                    wait 500
                endif
                cast "Cure"
                wait 100
                while not casting                   
                    if targetexists
                        hotkey "cancel current target"
                    endif
                        cast "Cure"  
                        wait 100
                endwhile  
                wft 1500
                target "self" 
                wait 250 
            endif 
        endif

        if EnableRefreshPotion = 1 or EnableRefreshPotion = 2
            if diffstam >= RefreshPotSPdiff and timer "RefreshPotionTimer" > RefreshPotionCooldown
                if findtype "Red Potion" self as refreshpot
                    dclick refreshpot
                    wait 500
                    if insysmsg "Potion satchel used"
                        if EnableOverheadMessages = 1 
                            overhead "*drinking free refresh potion...*" 34
                        endif
                        clearsysmsg
                    else 
                        if EnableOverheadMessages = 1 
                            overhead "*drinking refresh potion...*" 34
                        endif
                        clearsysmsg
                    endif
                    settimer "RefreshPotionTimer" 0
                    cooldown "Refresh Potion" RefreshPotionCooldown
                else 
                    if timer "InventoryTimer" > 6000
                        if EnableOverheadMessages = 1 
                            overhead "[ NO REFRESH POTS! ]" 337
                        endif
                        settimer "InventoryTimer" 0
                    endif
                endif
                wait 500 
            endif
        endif 
            
        if EnableMagicResistPotion = 1
            if not findbuff "Magic Resist Potion"
                if findtype "Black Potion" self as magicresistpot
                    dclick magicresistpot
                    wait 500
                    if EnableOverheadMessages = 1 
                        if insysmsg "Potion satchel used" 
                            overhead "*drinking free resist potion*" 2406
                            clearsysmsg
                        else 
                            overhead "*drinking resist potion*" 2406
                            clearsysmsg
                        endif
                    endif 
                else 
                    if timer "InventoryTimer" > 6000
                        overhead "[ NO RESIST POTS! ]" 337
                        settimer "InventoryTimer" 0
                    endif
                endif
                wait 500
            endif
        endif

        if EnableStrengthPotion = 1 
            if skill "Alchemy" = 1 
                if insysmsg "You may now use a strength" or not findbuff "Strength"
                    if findtype "White Potion" self as strengthpot
                        dclick strengthpot
                        wait 500
                        if EnableOverheadMessages = 1 
                            if insysmsg "Potion satchel used" 
                                overhead "*drinking free strength potion*" 956
                                clearsysmsg
                            else 
                                overhead "*drinking strength potion*" 956
                                clearsysmsg
                            endif
                        endif
                    else 
                        if timer "InventoryTimer" > 6000
                            overhead "[ NO STRENGTH POTS! ]" 337
                            settimer "InventoryTimer" 0
                        endif
                    endif
                    wait 500
                endif
            elseif not findbuff "Strength"
                if findtype "White Potion" self as strengthpot
                    dclick strengthpot
                    wait 500
                    if EnableOverheadMessages = 1 
                        if insysmsg "Potion satchel used" 
                            overhead "*drinking free strength potion*" 956
                            clearsysmsg
                        else 
                            overhead "*drinking strength potion*" 956
                            clearsysmsg
                        endif
                    endif
                else 
                    if timer "InventoryTimer" > 6000
                        overhead "[ NO STRENGTH POTS! ]" 337
                        settimer "InventoryTimer" 0
                    endif
                endif
                wait 500
            endif
        endif

        if EnableAgilityPotion = 1
            if not findbuff "Agility"
            if findtype "Blue Potion" self as agilitypot
                    dclick agilitypot
                    wait 500
                    if EnableOverheadMessages = 1 
                        if insysmsg "Potion satchel used" 
                            overhead "*drinking free agility potion*" 93
                            clearsysmsg
                        else 
                            overhead "*drinking agility potion*" 93
                            clearsysmsg
                        endif
                    endif
                else 
                    if timer "InventoryTimer" > 6000
                        overhead "[ NO AGILITY POTS! ]" 337
                        settimer "InventoryTimer" 0
                    endif
                endif
                wait 500
            endif
        endif

        if EnableMagicReflection = 1 
            if skill "Magery" >= 60 and not findbuff "Magic Reflection" and mana > 14 and TimeToGo != 1 and timer "MagicReflect" > 30000
                if not findtype "spellbook" hand and findtype "spellbook" backpack as myspellbook and skill "Magery" >= 80
                    getlabel myspellbook SpellbookLabel
                    for 5
                    wait 250
                    if "aspect" in SpellbookLabel
                        break
                    elseif "unidentified" in SpellbookLabel or "[blessed" in SpellbookLabel or "spells)" in SpellbookLabel 
                        @ignore myspellbook 
                        wait 250
                        if not findtype "spellbook" hand and findtype "spellbook" self as myspellbook
                            getlabel myspellbook SpellbookLabel
                        else 
                            overhead "[ NO SPELLBOOK! ]" 337
                            break
                        endif
                    endif 
                    endfor
                    dclick myspellbook
                    wait 500
                endif
                    for 10
                    cast "Magic Reflection" 
                    waitfortarget 1500
                    hotkey "Target Self"
                    wait 1000
                    if insysmsg "will not adhere"
                        settimer "MagicReflect" 0
                        if EnableOverheadMessages = 1
                            overhead "Too soon for a new shield.  Give me a sec..." 2086
                        endif
                        replay
                    endif 
                    wait 1000
                    if not findbuff "Magic Reflection"
                        wait 1000
                        if EnableOverheadMessages = 1
                            overhead "Let me try that again..." 2086
                        endif
                        wait 1000
                    else
                        break
                    endif 
                    endfor 
                wait 1500
                replay
            endif  
        endif

        if EnableReactiveArmour = 1 
            if skill "Magery" >= 60 and not findbuff "Reactive Armor" and mana >= 4 and TimeToGo != 1 and timer "MagicArmor" > 30000
                if not findtype "spellbook" hand and findtype "spellbook" backpack as myspellbook and skill "Magery" >= 80 
                    getlabel myspellbook SpellbookLabel
                    for 5
                    wait 250
                    if "aspect" in SpellbookLabel
                        break
                    elseif "unidentified" in SpellbookLabel or "[blessed" in SpellbookLabel or "spells)" in SpellbookLabel 
                        @ignore myspellbook 
                        wait 250
                        if not findtype "spellbook" hand and findtype "spellbook" self as myspellbook
                            getlabel myspellbook SpellbookLabel
                        else 
                            overhead "[ NO SPELLBOOK! ]" 337
                            break
                        endif
                    endif 
                    endfor
                    dclick myspellbook
                    wait 500
                endif
                    for 10
                    cast "Reactive Armor" 
                    waitfortarget 1500
                    hotkey "Target Self"
                    wait 1000
                    if insysmsg "That spell will not adhere"
                        settimer "MagicArmor" 0
                        if EnableOverheadMessages = 1
                            overhead "Too soon for a new magic armor.  Give me a sec..." 2086
                        endif
                        replay
                    endif 
                    wait 1000
                    if not findbuff "Reactive Armor"
                        wait 500
                        if EnableOverheadMessages = 1
                            overhead "Let me try that again..." 2086
                        endif 
                        wait 500
                    else
                        break
                    endif 
                    endfor 
                wait 1000
                replay
            endif  
        endif

        if skill "Spirit Speak" >= 80
            if findtype "corpse" ground -1 -1 12 as batteries and timer "SpiritSpeak" > 10500
                useskill "spiritspeak"
                @ignore batteries
                settimer "SpiritSpeak" 0
                wait 500
            endif 
        endif

        if EnableAutoCarving = 1
            if findtype "Elven SpellBlade" self 
                if findtype "corpse" ground -1 -1 2 as deadbody
                    dclicktype "Elven Spellblade"
                    wft 1000
                    targettype "Elven Spellblade"
                    if EnableOverheadMessages = 1  
                        overhead "*skinning corpse...*" 339
                    endif
                    wait 500
                    @ignore deadbody
                endif
            else
                if timer "InventoryTimer" > 6000
                    if EnableOverheadMessages = 1  
                        overhead "[ NO SKINNING KNIFE! ]" 337
                        sysmsg "Disable EnableAutoCarving in script variables to turn off this overhead message!" 0
                    endif
                    settimer "InventoryTimer" 0
                endif
            endif
        endif 

        if skill "Fishing" >= 50 and EnableFishing = 1 
            if insysmsg "You fish a" and EnableOverheadMessages = 1
                overhead "Nothing biting on that one..." 2086
                clearsysmsg 
            endif
            if insysmsg "You catch a fish"
                overhead "*you harvest fish*" 77
                clearsysmsg 
            endif 
        endif

        if EnableGoldVacuum = 1
            if findtype "gold coin" ground -1 -1 12 as droppedmoney and timer "GoldRadar" > 3500
                if EnableOverheadMessages = 1
                    overhead "[ $ ]" 149 droppedmoney
                endif 
                overhead "" 149 droppedmoney
                settimer "GoldRadar" 0
            endif
            while findtype "gold coin" ground -1 -1 2 as finderskeepers          
                overhead "  " 149
                hotkey "Grab Item"
                wft 2500
                target finderskeepers
                wait 500
                if insysmsg "Invalid or inaccessible item"
                    wait 500
                    @ignore finderskeepers
                endif    
                wait 500                      
            endwhile 
        endif 


    /////////////////////////
    //   MAGERY SUMMONS:   //
    /////////////////////////

        if skill "Magery" >= 80 and skill "Spirit Speak" >= 80 and EnableSummons = 1 and TotalFollowerCount > 0    
            if followers = 0
                @setvar! NeedtoSummon 1
            elseif followers = 1 and TotalFollowerCount > 0
                @setvar! NeedtoSummon 1          
            elseif followers = 2 and TotalFollowerCount = 1
                @setvar! NeedtoSummon 0 
            elseif followers = 2 and TotalFollowerCount = 2
                @setvar! NeedtoSummon 1
            elseif followers = 2 and TotalFollowerCount = 3
                @setvar! NeedtoSummon 1
            elseif followers = 2 and TotalFollowerCount = 4
                @setvar! NeedtoSummon 1    
            elseif followers = 3 and TotalFollowerCount = 1
                @setvar! NeedtoSummon 0 
            elseif followers = 3 and TotalFollowerCount = 2
                @setvar! NeedtoSummon 0
            elseif followers = 3 and TotalFollowerCount = 3
                @setvar! NeedtoSummon 1
            elseif followers = 3 and TotalFollowerCount = 4
                @setvar! NeedtoSummon 1    
            elseif followers = 4 and TotalFollowerCount = 1
                @setvar! NeedtoSummon 0 
            elseif followers = 4 and TotalFollowerCount = 2
                @setvar! NeedtoSummon 0
            elseif followers = 4 and TotalFollowerCount = 3
                @setvar! NeedtoSummon 0
            elseif followers = 4 and TotalFollowerCount = 4
                @setvar! NeedtoSummon 1  
            elseif followers = 5
                @setvar! NeedtoSummon 0
            endif    
            wait 250     
            if NeedtoSummon = 1       
                removelist summonList
                createlist summonList    
               if not varexist myMainTankPet
                    @setvar! myMainTankPet 0
                endif
                if not varexist fireOne
                    @setvar! fireOne 0
                endif 
                if not varexist fireTwo
                    @setvar! fireTwo 0
                endif
                if not varexist earthOne
                    @setvar! earthOne 0
                endif
                if not varexist earthTwo
                    @setvar! earthTwo 0
                endif
                if not varexist demonOne
                    @setvar! demonOne 0
                endif
                if not varexist demonTwo
                    @setvar! demonTwo 0
                endif
                if not varexist airOne
                    @setvar! airOne 0
                endif
                if not varexist airTwo
                    @setvar! airTwo 0
                endif
                if not varexist waterOne
                    @setvar! waterOne 0
                endif
                if not varexist waterTwo
                    @setvar! waterTwo 0
                endif        
                if dead myMainTankPet
                    if not dead earthOne
                        @setvar! myMainTankPet earthOne
                    elseif not dead earthTwo
                        @setvar! myMainTankPet earthTwo
                    elseif not dead waterOne
                        @setvar! myMainTankPet waterOne
                    elseif not dead waterTwo
                        @setvar! myMainTankPet waterTwo
                    elseif not dead demonOne
                        @setvar! myMainTankPet demonOne
                    elseif not dead demonTwo
                        @setvar! myMainTankPet demonTwo
                    elseif not dead fireOne
                        @setvar! myMainTankPet fireOne
                    elseif not dead fireTwo
                        @setvar! myMainTankPet fireTwo
                    elseif not dead airOne
                        @setvar! myMainTankPet airOne
                    elseif not dead airTwo
                        @setvar! myMainTankPet airTwo
                    endif
                endif          
                overhead "*summoning a bodyguard...*" 6    
            if followers <= 1
                wait 1000
                if EnableOverheadMessages = 1
                    overhead "I call upon the power of the elements..." 2086
                endif 
            endif        
                if SummonEarthElemental > 0
                    if dead earthOne or not find earthOne ground -1 -1 18         
                        pushlist summonList "Earth Elemental"
                        @setvar! earthOne 1
                        @setvar! NameEarth 1
                        @setvar! NameFire 0
                        @setvar! NameDemon 0
                        @setvar! NameAir 0
                        @setvar! NameWater 0
                    endif
                    if SummonEarthElemental > 1
                        if dead earthTwo or not find earthTwo ground -1 -1 18
                            pushlist summonList "Earth Elemental"
                            @setvar! earthTwo 1
                            @setvar! NameEarth 1
                            @setvar! NameFire 0
                            @setvar! NameDemon 0
                            @setvar! NameAir 0
                            @setvar! NameWater 0
                        endif
                    endif
                endif
                if SummonFireElemental > 0
                    if dead fireOne or not find fireOne ground -1 -1 18 
                        pushlist summonList "Fire Elemental"
                        @setvar! fireOne 1
                        @setvar! NameEarth 0
                        @setvar! NameFire 1
                        @setvar! NameDemon 0
                        @setvar! NameAir 0
                        @setvar! NameWater 0
                    endif
                    if SummonFireElemental > 1
                        if dead fireTwo or not find fireTwo ground -1 -1 18
                            pushlist summonList "Fire Elemental"
                            @setvar! fireTwo 1
                            @setvar! NameEarth 0
                            @setvar! NameFire 1
                            @setvar! NameDemon 0
                            @setvar! NameAir 0
                            @setvar! NameWater 0
                        endif
                    endif
                endif
                if SummonDemon > 0
                    if dead demonOne or not find demonOne ground -1 -1 18
                        pushlist summonList "Summon Daemon"
                        @setvar! demonOne 1
                        @setvar! NameEarth 0
                        @setvar! NameFire 0
                        @setvar! NameDemon 1
                        @setvar! NameAir 0
                        @setvar! NameWater 0
                    endif
                    if SummonDemon > 1
                        if dead demonTwo or not find demonTwo ground -1 -1 18
                            pushlist summonList "Summon Daemon"
                            @setvar! demonTwo 1
                            @setvar! NameEarth 0
                            @setvar! NameFire 0
                            @setvar! NameDemon 1
                            @setvar! NameAir 0
                            @setvar! NameWater 0
                        endif
                    endif
                endif
                if SummonAirElemental > 0
                    if dead airOne or not find airOne ground -1 -1 18
                        pushlist summonList "Air Elemental"
                        @setvar! airOne 1
                        @setvar! NameEarth 0
                        @setvar! NameFire 0
                        @setvar! NameDemon 0
                        @setvar! NameAir 1
                        @setvar! NameWater 0
                    endif
                    if SummonAirElemental > 1
                        if dead airTwo or not find airTwo ground -1 -1 18
                            pushlist summonList "Air Elemental"
                            @setvar! airTwo 1
                            @setvar! NameEarth 0
                            @setvar! NameFire 0
                            @setvar! NameDemon 0
                            @setvar! NameAir 1
                            @setvar! NameWater 0
                        endif
                    endif
                endif
                if SummonWaterElemental > 0
                    if dead waterOne or not find waterOne ground -1 -1 18
                        pushlist summonList "Water Elemental"
                        @setvar! waterOne 1
                        @setvar! NameEarth 0
                        @setvar! NameFire 0
                        @setvar! NameDemon 0
                        @setvar! NameAir 0
                        @setvar! NameWater 1
                    endif
                    if SummonWaterElemental > 1
                        if dead waterTwo or not find waterTwo ground -1 -1 18
                            pushlist summonList "Water Elemental"
                            @setvar! waterTwo 1
                            @setvar! NameEarth 0
                            @setvar! NameFire 0
                            @setvar! NameDemon 0
                            @setvar! NameAir 0
                            @setvar! NameWater 1
                        endif
                    endif
                endif            
                foreach summon in summonList
                    while diffmana > 50
                        if diffhits >= 35
                            replay
                        endif
                        wait 500
                        if not findbuff "Actively Meditating"
                            useskill "meditation"
                            overhead "*meditating...*" 10
                        endif
                        wait 1000
                        if insysmsg "Now tracking"
                            replay
                        endif
                    endwhile    
                    
                    if skill "Magery" >= 80 and not findtype "spellbook" hand and findtype "spellbook" backpack as myspellbook
                        getlabel myspellbook SpellbookLabel
                            for 5
                            wait 250
                            if "harvest aspect" in SpellbookLabel
                                break
                            elseif "unidentified" in SpellbookLabel or "[blessed" in SpellbookLabel or "spells)" in SpellbookLabel 
                                @ignore myspellbook 
                                wait 250
                                if not findtype "spellbook" hand and findtype "spellbook" self as myspellbook
                                    getlabel myspellbook SpellbookLabel
                                else 
                                    overhead "[ NO SPELLBOOK! ]" 337
                                    break
                                endif
                            endif 
                            endfor
                        dclick myspellbook
                    endif     
                    
                    cast summon
                    wft 500
                    
                    if targetexists 
                        hotkey "Target Self"
                        wait 250
                    endif 
                    
                    wait 500
                    
                    if EnableOverheadMessages = 1
                        if SummonName = 2 
                            overhead "I summon thee, Protector of Harvesters!" 2086
                        elseif SummonName = 3
                            overhead "I require another protector!" 2086
                        elseif SummonName = 4
                            overhead "There is still room in the back!" 2086
                        else
                            overhead "Send me a worthy protector!" 2086
                        endif     
                    endif       
                    
                    while casting 
                        wait 50
                        if diffhits >= 40
                            if EnableOverheadMessages = 1
                                overhead "Hang on, I need a heal!" 2086
                            endif 
                            hotkey "> Interrupt"
                            replay
                        endif
                    endwhile
                    
                    wait 250                         
                    @setvar! myFreshlySummonedPet 0        
                if summon = "Earth Elemental" and findtype 14 ground -1 -1 2 as myPet
                    for 5
                    if findtype 14 ground -1 -1 2 as myPet
                        getlabel myPet myPetLabel
                        if "earth elemental" in myPetLabel
                            @setvar! myFreshlySummonedPet myPet
                            break
                        else 
                            @ignore myPet
                        endif 
                    endif 
                    endfor
                    if earthOne = 1
                        @setvar! earthOne myPet
                    elseif earthTwo = 1
                        @setvar! earthTwo myPet
                    endif
                elseif summon = "Fire Elemental" and findtype 15 ground -1 -1 2 as myPet 
                    for 5
                    if findtype 15 ground -1 -1 2 as myPet
                        getlabel myPet myPetLabel
                        if "fire elemental" in myPetLabel
                            @setvar! myFreshlySummonedPet myPet
                            break
                        else 
                            @ignore myPet
                        endif 
                    endif 
                    endfor 
                    if fireOne = 1
                        @setvar! fireOne myPet
                    elseif fireTwo = 1
                        @setvar! fireTwo myPet
                    endif
                elseif summon = "Summon Daemon" and findtype 9 ground -1 -1 2 as myPet
                    for 5
                    if findtype 9 ground -1 -1 2 as myPet
                        getlabel myPet myPetLabel
                        if "daemon" in myPetLabel
                            @setvar! myFreshlySummonedPet myPet
                            break
                        else 
                            @ignore myPet
                        endif 
                    endif 
                    endfor
                    if demonOne = 1
                        @setvar! demonOne myPet
                    elseif demonTwo = 1
                        @setvar! demonTwo myPet
                    endif
                elseif summon = "Water Elemental" and findtype 16 ground -1 -1 2 as myPet
                    for 5
                    if findtype 16 ground -1 -1 2 as myPet
                        getlabel myPet myPetLabel
                        if "water elemental" in myPetLabel
                            @setvar! myFreshlySummonedPet myPet
                            break
                        else 
                            @ignore myPet
                        endif 
                    endif 
                    endfor
                    if waterOne = 1
                        @setvar! waterOne myPet
                    elseif waterTwo = 1
                        @setvar! waterTwo myPet
                    endif
                elseif summon = "Air Elemental" and findtype 13 ground -1 -1 2 as myPet
                    for 5
                    if findtype 13 ground -1 -1 2 as myPet
                        getlabel myPet myPetLabel
                        if "air elemental" in myPetLabel
                            @setvar! myFreshlySummonedPet myPet
                            break
                        else 
                            @ignore myPet
                        endif 
                    endif 
                    endfor
                    if airOne = 1
                        @setvar! airOne myPet
                    elseif airTwo = 1
                        @setvar! airTwo myPet
                    endif
                endif        
                if myFreshlySummonedPet = 0
                    if EnableOverheadMessages = 1
                    overhead "I cannot see my elemental..." 2086
                    endif
                    wait 500
                    break
                endif             
                if NameSummonedPets = 0
                    wait 2000
                    if EnableOverheadMessages = 1
                        overhead "{{summon}} will protect you now...." 1909 myFreshlySummonedPet
                    endif
                    menu myFreshlySummonedPet 3
                    @ignore myFreshlySummonedPet        
                    wait 500
                    poplist summonList "front"
                    break            
                elseif NameSummonedPets = 1
                    for 2
                    if SummonName = 1
                        wait 1500
                        if EnableOverheadMessages = 1
                            overhead "What is your name, minion?" 2086
                        endif 
                        wait 500
                        if NameFire = 1 or NameFire = 2 and list FireEleNamesList > 0
                            foreach myEleName in FireEleNamesList 
                                rename myFreshlySummonedPet myEleName
                                wait 500
                                if insysmsg "That name is unacceptable"
                                    sysmsg "Unable to name summon: {{myEleName}}" 34
                                    clearsysmsg 
                                    poplist FireEleNamesList "front"
                                    wait 500
                                else 
                                    break
                                endif
                            endfor
                            if EnableOverheadMessages = 1
                                wait 500
                                overhead "You may call me {{myEleName}}, Master." 1909 myFreshlySummonedPet
                                wait 2500
                                overhead "{{myEleName}} will protect you now...." 1909 myFreshlySummonedPet
                                wait 1000
                                overhead "Thank you, {{myEleName}}" 2086
                                wait 500
                            endif 
                        elseif NameDemon = 1 or NameDemon = 2 and list DemonNamesList > 0
                            foreach myEleName in DemonNamesList 
                                rename myFreshlySummonedPet myEleName
                                wait 500
                                if insysmsg "That name is unacceptable"
                                    sysmsg "Unable to name summon: {{myEleName}}" 34
                                    clearsysmsg 
                                    poplist DemonNamesList "front"
                                    wait 500
                                else 
                                    break
                                endif
                            endfor 
                            if EnableOverheadMessages = 1      
                                wait 500
                                overhead "You may call me {{myEleName}}, Master." 1909 myFreshlySummonedPet
                                wait 2500
                                overhead "{{myEleName}} will protect you now...." 1909 myFreshlySummonedPet
                                wait 1000
                                overhead "Thank you, {{myEleName}}" 2086
                                wait 500
                            endif 
                        elseif NameAir = 1 or NameAir = 2 and list AirEleNamesList > 0
                            foreach myEleName in AirEleNamesList 
                                rename myFreshlySummonedPet myEleName
                                wait 250
                                if insysmsg "That name is unacceptable"
                                    sysmsg "Unable to name summon: {{myEleName}}" 34
                                    clearsysmsg 
                                    poplist AirEleNamesList "front"
                                    wait 500
                                else 
                                    break
                                endif
                            endfor  
                            if EnableOverheadMessages = 1  
                                wait 500
                                overhead "You may call me {{myEleName}}, Master." 1909 myFreshlySummonedPet
                                wait 2500
                                overhead "{{myEleName}} will protect you now...." 1909 myFreshlySummonedPet
                                wait 1000
                                overhead "Thank you, {{myEleName}}" 2086
                                wait 500
                            endif 
                        elseif NameWater = 1 or NameWater = 2 and list WaterEleNamesList > 0 
                            foreach myEleName in WaterEleNamesList 
                                rename myFreshlySummonedPet myEleName
                                wait 250
                                if insysmsg "That name is unacceptable"
                                    sysmsg "Unable to name summon: {{myEleName}}" 34
                                    clearsysmsg 
                                    poplist WaterEleNamesList "front"
                                    wait 500
                                else 
                                    break
                                endif
                            endfor    
                            if EnableOverheadMessages = 1
                                wait 500
                                overhead "You may call me {{myEleName}}, Master." 1909 myFreshlySummonedPet
                                wait 2500
                                overhead "{{myEleName}} will protect you now...." 1909 myFreshlySummonedPet
                                wait 250
                                wait 1000
                                overhead "Thank you, {{myEleName}}" 2086
                                wait 500
                            endif 
                        elseif NameEarth = 1 or NameEarth = 2 and list EarthEleNamesList > 0 
                            foreach myEleName in EarthEleNamesList 
                                rename myFreshlySummonedPet myEleName
                                wait 250
                                if insysmsg "That name is unacceptable"
                                    sysmsg "Unable to name summon: {{myEleName}}" 34
                                    clearsysmsg 
                                    poplist EarthEleNamesList "front"
                                    wait 500
                                else 
                                    break
                                endif
                            endfor  
                            if EnableOverheadMessages = 1
                                wait 500
                                overhead "You may call me {{myEleName}}, Master." 1909 myFreshlySummonedPet
                                wait 2500
                                overhead "{{myEleName}} will protect you now...." 1909 myFreshlySummonedPet
                                wait 1000
                                overhead "Thank you, {{myEleName}}" 2086
                                wait 500
                            endif 
                        endif                      
                        @setvar! NameOne EleName
                        menu myFreshlySummonedPet 3
                        @ignore myFreshlySummonedPet                  
                        if followers = 0
                            @setvar! NeedtoSummon 1
                        elseif followers = 1 and TotalFollowerCount > 0
                            @setvar! NeedtoSummon 1          
                        elseif followers = 2 and TotalFollowerCount = 1
                            @setvar! NeedtoSummon 0 
                            @setvar! SummonName 1
                        elseif followers = 2 and TotalFollowerCount = 2
                            @setvar! NeedtoSummon 1
                        elseif followers = 2 and TotalFollowerCount = 3
                            @setvar! NeedtoSummon 1
                        elseif followers = 2 and TotalFollowerCount = 4
                            @setvar! NeedtoSummon 1    
                        elseif followers = 3 and TotalFollowerCount = 1
                            @setvar! NeedtoSummon 0 
                            @setvar! SummonName 1
                        elseif followers = 3 and TotalFollowerCount = 2
                            @setvar! NeedtoSummon 0
                            @setvar! SummonName 1
                        elseif followers = 3 and TotalFollowerCount = 3
                            @setvar! NeedtoSummon 1
                        elseif followers = 3 and TotalFollowerCount = 4
                            @setvar! NeedtoSummon 1    
                        elseif followers = 4 and TotalFollowerCount = 1
                            @setvar! NeedtoSummon 0 
                            @setvar! SummonName 1
                        elseif followers = 4 and TotalFollowerCount = 2
                            @setvar! NeedtoSummon 0
                            @setvar! SummonName 1
                        elseif followers = 4 and TotalFollowerCount = 3
                            @setvar! NeedtoSummon 0
                            @setvar! SummonName 1
                        elseif followers = 4 and TotalFollowerCount = 4
                            @setvar! NeedtoSummon 1  
                        elseif followers = 5
                            @setvar! NeedtoSummon 0
                            @setvar! SummonName 1
                        endif                    
                        if NameFire = 1
                            poplist FireEleNamesList front
                        elseif NameDemon = 1
                            poplist DemonNamesList front
                        elseif NameAir = 1
                            poplist AirEleNamesList front
                        elseif NameWater = 1
                            poplist WaterEleNamesList front
                        elseif NameEarth = 1
                            poplist EarthEleNamesList front
                        endif                     
                        if NeedtoSummon = 0
                            @setvar! SummonName 1
                            wait 500
                            if EnableOverheadMessages = 1
                                overhead "Lets get going..." 2086
                                wait 500
                            endif
                        elseif NeedtoSummon = 1
                            if EnableOverheadMessages = 1
                                wait 1000
                        overhead "...but you are going to need some more help!" 2086
                            endif
                            @setvar! SummonName 2
                            @ignore myFreshlySummonedPet
                            wait 500
                        else 
                            break
                        endif
                            break                
                        elseif SummonName = 2
                            if EnableOverheadMessages = 1
                                wait 1500
                                overhead "Welcome.. and your name is?" 2086
                            endif 
                            wait 500
                            if NameFire = 1 and list FireEleNamesList > 0
                                foreach myEleName in FireEleNamesList 
                                    wait 500
                                    rename myFreshlySummonedPet myEleName
                                    wait 500
                                    if insysmsg "That name is unacceptable"
                                        sysmsg "Unable to name summon: {{myEleName}}" 34
                                        clearsysmsg 
                                        poplist FireEleNamesList "front"
                                        wait 500
                                    else 
                                        break
                                    endif
                                endfor
                                    if EnableOverheadMessages = 1
                                        wait 1000
                                        overhead "I am {{myEleName}}, Master." 1909 myFreshlySummonedPet
                                        wait 2500
                                        overhead "{{myEleName}} is yours to command..." 1909 myFreshlySummonedPet
                                endif 
                                    wait 250
                            elseif NameDemon = 1 and list DemonNamesList > 0
                                foreach myEleName in DemonNamesList 
                                    rename myFreshlySummonedPet myEleName
                                    wait 500
                                    if insysmsg "That name is unacceptable"
                                        sysmsg "Unable to name summon: {{myEleName}}" 34
                                        clearsysmsg 
                                        poplist DemonNamesList "front"
                                        wait 500
                                    else 
                                        break
                                    endif
                                endfor  
                                if EnableOverheadMessages = 1     
                                    wait 1000
                                    overhead "I am {{myEleName}}, Master." 1909 myFreshlySummonedPet
                                    wait 2500
                                    overhead "{{myEleName}} is yours to command..." 1909 myFreshlySummonedPet
                                endif 
                                wait 250
                            elseif NameAir = 1 and list AirEleNamesList > 0
                                foreach myEleName in AirEleNamesList 
                                    rename myFreshlySummonedPet myEleName
                                    wait 250
                                    if insysmsg "That name is unacceptable"
                                        sysmsg "Unable to name summon: {{myEleName}}" 34
                                        clearsysmsg 
                                        poplist AirEleNamesList "front"
                                        wait 500
                                    else 
                                        break
                                    endif
                                endfor  
                                if EnableOverheadMessages = 1  
                                    wait 1000
                                    overhead "I am {{myEleName}}, Master." 1909 myFreshlySummonedPet
                                    wait 2500
                                    overhead "{{myEleName}} is yours to command..." 1909 myFreshlySummonedPet
                                endif 
                                wait 250
                            elseif NameWater = 1 and list WaterEleNamesList > 0 
                                foreach myEleName in WaterEleNamesList 
                                    rename myFreshlySummonedPet myEleName
                                    wait 250
                                    if insysmsg "That name is unacceptable"
                                        sysmsg "Unable to name summon: {{myEleName}}" 34
                                        clearsysmsg 
                                        poplist WaterEleNamesList "front"
                                        wait 500
                                    else 
                                        break
                                    endif
                                endfor  
                                if EnableOverheadMessages = 1  
                                    wait 1000
                                    overhead "I am {{myEleName}}, Master." 1909 myFreshlySummonedPet
                                    wait 2500
                                    overhead "{{myEleName}} is yours to command..." 1909 myFreshlySummonedPet
                                endif
                                wait 250
                            elseif NameEarth = 1 and list EarthEleNamesList > 0 
                                foreach myEleName in EarthEleNamesList 
                                    rename myFreshlySummonedPet myEleName
                                    wait 250
                                    if insysmsg "That name is unacceptable"
                                        sysmsg "Unable to name summon: {{myEleName}}" 34
                                        clearsysmsg 
                                        poplist EarthEleNamesList "front"
                                        wait 500
                                    else 
                                        break
                                    endif
                                endfor  
                                if EnableOverheadMessages = 1
                                    wait 1000
                                    overhead "I am {{myEleName}}, Master." 1909 myFreshlySummonedPet
                                    wait 2500
                                    overhead "{{myEleName}} is yours to command..." 1909 myFreshlySummonedPet
                                endif
                                wait 250
                            endif  
                        @setvar! NameTwo EleName
                        menu myFreshlySummonedPet 3
                        @ignore myFreshlySummonedPet
                        if NameFire = 1
                            poplist FireEleNamesList front
                        elseif NameDemon = 1
                            poplist DemonNamesList front
                        elseif NameAir = 1
                            poplist AirEleNamesList front
                        elseif NameWater = 1
                            poplist WaterEleNamesList front
                        elseif NameEarth = 1
                            poplist EarthEleNamesList front
                        endif                    
                        if followers = 0
                            @setvar! NeedtoSummon 1
                        elseif followers = 1 and TotalFollowerCount > 0
                            @setvar! NeedtoSummon 1     
                        elseif followers = 2 and TotalFollowerCount = 1
                            @setvar! NeedtoSummon 0 
                            @setvar! SummonName 1
                        elseif followers = 2 and TotalFollowerCount = 2
                            @setvar! NeedtoSummon 1
                        elseif followers = 2 and TotalFollowerCount = 3
                            @setvar! NeedtoSummon 1
                        elseif followers = 2 and TotalFollowerCount = 4
                            @setvar! NeedtoSummon 1
                        elseif followers = 3 and TotalFollowerCount = 1
                            @setvar! NeedtoSummon 0 
                            @setvar! SummonName 1
                        elseif followers = 3 and TotalFollowerCount = 2
                            @setvar! NeedtoSummon 0
                            @setvar! SummonName 1
                        elseif followers = 3 and TotalFollowerCount = 3
                            @setvar! NeedtoSummon 1
                        elseif followers = 3 and TotalFollowerCount = 4
                            @setvar! NeedtoSummon 1
                        elseif followers = 4 and TotalFollowerCount = 1
                            @setvar! NeedtoSummon 0 
                            @setvar! SummonName 1
                        elseif followers = 4 and TotalFollowerCount = 2
                            @setvar! NeedtoSummon 0
                            @setvar! SummonName 1
                        elseif followers = 4 and TotalFollowerCount = 3
                            @setvar! NeedtoSummon 0
                            @setvar! SummonName 1
                        elseif followers = 4 and TotalFollowerCount = 4
                            @setvar! NeedtoSummon 1  
                        elseif followers = 5
                            @setvar! NeedtoSummon 0
                            @setvar! SummonName 1
                        endif                    
                        if NeedtoSummon = 0
                            @setvar! SummonName 1
                            if EnableOverheadMessages = 1
                                wait 1500
                                overhead "Alright team, lets do this!" 2086
                            endif 
                        elseif NeedtoSummon = 1
                            if EnableOverheadMessages = 1
                                wait 500
                                overhead "Hmm... I think we should bring even more..."
                            endif 
                            wait 500
                            @setvar! SummonName 3
                            if NameFire = 1
                                poplist FireEleNamesList front
                            elseif NameDemon = 1
                                poplist DemonNamesList front
                            elseif NameAir = 1
                                poplist AirEleNamesList front
                            elseif NameWater = 1
                                poplist WaterEleNamesList front
                            elseif NameEarth = 1
                                poplist EarthEleNamesList front
                            endif 
                        else 
                            break
                        endif
                        break                
                    elseif SummonName = 3
                        if EnableOverheadMessages = 1
                            wait 1500
                            overhead "Introduce yourself to the team..." 2086
                        endif
                        wait 500
                        if NameFire = 1 and list FireEleNamesList > 0
                            foreach myEleName in FireEleNamesList 
                                rename myFreshlySummonedPet myEleName
                                wait 500
                                if insysmsg "That name is unacceptable"
                                    sysmsg "Unable to name summon: {{myEleName}}" 34
                                    clearsysmsg 
                                    poplist FireEleNamesList "front"
                                    wait 500
                                else 
                                    break
                                endif
                            endfor
                            if EnableOverheadMessages = 1
                                wait 1000
                                overhead "{{myEleName}} is what they call me..." 1909 myFreshlySummonedPet
                                wait 2000
                                overhead "{{myEleName}} will kill for you, my Lord." 1909 myFreshlySummonedPet
                            endif 
                            wait 250
                        elseif NameDemon = 1 and list DemonNamesList > 0
                            foreach myEleName in DemonNamesList 
                                rename myFreshlySummonedPet myEleName
                                wait 500
                                if insysmsg "That name is unacceptable"
                                    sysmsg "Unable to name summon: {{myEleName}}" 34
                                    clearsysmsg 
                                    poplist DemonNamesList "front"
                                    wait 500
                                else 
                                    break
                                endif
                            endfor       
                            if EnableOverheadMessages = 1
                                wait 1000
                                overhead "{{myEleName}} is what they call me..." 1909 myFreshlySummonedPet
                                wait 2000
                                overhead "{{myEleName}} will kill for you, my Lord." 1909 myFreshlySummonedPet
                            endif 
                            wait 250
                        elseif NameAir = 1 and list AirEleNamesList > 0
                            foreach myEleName in AirEleNamesList 
                                rename myFreshlySummonedPet myEleName
                                wait 250
                                if insysmsg "That name is unacceptable"
                                    sysmsg "Unable to name summon: {{myEleName}}" 34
                                    clearsysmsg 
                                    poplist AirEleNamesList "front"
                                    wait 500
                                else 
                                    break
                                endif
                            endfor   
                            if EnableOverheadMessages = 1 
                                wait 1000
                                overhead "{{myEleName}} is what they call me..." 1909 myFreshlySummonedPet
                                wait 2000
                                overhead "{{myEleName}} will kill for you, my Lord." 1909 myFreshlySummonedPet
                            endif 
                            wait 250
                        elseif NameWater = 1 and list WaterEleNamesList > 0 
                            foreach myEleName in WaterEleNamesList 
                                rename myFreshlySummonedPet myEleName
                                wait 250
                                if insysmsg "That name is unacceptable"
                                    sysmsg "Unable to name summon: {{myEleName}}" 34
                                    clearsysmsg 
                                    poplist WaterEleNamesList "front"
                                    wait 500
                                else 
                                    break
                                endif
                            endfor    
                            if EnableOverheadMessages = 1
                                wait 1000
                                overhead "{{myEleName}} is what they call me..." 1909 myFreshlySummonedPet
                                wait 2000
                                overhead "{{myEleName}} will kill for you, my Lord." 1909 myFreshlySummonedPet
                            endif 
                            wait 250
                        elseif NameEarth = 1 and list EarthEleNamesList > 0 
                            foreach myEleName in EarthEleNamesList 
                                rename myFreshlySummonedPet myEleName
                                wait 250
                                if insysmsg "That name is unacceptable"
                                    sysmsg "Unable to name summon: {{myEleName}}" 34
                                    clearsysmsg 
                                    poplist EarthEleNamesList "front"
                                    wait 500
                                else 
                                    break
                                endif
                            endfor  
                            if EnableOverheadMessages = 1
                                wait 1000
                                overhead "{{myEleName}} is what they call me..." 1909 myFreshlySummonedPet
                                wait 2000
                                overhead "{{myEleName}} will kill for you, my Lord." 1909 myFreshlySummonedPet
                            endif
                            wait 250
                        endif  
                        @setvar! NameThree EleName
                        menu myFreshlySummonedPet 3
                        @ignore myFreshlySummonedPet
                        if NameFire = 1
                            poplist FireEleNamesList front
                        elseif NameDemon = 1
                            poplist DemonNamesList front
                        elseif NameAir = 1
                            poplist AirEleNamesList front
                        elseif NameWater = 1
                            poplist WaterEleNamesList front
                        elseif NameEarth = 1
                            poplist EarthEleNamesList front
                        endif 
                        if followers = 0
                            @setvar! NeedtoSummon 1
                        elseif followers = 1 and TotalFollowerCount > 0
                            @setvar! NeedtoSummon 1      
                        elseif followers = 2 and TotalFollowerCount = 1
                            @setvar! NeedtoSummon 0 
                            @setvar! SummonName 1
                        elseif followers = 2 and TotalFollowerCount = 2
                            @setvar! NeedtoSummon 1
                        elseif followers = 2 and TotalFollowerCount = 3
                            @setvar! NeedtoSummon 1
                        elseif followers = 2 and TotalFollowerCount = 4
                            @setvar! NeedtoSummon 1
                        elseif followers = 3 and TotalFollowerCount = 1
                            @setvar! NeedtoSummon 0 
                            @setvar! SummonName 1
                        elseif followers = 3 and TotalFollowerCount = 2
                            @setvar! NeedtoSummon 0
                            @setvar! SummonName 1
                        elseif followers = 3 and TotalFollowerCount = 3
                            @setvar! NeedtoSummon 1
                        elseif followers = 3 and TotalFollowerCount = 4
                            @setvar! NeedtoSummon 1
                        elseif followers = 4 and TotalFollowerCount = 1
                            @setvar! NeedtoSummon 0 
                            @setvar! SummonName 1
                        elseif followers = 4 and TotalFollowerCount = 2
                            @setvar! NeedtoSummon 0
                            @setvar! SummonName 1
                        elseif followers = 4 and TotalFollowerCount = 3
                            @setvar! NeedtoSummon 0
                            @setvar! SummonName 1
                        elseif followers = 4 and TotalFollowerCount = 4
                            @setvar! NeedtoSummon 1  
                        elseif followers = 5
                            @setvar! NeedtoSummon 0
                            @setvar! SummonName 1
                        endif                    
                        if NeedtoSummon = 0
                            @setvar! SummonName 1
                            if EnableOverheadMessages = 1
                                wait 1500
                                overhead "Thats what I like to hear!  Time to work..." 2086
                            endif
                        elseif NeedtoSummon = 1
                            @setvar! SummonName 4
                            if EnableOverheadMessages = 1
                                wait 500
                                overhead "Hmm..  I think see room for one more...." 2086
                            endif 
                            wait 500
                            if NameFire = 1
                                poplist FireEleNamesList front
                            elseif NameDemon = 1
                                poplist DemonNamesList front
                            elseif NameAir = 1
                                poplist AirEleNamesList front
                            elseif NameWater = 1
                                poplist WaterEleNamesList front
                            elseif NameEarth = 1
                                poplist EarthEleNamesList front
                            endif 
                        else 
                            break
                        endif
                        break                    
                    elseif SummonName = 4
                        if EnableOverheadMessages = 1
                            wait 1500
                            overhead "Do you have a name?" 2086
                        endif 
                        wait 500
                        if NameFire = 1 and list FireEleNamesList > 0
                            foreach myEleName in FireEleNamesList 
                                rename myFreshlySummonedPet myEleName
                                wait 500
                                if insysmsg "That name is unacceptable"
                                    sysmsg "Unable to name summon: {{myEleName}}" 34
                                    clearsysmsg 
                                    poplist FireEleNamesList "front"
                                    wait 500
                                else 
                                    break
                                endif
                            endfor
                            if EnableOverheadMessages = 1
                                wait 1000
                                overhead "Yes, I am {{myEleName}}, Master." 1909 myFreshlySummonedPet
                                wait 2000
                                overhead "{{myEleName}} will protect you now...." 1909 myFreshlySummonedPet
                            endif 
                            wait 250
                        elseif NameDemon = 1 and list DemonNamesList > 0
                            foreach myEleName in DemonNamesList 
                                rename myFreshlySummonedPet myEleName
                                wait 500
                                if insysmsg "That name is unacceptable"
                                    sysmsg "Unable to name summon: {{myEleName}}" 34
                                    clearsysmsg 
                                    poplist DemonNamesList "front"
                                    wait 500
                                else 
                                    break
                                endif
                            endfor    
                            if EnableOverheadMessages = 1   
                                wait 1000
                                overhead "Yes, I am {{myEleName}}, Master." 1909 myFreshlySummonedPet
                                wait 2000
                                overhead "{{myEleName}} will protect you now...." 1909 myFreshlySummonedPet
                            endif 
                            wait 250
                        elseif NameAir = 1 and list AirEleNamesList > 0
                            foreach myEleName in AirEleNamesList 
                                rename myFreshlySummonedPet myEleName
                                wait 250
                                if insysmsg "That name is unacceptable"
                                    sysmsg "Unable to name summon: {{myEleName}}" 34
                                    clearsysmsg 
                                    poplist AirEleNamesList "front"
                                    wait 500
                                else 
                                    break
                                endif
                            endfor    
                            if EnableOverheadMessages = 1
                                wait 1000
                                overhead "Yes, I am {{myEleName}}, Master." 1909 myFreshlySummonedPet
                                wait 2000
                                overhead "{{myEleName}} will protect you now...." 1909 myFreshlySummonedPet
                            endif 
                            wait 250
                        elseif NameWater = 1 and list WaterEleNamesList > 0 
                            foreach myEleName in WaterEleNamesList 
                                rename myFreshlySummonedPet myEleName
                                wait 250
                                if insysmsg "That name is unacceptable"
                                    sysmsg "Unable to name summon: {{myEleName}}" 34
                                    clearsysmsg 
                                    poplist WaterEleNamesList "front"
                                    wait 500
                                else 
                                    break
                                endif
                            endfor  
                            if EnableOverheadMessages = 1  
                                wait 1000
                                overhead "Yes, I am {{myEleName}}, Master." 1909 myFreshlySummonedPet
                                wait 2000
                                overhead "{{myEleName}} will protect you now...." 1909 myFreshlySummonedPet
                            endif 
                            wait 250
                        elseif NameEarth = 1 and list EarthEleNamesList > 0 
                            foreach myEleName in EarthEleNamesList 
                                rename myFreshlySummonedPet myEleName
                                wait 250
                                if insysmsg "That name is unacceptable"
                                    sysmsg "Unable to name summon: {{myEleName}}" 34
                                    clearsysmsg 
                                    poplist EarthEleNamesList "front"
                                    wait 500
                                else 
                                    break
                                endif
                            endfor  
                            if EnableOverheadMessages = 1
                                wait 1000
                                overhead "Yes, I am {{myEleName}}, Master." 1909 myFreshlySummonedPet
                                wait 2000
                                overhead "{{myEleName}} will protect you now...." 1909 myFreshlySummonedPet
                            endif 
                            wait 250
                        endif  
                        @setvar! NameFour EleName
                        menu myFreshlySummonedPet 3
                        @ignore myFreshlySummonedPet
                        @setvar! SummonName 1
                        if NameFire = 1
                            poplist FireEleNamesList front
                        elseif NameDemon = 1
                            poplist DemonNamesList front
                        elseif NameAir = 1
                            poplist AirEleNamesList front
                        elseif NameWater = 1
                            poplist WaterEleNamesList front
                        elseif NameEarth = 1
                            poplist EarthEleNamesList front
                        endif    
                        if EnableOverheadMessages = 1                 
                            wait 1500
                            overhead "Alright team, lets do this!" 2086
                        endif
                        break
                    else 
                        @setvar! SummonName 1
                    endif  
                    endfor              
                endif             
                    if followers = 0
                        @setvar! NeedtoSummon 1
                    elseif followers = 1 and TotalFollowerCount > 0
                        @setvar! NeedtoSummon 1      
                    elseif followers = 2 and TotalFollowerCount = 1
                        @setvar! NeedtoSummon 0 
                        @setvar! SummonName 1
                        break
                    elseif followers = 2 and TotalFollowerCount = 2
                        @setvar! NeedtoSummon 1
                    elseif followers = 2 and TotalFollowerCount = 3
                        @setvar! NeedtoSummon 1
                    elseif followers = 2 and TotalFollowerCount = 4
                        @setvar! NeedtoSummon 1
                    elseif followers = 3 and TotalFollowerCount = 1
                        @setvar! NeedtoSummon 0 
                        @setvar! SummonName 1
                        break
                    elseif followers = 3 and TotalFollowerCount = 2
                        @setvar! NeedtoSummon 0
                        @setvar! SummonName 1
                        break
                    elseif followers = 3 and TotalFollowerCount = 3
                        @setvar! NeedtoSummon 1
                    elseif followers = 3 and TotalFollowerCount = 4
                        @setvar! NeedtoSummon 1
                    elseif followers = 4 and TotalFollowerCount = 1
                        @setvar! NeedtoSummon 0 
                        @setvar! SummonName 1
                        break
                    elseif followers = 4 and TotalFollowerCount = 2
                        @setvar! NeedtoSummon 0
                        @setvar! SummonName 1
                        break
                    elseif followers = 4 and TotalFollowerCount = 3
                        @setvar! NeedtoSummon 0
                        @setvar! SummonName 1
                        break
                    elseif followers = 4 and TotalFollowerCount = 4
                        @setvar! NeedtoSummon 1  
                    elseif followers = 5
                        @setvar! NeedtoSummon 0
                        @setvar! SummonName 1
                        break
                    endif
                    endfor
                replay
            endif
        endif

        if EnableSummons = 1 
            if dead myMainTankPet
                if not dead earthOne
                    @setvar! myMainTankPet earthOne
                elseif not dead earthTwo
                    @setvar! myMainTankPet earthTwo
                elseif not dead waterOne
                    @setvar! myMainTankPet waterOne
                elseif not dead waterTwo
                    @setvar! myMainTankPet waterTwo
                elseif not dead demonOne
                    @setvar! myMainTankPet demonOne
                elseif not dead demonTwo
                    @setvar! myMainTankPet demonTwo
                elseif not dead fireOne
                    @setvar! myMainTankPet fireOne
                elseif not dead fireTwo
                    @setvar! myMainTankPet fireTwo
                elseif not dead airOne
                    @setvar! myMainTankPet airOne
                elseif not dead airTwo
                    @setvar! myMainTankPet airTwo
                endif
            else 
                if timer "GuardCheckTimer" > 30000
                    menu myMainTankPet 3
                    settimer "GuardCheckTimer" 0
                endif 
                if EnableSummons = 1 and followers >= 1 and timer "GuardCommentTimer" > 420000 and EnableOverheadMessages = 1
                    if GuardComment = 1 
                        overhead "I will keep watch, Master..." 44 myMainTankPet
                        menu myMainTankPet 3
                        @setvar! GuardComment 2
                        wait 500
                        settimer "GuardCommentTimer" 0
                    elseif GuardComment = 2
                        overhead "*looks around menacingly...*" 2117 myMainTankPet
                        menu myMainTankPet 3
                        @setvar! GuardComment 3
                        wait 500
                        settimer "GuardCommentTimer" 0
                    elseif GuardComment = 3
                        overhead "*cracks knuckles...*" 2117 myMainTankPet
                        menu myMainTankPet 3
                        @setvar! GuardComment 4
                        wait 500
                        settimer "GuardCommentTimer" 0
                    elseif GuardComment = 4
                        overhead "*scanning for threats...*" 2117 myMainTankPet
                        menu myMainTankPet 3
                        wait 500
                        @setvar! GuardComment 5
                        settimer "GuardCommentTimer" 0
                    elseif GuardComment = 5
                        overhead "*growls...*" 2117 myMainTankPet
                        menu myMainTankPet 3
                        @setvar! GuardComment 6
                        wait 500
                        settimer "GuardCommentTimer" 0
                    elseif GuardComment = 6
                        overhead "This is not very exciting, is it?" 44 myMainTankPet
                        menu myMainTankPet 3
                        @setvar! GuardComment 7
                        wait 500
                        settimer "GuardCommentTimer" 0
                    elseif GuardComment = 7
                        overhead "I think we have already passed that tree today..." 44 myMainTankPet
                        menu myMainTankPet 3
                        @setvar! GuardComment 8
                        wait 500
                        settimer "GuardCommentTimer" 0
                    elseif GuardComment = 8
                        overhead "Do you know any good jokes?" 44 myMainTankPet
                        menu myMainTankPet 3
                        @setvar! GuardComment 9
                        wait 1500
                        overhead "Ever heard of a place called "Nantucket"?" 2086
                        settimer "GuardCommentTimer" 0
                    elseif GuardComment = 9
                        overhead "Can I give that a try?" 44 myMainTankPet
                        menu myMainTankPet 3
                        @setvar! GuardComment 10
                        wait 1500
                        overhead "Be my guest, big fella" 2086
                        settimer "GuardCommentTimer" 0
                    elseif GuardComment = 10
                        overhead "I see a PK!!  Oh... nope, just some dog shit..." 44 myMainTankPet
                        menu myMainTankPet 3
                        @setvar! GuardComment 11
                        wait 1500
                        overhead "lol" 2086
                        settimer "GuardCommentTimer" 0
                    elseif GuardComment = 11
                        overhead "Would it not be more fun to kill something?" 44 myMainTankPet
                        menu myMainTankPet 3
                        @setvar! GuardComment 12
                        wait 1500
                        overhead "I am but a humble harvester..." 2086
                        settimer "GuardCommentTimer" 0
                    elseif GuardComment = 12
                        overhead "*yawns*" 2117 myMainTankPet
                        overhead "What time is lunch break?" 44 myMainTankPet
                        menu myMainTankPet 3
                        @setvar! GuardComment 13
                        wait 1500
                        overhead "We just started!" 2086
                        settimer "GuardCommentTimer" 0
                    elseif GuardComment = 13
                        overhead "My last gig was in Aegis 4... this is slightly less exciting...." 44 myMainTankPet
                        menu myMainTankPet 3
                        @setvar! GuardComment 14
                        wait 500
                        settimer "GuardCommentTimer" 0
                    elseif GuardComment = 14
                        overhead "How about I do the harvesting and you be the bodyguard?" 44 myMainTankPet
                        menu myMainTankPet 3
                        @setvar! GuardComment 15
                        wait 1500
                        overhead "Fine be me... I"d settle for you carrying something, at least..
                        settimer "GuardCommentTimer" 0
                    elseif GuardComment = 15
                        overhead "I should have stayed in school..." 44 myMainTankPet
                        menu myMainTankPet 3
                        @setvar! GuardComment 1
                        wait 1500
                        overhead "You re tellin me, bud..."
                        settimer "GuardCommentTimer" 0         
                    else
                        overhead "*snarls...*" 2117 myMainTankPet
                        menu myMainTankPet 3
                        @setvar! GuardComment 1
                        wait 1500
                        overhead "*barks!*" 2329
                        wait 1500
                        overhead "You are weird..." 44 myMainTankPet
                        settimer "GuardCommentTimer" 0
                    endif
                endif 
            endif 
        endif 

        if skill "Magery" >= 80 and counttype "mushroom" self = 0 and EnableMushroomMaker = 1
            if skill "Magery" >= 80 and not findtype "spellbook" hand and findtype "spellbook" backpack as myspellbook
                getlabel myspellbook SpellbookLabel
                for 5
                wait 250
                if "aspect" in SpellbookLabel
                    break
                elseif "unidentified" in SpellbookLabel or "[blessed" in SpellbookLabel or "spells)" in SpellbookLabel 
                    @ignore myspellbook 
                    wait 250
                    if not findtype "spellbook" hand and findtype "spellbook" self as myspellbook
                        getlabel myspellbook SpellbookLabel
                    else 
                        overhead "[ NO SPELLBOOK! ]" 337
                        break
                    endif
                endif 
                endfor
                dclick myspellbook
                wait 500
            endif 
            if EnableOverheadMessages = 1
                overhead "Hang on, I need to make some shrooms..." 2086
            endif 
            wait 1000    
            for 100
            if counttype "Ginseng" self > 0 and counttype "Garlic" self > 0 and counttype "Mandrake Root%s%" self > 0 and mana >= 4
                cast "create food"
                wait 100
                while casting 
                    wait 50
                endwhile
                if counttype "mushroom" self >= MakeMushroomAmount
                    break
                endif
            else
                if EnableOverheadMessages = 1
                    overhead "...I am out of regs!" 2086 
                endif
                @setvar! TimeToGo 1
                replay
            endif 
            endfor
            if EnableOverheadMessages = 1
                overhead "There, that is better!" 2086
            endif 
            wait 500            
        endif


//////////////////////////
//   UTILITY SECTION:   //
//////////////////////////
    
        if EnableEatingFood = 1
            if not findbuff "food satisfaction" and findtype "tray" self
                if EnableOverheadMessages = 1
                    overhead "Hold on, I"m hungry..." 2086
                    wait 1000
                endif
                if findtype "tray" backpack as food
                    overhead "*eating food...*" 0
                    dclick food
                    if EnableOverheadMessages = 1
                        wait 1500
                        overhead "Ok, I"m ready to get to work!" 2086
                    endif 
                endif
            endif 
        endif 

        if EnableToolCountdown = 1
            if findtype "pickaxe|hatchet" hand as MyAxe
                getlabel MyAxe AxeLabel
                if "(5 uses" in AxeLabel or "(4 uses" in AxeLabel or "(3 uses" in AxeLabel or "(2 uses" in AxeLabel or "(1 use" in AxeLabel
                    if EnableRecycleTool = 0
                        sysmsg "YOUR TOOL IS ABOUT TO BREAK....." 153
                    endif 
                    if EnableRecycleTool = 1
                        sysmsg "YOUR TOOL IS ABOUT TO BE RECYCLED....." 93
                    endif 
                endif 
            endif 
        endif

        if EnableRecycleTool = 1
            if findtype "tool kit" self as ToolKit
                if findtype "pickaxe|hatchet" hand as MyAxe
                    getlabel MyAxe AxeLabel
                    if "(2 use" in AxeLabel
                        overhead "*recycling tool...*" 93
                        clearhands both
                        wait 250
                        if not gumpexists 949095101 
                            dclick ToolKit
                            waitforgump 949095101 2000
                        endif                 
                        for 5
                        gumpresponse 3 949095101
                        wait 250
                        if insysmsg "Target an individual item"
                            target MyAxe
                            wait 250
                            gumpclose 949095101
                            wait 1000
                            if EnableOverheadMessages = 1
                                overhead "Every little bit counts..." 2086
                            endif 
                            if SetIngotBagtoOrganizer03 = 1
                                hotkey "Organizer Agent-03" 
                            endif 
                            replay
                        else
                            gumpresponse 2
                            wait 250
                        endfor 
                        endif 
                    endif 
                endif 
            endif
            if not findtype "tool kit" self and timer "InventoryTimer" > 15000
                overhead "[ NO TOOL KIT ]" 337
                settimer "InventoryTimer" 0
                sysmsg "Disable 'EnableRecycleTool' in script variables to turn off this overhead message!" 0
            endif
        endif 

        if insysmsg "As the owner" or insysmsg "Your house and its contents"
            wait 1000
            if find MyDoor ground -1 -1 2 and CloseMyDoor = 1
                overhead "*door slams!*" 0 MyDoor
                dclick MyDoor 
                wait 500
            endif
        endif 


/////////////////////////
//  AUTO TARGET MOBS:  //
/////////////////////////

            if EnableAutoAttackGreyMOB = 1 
                if skill "Magery" >= 80 or skill "Swordsmanship" >= 50 or skill "Mace Fighting" >= 50 and warmode 
                    if EnableOverheadMessages = 1
                        overhead "*cracks knuckles...*" 2086
                    else 
                        overhead "[ WAR MODE ON! ]" 2117
                    endif 
                    if EnableWeaponCheck = 1
                        if skill "Swordsmanship" >= 50 
                            if not findtype "30988|5049|3909|3911|3915|3917|3934|3937|5046|5115|5119|5182|5185|5187|31128|31190" self
                                overhead "[ NO WEAPON! ]" 337
                                wait 2000
                            else
                                if not findtype "30988|5049|3909|3911|3915|3917|3934|3937|5046|5115|5119|5182|5185|5187|31128|31190" hand 
                                    if findtype "30988|5049|3909|3911|3915|3917|3934|3937|5046|5115|5119|5182|5185|5187|31128|31190" backpack as weapon
                                        for 10
                                        getlabel weapon WeaponLabel
                                        wait 500
                                        if "aspect" in WeaponLabel
                                            break
                                        else
                                             @ignore weapon
                                            wait 150
                                            if findtype "30988|5049|3909|3911|3915|3917|3934|3937|5046|5115|5119|5182|5185|5187|31128|31190" backpack as weapon
                                                getlabel weapon WeaponLabel
                                            endif
                                        endif
                                        endfor
                                        wait 150
                                        dclick weapon
                                        wait 500
                                    endif 
                                endif
                            endif
                        elseif skill "Mace Fighting" >= 50 
                            if not findtype "31180|3568|3713|3721|3932|5040|5044|5112|5127|5177|5179|5181|30991|30999|31000|31001|31014|31178|31180|31182" self
                                overhead "[ NO WEAPON! ]" 337
                                wait 2000
                            else
                                if not findtype "31180|3568|3713|3721|3932|5040|5044|5112|5127|5177|5179|5181|30991|30999|31000|31001|31014|31178|31180|31182" hand 
                                    if findtype "31180|3568|3713|3721|3932|5040|5044|5112|5127|5177|5179|5181|30991|30999|31000|31001|31014|31178|31180|31182" backpack as weapon
                                        for 10
                                        getlabel weapon WeaponLabel
                                        wait 500
                                        if "aspect" in WeaponLabel
                                            break
                                        else
                                             @ignore weapon
                                            wait 150
                                            if findtype "31180|3568|3713|3721|3932|5040|5044|5112|5127|5177|5179|5181|30991|30999|31000|31001|31014|31178|31180|31182" backpack as weapon
                                                getlabel weapon WeaponLabel
                                            endif
                                        endif 
                                        endfor  
                                        wait 150
                                        dclick weapon
                                        wait 500
                                    endif 
                                endif
                            endif
                        elseif skill "Magery" >= 80 and not findtype "spellbook" hand and findtype "spellbook" backpack as myspellbook
                            getlabel myspellbook SpellbookLabel
                            for 5
                            wait 250
                            if "aspect" in SpellbookLabel
                                break
                            elseif "unidentified" in SpellbookLabel or "[blessed" in SpellbookLabel or "spells)" in SpellbookLabel
                                @ignore myspellbook 
                                wait 250
                                if not findtype "spellbook" hand and findtype "spellbook" self as myspellbook
                                    getlabel myspellbook SpellbookLabel
                                else 
                                    overhead "[ NO SPELLBOOK! ]" 337
                                    break
                                endif
                            endif 
                            endfor
                            dclick myspellbook
                            wait 500
                        endif 
                    endif

                    clearsysmsg   
                    for 1000     
                    hotkey "Target Closest Non-Friendly Monster"
                    wait 500

                    if insysmsg "No one matching that was found" 
                        hotkey "Cancel Current Target"      
                        @setvar CurrentTarget 0
                        if EnableOverheadMessages = 1
                            wait 750
                            overhead "Is there no one else??" 2086
                            wait 1000
                            overhead "Alright then, I guess its back to work..." 2086
                        else 
                            overhead "[ WAR MODE OFF ]" 84
                        endif 
                        wait 1000
                        hotkey "Toggle Peace Only"
                        hotkey "Clear Target Queue"
                        clearsysmsg 
                        replay                                    
                    else             
                        @setvar CurrentTarget lasttarget 
                        getlabel CurrentTarget TargetDesc
                    endif 

                    while not dead CurrentTarget                        
                        if EnableTrackingAutoRecall = 1
                            if PKTrackingRange = 60 
                                 if insysmsg ": 60 step" or insysmsg "60 space" or insysmsg ": 59 step" or insysmsg "59 space" or insysmsg ": 58 step" or insysmsg "58 space" or insysmsg ": 57 step" or insysmsg "57 space" or insysmsg ": 56 step" or insysmsg "56 space" or insysmsg ": 55 step" or insysmsg "55 space" or insysmsg ": 54 step" or insysmsg "54 space" or insysmsg ": 53 step" or insysmsg "53 space" or insysmsg ": 52 step" or insysmsg "52 space" or insysmsg ": 51 step" or insysmsg "51 space" or insysmsg ": 50 step" or insysmsg "50 space" or insysmsg ": 49 step" or insysmsg "49 space" or insysmsg ": 48 step" or insysmsg "48 space" or insysmsg ": 47 step" or insysmsg "47 space" or insysmsg ": 46 step" or insysmsg "46 space" or insysmsg ": 45 step" or insysmsg "45 space" or insysmsg ": 44 step" or insysmsg "44 space" or insysmsg ": 43 step" or insysmsg "43 space" or insysmsg ": 42 step" or insysmsg "42 space" or insysmsg ": 41 step" or insysmsg "41 space" or insysmsg ": 40 step" or insysmsg "40 space" or insysmsg ": 39 step" or insysmsg "39 space" or insysmsg ": 38 step" or insysmsg "38 space" or insysmsg ": 37 step" or insysmsg "37 space" or insysmsg ": 36 step" or insysmsg "36 space" or insysmsg ": 35 step" or insysmsg "35 space" or insysmsg ": 34 step" or insysmsg "34 space" or insysmsg ": 33 step" or insysmsg "33 space" or insysmsg ": 32 step" or insysmsg "32 space" or insysmsg ": 31 step" or insysmsg "31 space" or insysmsg ": 30 step" or insysmsg "30 space" or insysmsg ": 29 step" or insysmsg "29 space" or insysmsg ": 28 step" or insysmsg "28 space" or insysmsg ": 27 step" or insysmsg "27 space" or insysmsg ": 26 step" or insysmsg "26 space" or insysmsg ": 25 step" or insysmsg "25 space" or insysmsg ": 24 step" or insysmsg "24 space" or insysmsg ": 23 step" or insysmsg "23 space" or insysmsg ": 22 step" or insysmsg "22 space" or insysmsg ": 21 step" or insysmsg "21 space" or insysmsg ": 20 step" or insysmsg "20 space" or insysmsg ": 19 step" or insysmsg "19 space" or insysmsg ": 18 step" or insysmsg "18 space" or insysmsg ": 17 step" or insysmsg "17 space" or insysmsg ": 16 step" or insysmsg "16 space" or insysmsg ": 15 step" or insysmsg "15 space" or insysmsg ": 14 step" or insysmsg "14 space" or insysmsg ": 13 step" or insysmsg "13 space" or insysmsg ": 12 step" or insysmsg "12 space" or insysmsg ": 11 step" or insysmsg "11 space" or insysmsg ": 10 step" or insysmsg "10 space" or insysmsg ": 9 step" or insysmsg "(9 space" or insysmsg ": 8 step" or insysmsg "(8 space" or insysmsg ": 7 step" or insysmsg "(7 space" or insysmsg ": 6 step" or insysmsg "(6 space" or insysmsg ": 5 step" or insysmsg "(5 space" or insysmsg ": 4 step" or insysmsg "(4 space" or insysmsg ": 3 step" or insysmsg "(3 space" or insysmsg ": 2 step" or insysmsg "(2 space" or insysmsg ": 1 step" or insysmsg "(1 space" or insysmsg ": 0 step" or insysmsg "(0 space"
                                    if EnableRedAlertOverhead = 1
                                        overhead "[ !! RED ALERT !! ]" 37
                                    endif 
                                    if DungeonMode = 1 and EnableAutoRedDungeonGate = 1
                                        hotkey "Toggle War Only"
                                    elseif DungeonMode = 1 and EnableAutoRedDungeonGate = 0
                                        if not hidden
                                            useskill "Hiding"
                                        endif
                                    elseif DungeonMode = 0
                                        @setvar! RedTargetFound 1
                                        @setvar! TimeToGo 1
                                        clearsysmsg
                                    endif 
                                endif
                            elseif PKTrackingRange = 50 
                                if insysmsg ": 50 step" or insysmsg "50 space" or insysmsg ": 49 step" or insysmsg "49 space" or insysmsg ": 48 step" or insysmsg "48 space" or insysmsg ": 47 step" or insysmsg "47 space" or insysmsg ": 46 step" or insysmsg "46 space" or insysmsg ": 45 step" or insysmsg "45 space" or insysmsg ": 44 step" or insysmsg "44 space" or insysmsg ": 43 step" or insysmsg "43 space" or insysmsg ": 42 step" or insysmsg "42 space" or insysmsg ": 41 step" or insysmsg "41 space" or insysmsg ": 40 step" or insysmsg "40 space" or insysmsg ": 39 step" or insysmsg "39 space" or insysmsg ": 38 step" or insysmsg "38 space" or insysmsg ": 37 step" or insysmsg "37 space" or insysmsg ": 36 step" or insysmsg "36 space" or insysmsg ": 35 step" or insysmsg "35 space" or insysmsg ": 34 step" or insysmsg "34 space" or insysmsg ": 33 step" or insysmsg "33 space" or insysmsg ": 32 step" or insysmsg "32 space" or insysmsg ": 31 step" or insysmsg "31 space" or insysmsg ": 30 step" or insysmsg "30 space" or insysmsg ": 29 step" or insysmsg "29 space" or insysmsg ": 28 step" or insysmsg "28 space" or insysmsg ": 27 step" or insysmsg "27 space" or insysmsg ": 26 step" or insysmsg "26 space" or insysmsg ": 25 step" or insysmsg "25 space" or insysmsg ": 24 step" or insysmsg "24 space" or insysmsg ": 23 step" or insysmsg "23 space" or insysmsg ": 22 step" or insysmsg "22 space" or insysmsg ": 21 step" or insysmsg "21 space" or insysmsg ": 20 step" or insysmsg "20 space" or insysmsg ": 19 step" or insysmsg "19 space" or insysmsg ": 18 step" or insysmsg "18 space" or insysmsg ": 17 step" or insysmsg "17 space" or insysmsg ": 16 step" or insysmsg "16 space" or insysmsg ": 15 step" or insysmsg "15 space" or insysmsg ": 14 step" or insysmsg "14 space" or insysmsg ": 13 step" or insysmsg "13 space" or insysmsg ": 12 step" or insysmsg "12 space" or insysmsg ": 11 step" or insysmsg "11 space" or insysmsg ": 10 step" or insysmsg "10 space" or insysmsg ": 9 step" or insysmsg "(9 space" or insysmsg ": 8 step" or insysmsg "(8 space" or insysmsg ": 7 step" or insysmsg "(7 space" or insysmsg ": 6 step" or insysmsg "(6 space" or insysmsg ": 5 step" or insysmsg "(5 space" or insysmsg ": 4 step" or insysmsg "(4 space" or insysmsg ": 3 step" or insysmsg "(3 space" or insysmsg ": 2 step" or insysmsg "(2 space" or insysmsg ": 1 step" or insysmsg "(1 space" or insysmsg ": 0 step" or insysmsg "(0 space"
                                    if EnableRedAlertOverhead = 1
                                        overhead "[ !! RED ALERT !! ]" 37
                                    endif 
                                    if DungeonMode = 1 and EnableAutoRedDungeonGate = 1
                                        hotkey "Toggle War Only"
                                    elseif DungeonMode = 1 and EnableAutoRedDungeonGate = 0
                                        if not hidden
                                            useskill "Hiding"
                                        endif
                                    elseif DungeonMode = 0
                                        @setvar! RedTargetFound 1
                                        @setvar! TimeToGo 1
                                        clearsysmsg
                                    endif 
                                endif
                            elseif PKTrackingRange = 40
                                if insysmsg ": 40 step" or insysmsg "40 space" or insysmsg ": 39 step" or insysmsg "39 space" or insysmsg ": 38 step" or insysmsg "38 space" or insysmsg ": 37 step" or insysmsg "37 space" or insysmsg ": 36 step" or insysmsg "36 space" or insysmsg ": 35 step" or insysmsg "35 space" or insysmsg ": 34 step" or insysmsg "34 space" or insysmsg ": 33 step" or insysmsg "33 space" or insysmsg ": 32 step" or insysmsg "32 space" or insysmsg ": 31 step" or insysmsg "31 space" or insysmsg ": 30 step" or insysmsg "30 space" or insysmsg ": 29 step" or insysmsg "29 space" or insysmsg ": 28 step" or insysmsg "28 space" or insysmsg ": 27 step" or insysmsg "27 space" or insysmsg ": 26 step" or insysmsg "26 space" or insysmsg ": 25 step" or insysmsg "25 space" or insysmsg ": 24 step" or insysmsg "24 space" or insysmsg ": 23 step" or insysmsg "23 space" or insysmsg ": 22 step" or insysmsg "22 space" or insysmsg ": 21 step" or insysmsg "21 space" or insysmsg ": 20 step" or insysmsg "20 space" or insysmsg ": 19 step" or insysmsg "19 space" or insysmsg ": 18 step" or insysmsg "18 space" or insysmsg ": 17 step" or insysmsg "17 space" or insysmsg ": 16 step" or insysmsg "16 space" or insysmsg ": 15 step" or insysmsg "15 space" or insysmsg ": 14 step" or insysmsg "14 space" or insysmsg ": 13 step" or insysmsg "13 space" or insysmsg ": 12 step" or insysmsg "12 space" or insysmsg ": 11 step" or insysmsg "11 space" or insysmsg ": 10 step" or insysmsg "10 space" or insysmsg ": 9 step" or insysmsg "(9 space" or insysmsg ": 8 step" or insysmsg "(8 space" or insysmsg ": 7 step" or insysmsg "(7 space" or insysmsg ": 6 step" or insysmsg "(6 space" or insysmsg ": 5 step" or insysmsg "(5 space" or insysmsg ": 4 step" or insysmsg "(4 space" or insysmsg ": 3 step" or insysmsg "(3 space" or insysmsg ": 2 step" or insysmsg "(2 space" or insysmsg ": 1 step" or insysmsg "(1 space" or insysmsg ": 0 step" or insysmsg "(0 space"
                                    if EnableRedAlertOverhead = 1
                                        overhead "[ !! RED ALERT !! ]" 37
                                    endif 
                                    if DungeonMode = 1 and EnableAutoRedDungeonGate = 1
                                        hotkey "Toggle War Only"
                                    elseif DungeonMode = 1 and EnableAutoRedDungeonGate = 0
                                        if not hidden
                                            useskill "Hiding"
                                        endif
                                    elseif DungeonMode = 0
                                        @setvar! RedTargetFound 1
                                        @setvar! TimeToGo 1
                                        clearsysmsg
                                    endif 
                                endif
                            elseif PKTrackingRange = 0 
                                if insysmsg "Now tracking"
                                    if EnableRedAlertOverhead = 1
                                        overhead "[ !! RED ALERT !! ]" 37
                                    endif 
                                    if DungeonMode = 1 and EnableAutoRedDungeonGate = 1
                                        hotkey "Toggle War Only"
                                    elseif DungeonMode = 1 and EnableAutoRedDungeonGate = 0
                                        if not hidden
                                            useskill "Hiding"
                                        endif
                                    elseif DungeonMode = 0
                                        @setvar! RedTargetFound 1
                                        @setvar! TimeToGo 1
                                        clearsysmsg
                                    endif 
                                endif
                            endif 
                        endif

                        if EnablePKradar = 1 and skill "Tracking" < 50
                            if timer "PKRadar" > 1000
                                hotkey "Next Murderer Player Target"
                                wait 500
                                if insysmsg "No one matching that was found"
                                    settimer "PKRadar" 0
                                else
                                    if DungeonMode = 1 and EnableAutoRedDungeonGate = 1
                                        hotkey "Toggle War Only"
                                    elseif DungeonMode = 1 and EnableAutoRedDungeonGate = 0
                                        if not hidden
                                            useskill "Hiding"
                                        endif
                                    elseif DungeonMode = 0
                                        @setvar! RedTargetFound 1
                                        @setvar! TimeToGo 1
                                    endif 
                                    @setvar! MurdererTarget lasttarget
                                    clearsysmsg
                                    replay 
                                endif 
                            endif
                        endif 

                        if timer "TargetTimer" > 4000
                            if EnableOverheadMessages = 1
                                if "Paragon" in TargetDesc
                                    overhead "  PARAGON!  " 12 CurrentTarget 
                                    settimer "TargetTimer" 0
                                else 
                                    overhead "  TARGET  " 253 CurrentTarget 
                                    settimer "TargetTimer" 0
                                endif   
                            else
                                if "Paragon" in TargetDesc
                                    overhead "  " 12 CurrentTarget 
                                    settimer "TargetTimer" 0
                                else 
                                    overhead "  " 253 CurrentTarget 
                                    settimer "TargetTimer" 0
                                endif
                            endif 
                        endif

                        if not warmode 
                            if EnableOverheadMessages = 1
                                overhead "I do not have time for this shit..." 2086
                            else 
                                overhead "[ WAR MODE OFF ]" 84
                            endif 
                            wait 500
                            replay
                        endif
                           
                        if EnableHealPotion = 1 or EnableHealPotion = 2
                            if diffhits > HealPotHPdiff and timer "HealingPotionTimer" > HealingPotionCooldown
                                if findtype "Yellow Potion" self as healpot
                                    dclick healpot
                                    wait 750
                                    if insysmsg "Potion satchel used"
                                        if EnableOverheadMessages = 1 
                                            overhead "*drinking free heal potion...*" 253
                                        endif
                                        clearsysmsg
                                    else 
                                        if EnableOverheadMessages = 1 
                                            overhead "*drinking heal potion...*" 253
                                        endif
                                        clearsysmsg
                                    endif
                                    settimer "HealingPotionTimer" 0
                                    cooldown "Healing Potion" HealingPotionCooldown
                                else 
                                    if timer "InventoryTimer" > 6000
                                        if EnableOverheadMessages = 1 
                                            overhead "[ NO HEAL POTS! ]" 337
                                        endif
                                        settimer "InventoryTimer" 0
                                    endif
                                endif
                                wait 500 
                            endif
                        endif 

                        if skill "Healing" > 30
                            if not bandaging 
                                if hp < maxhp or poisoned or findbuff "bleed" or findbuff "disease"  
                                    if counttype "clean bandage%s%" self < 10 and counttype "clean bandage%s%" self != 0
                                        if timer "InventoryTimer" > 6000
                                            overhead "[ BANDAGES LOW! ]" 339
                                            settimer "InventoryTimer" 0
                                        endif
                                        if EnableOverheadMessages = 1
                                            overhead "*applying bandages...*" 88
                                        endif 
                                        hotkey "Bandage Self"  
                                    elseif counttype "clean bandage%s%" self = 0 and timer "InventoryTimer" > 6000 
                                        overhead "[ NO BANDAGES! ]" 337
                                        settimer "InventoryTimer" 0
                                    elseif poisoned or findbuff "bleed" or findbuff "disease"  
                                        if EnableOverheadMessages = 1
                                            overhead "*applying bandages...*" 88
                                        endif 
                                        hotkey "Bandage Self"     
                                    else 
                                        if EnableOverheadMessages = 1
                                            overhead "*applying bandages...*" 88
                                        endif 
                                        hotkey "Bandage Self"    
                                    endif 
                                endif
                            endif 
                        endif

                        if EnableCurePotion = 1 or EnableCurePotion = 2
                            if poisoned and timer "CurePotionTimer" > CurePotionCooldown
                                if findtype "Orange Potion" self as curepot
                                    dclick curepot
                                    wait 500
                                    if insysmsg "Potion satchel used"
                                        if EnableOverheadMessages = 1 
                                            overhead "*drinking free cure potion...*" 44
                                        endif
                                        clearsysmsg
                                    else 
                                        if EnableOverheadMessages = 1 
                                            overhead "*drinking cure potion...*" 44
                                        endif
                                        clearsysmsg
                                    endif
                                    settimer "CurePotionTimer" 0
                                    cooldown "Cure Potion" CurePotionCooldown
                                else
                                    if timer "InventoryTimer" > 6000
                                        if EnableOverheadMessages = 1 
                                            overhead "[ NO CURE POTS! ]" 337
                                        endif
                                        settimer "InventoryTimer" 0
                                    endif
                                endif
                                wait 500 
                            endif
                        endif 
                                  
                        if EnableCastHeal = 1
                            if skill "Magery" >= 50 and diffhits > CastHealHPlowdiff and diffhits < CastHealHPhighdiff and mana >= 4
                                cast "Heal"
                                wait 100
                                while not casting                   
                                    if targetexists
                                        hotkey "cancel current target"
                                    endif
                                    cast "Heal"
                                    wait 100
                                endwhile  
                                wft 1500
                                target "self" 
                                wait 250  
                            elseif skill "Magery" >= 60 and diffhits > CastHealHPhighdiff and mana >= 11
                                cast "Greater Heal"
                                wait 100
                                while not casting                   
                                    if targetexists
                                        hotkey "cancel current target"
                                    endif
                                        cast "Greater Heal"
                                        wait 100
                                endwhile  
                                wft 1500
                                target "self" 
                                wait 250                           
                            endif 
                        endif

                        if EnableCastCure = 1
                            if poisoned and skill "Magery" >= 40 and mana >= 6
                                cast "Cure"
                                wait 100
                                while not casting                   
                                    if targetexists
                                        hotkey "cancel current target"
                                    endif
                                    cast "Cure"  
                                    wait 100
                                endwhile  
                                wft 1500
                                target "self" 
                                wait 250 
                            endif 
                        endif
                                             
                        if EnableRefreshPotion = 1 or EnableRefreshPotion = 2
                            if diffstam >= RefreshPotSPdiff and timer "RefreshPotionTimer" > RefreshPotionCooldown
                                if findtype "Red Potion" self as refreshpot
                                    dclick refreshpot
                                    wait 500
                                    if insysmsg "Potion satchel used"
                                        if EnableOverheadMessages = 1 
                                            overhead "*drinking free refresh potion...*" 34
                                        endif
                                        clearsysmsg
                                    else 
                                        if EnableOverheadMessages = 1 
                                            overhead "*drinking refresh potion...*" 34
                                        endif
                                        clearsysmsg
                                    endif
                                    settimer "RefreshPotionTimer" 0
                                    cooldown "Refresh Potion" RefreshPotionCooldown
                                else 
                                    if timer "InventoryTimer" > 6000
                                        if EnableOverheadMessages = 1 
                                            overhead "[ NO REFRESH POTS! ]" 337
                                        endif
                                        settimer "InventoryTimer" 0
                                    endif
                                endif
                                wait 500 
                            endif
                        endif 
                                            
                        if EnableMagicResistPotion = 1 or EnableMagicResistPotion = 2
                            if not findbuff "Magic Resist Potion"
                                if findtype "Black Potion" self as magicresistpot
                                    dclick magicresistpot
                                    wait 500
                                    if EnableOverheadMessages = 1 
                                        if insysmsg "Potion satchel used" 
                                            overhead "*drinking free resist potion*" 2406
                                            clearsysmsg
                                        else 
                                            overhead "*drinking resist potion*" 2406
                                            clearsysmsg
                                        endif
                                    endif 
                                else 
                                    if timer "InventoryTimer" > 6000
                                        overhead "[ NO RESIST POTS! ]" 337
                                        settimer "InventoryTimer" 0
                                    endif
                                endif
                                wait 500
                            endif
                        endif

                        if EnableStrengthPotion = 1 or EnableStrengthPotion = 2
                            if skill "Alchemy" = 1 
                                if insysmsg "You may now use a strength" or not findbuff "Strength"
                                    if findtype "White Potion" self as strengthpot
                                        dclick strengthpot
                                        wait 500
                                        if EnableOverheadMessages = 1 
                                            if insysmsg "Potion satchel used" 
                                                overhead "*drinking free strength potion*" 956
                                                clearsysmsg
                                            else 
                                                overhead "*drinking strength potion*" 956
                                                clearsysmsg
                                            endif
                                        endif
                                    else 
                                        if timer "InventoryTimer" > 6000
                                            overhead "[ NO STRENGTH POTS! ]" 337
                                            settimer "InventoryTimer" 0
                                        endif
                                    endif
                                    wait 500
                                endif
                            elseif not findbuff "Strength"
                                if findtype "White Potion" self as strengthpot
                                    dclick strengthpot
                                    wait 500
                                    if EnableOverheadMessages = 1 
                                        if insysmsg "Potion satchel used" 
                                            overhead "*drinking free strength potion*" 956
                                            clearsysmsg
                                        else 
                                            overhead "*drinking strength potion*" 956
                                            clearsysmsg
                                        endif
                                    endif
                                else 
                                    if timer "InventoryTimer" > 6000
                                        overhead "[ NO STRENGTH POTS! ]" 337
                                        settimer "InventoryTimer" 0
                                    endif
                                endif
                                wait 500
                            endif
                        endif

                        if EnableAgilityPotion = 1 or EnableAgilityPotion = 2
                            if not findbuff "Agility"
                            if findtype "Blue Potion" self as agilitypot
                                    dclick agilitypot
                                    wait 500
                                    if EnableOverheadMessages = 1 
                                        if insysmsg "Potion satchel used" 
                                            overhead "*drinking free agility potion*" 93
                                            clearsysmsg
                                        else 
                                            overhead "*drinking agility potion*" 93
                                            clearsysmsg
                                        endif
                                    endif
                                else 
                                    if timer "InventoryTimer" > 6000
                                        overhead "[ NO AGILITY POTS! ]" 337
                                        settimer "InventoryTimer" 0
                                    endif
                                endif
                                wait 500
                            endif
                        endif

                        if EnableMagicReflection = 1
                            if skill "Magery" >= 60 and not findbuff "Magic Reflection" and mana > 14 and TimeToGo != 1 and timer "MagicShield" > 15000
                                for 10
                                cast "Magic Reflection" 
                                while casting
                                    wait 100
                                endwhile
                                waitfortarget 1500
                                hotkey "Target Self"
                                wait 1000
                                if insysmsg "That spell will not adhere"
                                    settimer "MagicShield" 0
                                    if EnableOverheadMessages = 1 
                                        overhead "Too soon for a new shield.  Give me a sec..." 2086
                                    endif 
                                    replay
                                endif 
                                wait 1000
                                if not findbuff "Magic Reflection" 
                                    wait 1000
                                    if EnableOverheadMessages = 1 
                                        overhead "Let me try that again..." 2086
                                    endif 
                                    wait 1000
                                else
                                    break
                                endif 
                                endfor 
                                wait 1500
                                replay
                            endif  
                        endif

                        if EnableReactiveArmour = 1
                            if skill "Magery" >= 50 and not findbuff "Reactive Armor" and mana >= 4 and TimeToGo != 1 and timer "MagicArmor" > 15000
                                for 10
                                cast "Reactive Armor" 
                                waitfortarget 1500
                                hotkey "Target Self"
                                wait 1000
                                if insysmsg "That spell will not adhere"
                                    settimer "MagicArmor" 0
                                    if EnableOverheadMessages = 1 
                                        overhead "Too soon for a new magic armor.  Give me a sec..." 2086
                                    endif 
                                    replay
                                endif 
                                wait 1000
                                if not findbuff "Magic Reflection" 
                                    wait 500
                                    if EnableOverheadMessages = 1 
                                        overhead "Let me try that again..." 2086
                                        wait 500
                                    endif 
                                else
                                    break
                                endif 
                                endfor 
                                wait 1000
                                replay
                            endif  
                        endif
                         
                        if paralyzed and EnableAutoParalyzePouch = 1
                            if EnableOverheadMessages = 1 
                                overhead "[   [  [ [ POP! ] ]  ]   ]" 2117
                            endif
                            say "[pouch" 
                            @setvar! MurdererFound 1
                            @setvar! TimeToGo 1
                            replay
                        endif

                        if EnableProtection = 1
                            if skill "Magery" >= 60 and not findbuff "Protection" and diffmana < 10
                                for 3
                                cast "Protection" 
                                wait 100
                                    while casting 
                                        wait 50
                                    endwhile
                                    wait 1000
                                    if not findbuff "Protection"
                                        if EnableOverheadMessages = 1 
                                            overhead "Shit, let me try that again..." 2086
                                        endif 
                                        wait 500
                                    else
                                        break
                                    endif 
                                endfor 
                                wait 250
                            endif  
                        endif

                        if skill "Mace Fighting" or skill "Swordsmanship" > 50 
                            attack CurrentTarget                        
                            wait 500    
                        elseif skill "Magery" >= 80
                            if EnableMagicMushroom = 1
                                if mana < 50 and timer MushroomTimer >= MushroomCooldown and findtype "mushroom" backpack as magicmushroom
                                    if EnableOverheadMessages = 1
                                        overhead "*eating shrooms...*" 31
                                    endif
                                    dclick magicmushroom
                                    wait 500
                                    if insysmsg "You consume a magic mushroom and restore some mana."
                                        settimer MushroomTimer 0    
                                    elseif insysmsg "before you may consume another magic mushroom" or insysmsg "been in combat with another"
                                        settimer MushroomTimer 30000
                                    endif
                                    cooldown "Mushroom" MushroomCooldown
                                endif
                            endif    
                            
                            if not findtype "spellbook" hand and findtype "spellbook" backpack as myspellbook
                                getlabel myspellbook SpellbookLabel
                                for 5
                                wait 250
                                if "aspect" in SpellbookLabel
                                    break
                                elseif "unidentified" in SpellbookLabel or "[blessed" in SpellbookLabel or "spells)" in SpellbookLabel 
                                    @ignore myspellbook 
                                    wait 250
                                    if not findtype "spellbook" hand and findtype "spellbook" self as myspellbook
                                        getlabel myspellbook SpellbookLabel
                                    else 
                                        overhead "[ NO SPELLBOOK! ]" 337
                                        break
                                    endif
                                endif 
                                endfor
                                dclick myspellbook
                                wait 500
                            endif

                            if find CurrentTarget ground -1 -1 8
                                if mana >= 4 and EnableCastWeaken = 1 and timer "WeakenCD" > WeakenCooldown
                                    if not find CurrentTarget ground -1 -1 15 or diffhits >= 30
                                        hotkey "> Interrupt"
                                        break
                                    else
                                        cast "weaken"
                                        wait 100
                                        while casting 
                                            wait 50
                                        endwhile
                                    endif 
                                    wft 2500
                                    target CurrentTarget
                                    wait 250
                                    if insysmsg "cannot be seen" 
                                        if EnableOverheadMessages = 1
                                            overhead "I cannot see that!" 2086
                                        endif 
                                        wait 500
                                    else 
                                        settimer WeakenCD 0
                                    endif    
                                elseif mana >= 14 and EnableCastMindblast = 1 and timer "MindblastCD" > MindblastCooldown
                                    if not find CurrentTarget ground -1 -1 15 or diffhits >= 30
                                        hotkey "> Interrupt"
                                        break
                                    else
                                        cast "mindblast"
                                        wait 100
                                        while casting 
                                            wait 50
                                        endwhile
                                    endif 
                                    wft 2500
                                    target CurrentTarget
                                    wait 250
                                    if insysmsg "cannot be seen"
                                        if EnableOverheadMessages = 1
                                            overhead "I cannot see that!" 2086
                                        endif 
                                        wait 500
                                    else 
                                        settimer "MindblastCD" 0
                                    endif  
                                elseif mana >= 40 and EnableCastFlamestrike = 1 and timer "FlamestrikeCD" > FlamestrikeCooldown
                                    if not find CurrentTarget ground -1 -1 15 or diffhits >= 30
                                        hotkey "> Interrupt"
                                        break
                                    else
                                        cast "flamestrike"
                                        wait 100
                                        while casting 
                                            wait 50
                                        endwhile
                                    endif 
                                    wft 2500
                                    target CurrentTarget
                                    wait 250
                                    if insysmsg "cannot be seen"
                                        if EnableOverheadMessages = 1
                                            overhead "I cannot see that!" 2086
                                        endif 
                                        wait 500
                                    else 
                                        settimer "FlamestrikeCD" 0 
                                    endif
                                elseif mana >= 4 and EnableCastMagicArrow = 1 and timer "MagicArrowCD" > MagicArrowCooldown
                                    if not find CurrentTarget ground -1 -1 15 or diffhits >= 30
                                        hotkey "> Interrupt"
                                        break
                                    else
                                        cast "magic arrow"
                                        wait 100
                                        while casting 
                                            wait 50
                                        endwhile
                                    endif 
                                    wft 2500
                                    target CurrentTarget
                                    wait 250
                                    if insysmsg "cannot be seen" 
                                        if EnableOverheadMessages = 1
                                            overhead "I cannot see that!" 2086
                                        endif 
                                        wait 500
                                    else 
                                        settimer MagicArrowCD 0
                                    endif
                                elseif mana >= 6 and EnableCastHarm = 1 and timer "HarmCD" > HarmCooldown
                                    if not find CurrentTarget ground -1 -1 15 or diffhits >= 30
                                        hotkey "> Interrupt"
                                        break
                                    else
                                        cast "harm"
                                        wait 100
                                        while casting 
                                            wait 50
                                        endwhile
                                    endif 
                                    wft 2500
                                    target CurrentTarget
                                    wait 250
                                    if insysmsg "cannot be seen"
                                        if EnableOverheadMessages = 1
                                            overhead "I cannot see that!" 2086
                                        endif 
                                        wait 500
                                    else 
                                        settimer "HarmCD" 0 
                                    endif                         
                                elseif mana >= 11 and EnableCastCurse = 1 and timer "CurseCD" > CurseCooldown
                                    if not find CurrentTarget ground -1 -1 15 or diffhits >= 30
                                        hotkey "> Interrupt"
                                        break
                                    else
                                        cast "curse"
                                        wait 100
                                        while casting 
                                            wait 50
                                        endwhile
                                    endif 
                                    wft 2500
                                    target CurrentTarget
                                    wait 250
                                    if insysmsg "cannot be seen"
                                        if EnableOverheadMessages = 1
                                            overhead "I cannot see that!" 2086
                                        endif 
                                        wait 500
                                    else 
                                        settimer "CurseCD" 0 
                                    endif                         
                                elseif mana >= 20 and EnableCastExplosion = 1 and timer "ExplosionCD" > ExplosionCooldown
                                    if not find CurrentTarget ground -1 -1 15 or diffhits >= 30
                                        hotkey "> Interrupt"
                                        break
                                    else
                                        cast "explosion"
                                        wait 100
                                        while casting 
                                            wait 50
                                        endwhile
                                    endif 
                                    wft 2500
                                    target CurrentTarget
                                    wait 250
                                    if insysmsg "cannot be seen"
                                        if EnableOverheadMessages = 1
                                            overhead "I cannot see that!" 2086
                                        endif 
                                        wait 500
                                    else 
                                        settimer "ExplosionCD" 0
                                    endif
                                elseif mana >= 20 and EnableCastEnergyBolt = 1 and timer "EnergyBoltCD" > EnergyBoltCooldown
                                    if not find CurrentTarget ground -1 -1 15 or diffhits >= 30
                                        hotkey "> Interrupt"
                                        break
                                    else
                                        cast "energy bolt"
                                        wait 100
                                        while casting 
                                            wait 50
                                        endwhile
                                    endif 
                                    wft 2500
                                    target CurrentTarget
                                    wait 250
                                    if insysmsg "cannot be seen"
                                        if EnableOverheadMessages = 1
                                            overhead "I cannot see that!" 2086
                                        endif 
                                        wait 500
                                    else 
                                        settimer "EnergyBoltCD" 0
                                    endif
                                elseif mana >= 11 and EnableCastLightning = 1 and timer "LightningCD" > LightningCooldown
                                   if not find CurrentTarget ground -1 -1 15 or diffhits >= 30
                                        hotkey "> Interrupt"
                                        break
                                    else
                                        cast "lightning"
                                        wait 100
                                        while casting 
                                            wait 50
                                        endwhile
                                    endif 
                                    wft 2500
                                    target CurrentTarget
                                    wait 250
                                    if insysmsg "cannot be seen"
                                        if EnableOverheadMessages = 1
                                            overhead "I cannot see that!" 2086
                                        endif 
                                        wait 500
                                    else 
                                        settimer "LightningCD" 0
                                    endif
                                elseif mana >= 9 and EnableCastFireball = 1 and timer "FireballCD" > FireballCooldown
                                    if not find CurrentTarget ground -1 -1 15 or diffhits >= 30
                                        hotkey "> Interrupt"
                                        break
                                    else
                                        cast "fireball"
                                        wait 100
                                        while casting 
                                            wait 50
                                        endwhile
                                    endif 
                                    wft 2500
                                    target CurrentTarget
                                    wait 250
                                    if insysmsg "cannot be seen"
                                        if EnableOverheadMessages = 1
                                            overhead "I cannot see that!" 2086
                                        endif 
                                        wait 500
                                    else 
                                        settimer "FireballCD" 0
                                    endif
                                elseif mana >= 40 and EnableCastMeteorSwarm = 1 and timer "MeteorSwarmCD" > MeteorSwarmCooldown
                                    if not find CurrentTarget ground -1 -1 15 or diffhits >= 30
                                        hotkey "> Interrupt"
                                        break
                                    else
                                        cast "meteor swarm"
                                        wait 100
                                        while casting 
                                            wait 50
                                        endwhile
                                    endif 
                                    wft 2500
                                    target CurrentTarget
                                    wait 250
                                    if insysmsg "cannot be seen"
                                        if EnableOverheadMessages = 1
                                            overhead "I cannot see that!" 2086
                                        endif 
                                        wait 500
                                    else 
                                        settimer "MeteorSwarmCD" 0
                                    endif
                                elseif mana >= 40 and EnableCastChainLightning = 1 and timer "ChainLightningCD" > ChainLightningCooldown
                                    if not find CurrentTarget ground -1 -1 15 or diffhits >= 30
                                        hotkey "> Interrupt"
                                        break
                                    else
                                        cast "chain lightning"
                                        wait 100
                                        while casting 
                                            wait 50
                                        endwhile
                                    endif 
                                    wft 2500
                                    target CurrentTarget
                                    wait 250
                                    if insysmsg "cannot be seen"
                                        if EnableOverheadMessages = 1
                                            overhead "I cannot see that!" 2086
                                        endif 
                                        wait 500
                                    else 
                                        settimer "ChainLightningCD" 0
                                    endif
                                endif 
                                wait 500
                                if not dead CurrentTarget
                                    getlabel CurrentTarget TargetName
                                else 
                                    break
                                endif 
                            endif 
                        endif
                    endwhile

                if insysmsg "You have gained"
                    if EnableOverheadMessages = 1 
                        overhead "Take that!!" 2086
                    endif 
                    wait 500
                    hotkey "Cancel Current Target"
                    @setvar CurrentTarget 0
                    clearsysmsg
                    wait 500
                endif

                if skill "Spirit Speak" >= 80 
                    if timer "SpiritSpeak" > 10500
                        useskill "spiritspeak"
                        settimer "Spirit Speak" 0
                    endif
                endif
            
                if findtype "Elven SpellBlade" backpack and EnableAutoCarving = 1
                    if findtype "corpse" ground -1 -1 2 as corpse
                        hotkey "Cancel Current Target"
                        dclicktype "Elven Spellblade"
                        wft 1500
                        target self
                        if EnableOverheadMessages = 1
                            overhead "*skinning...*" 339
                        endif
                        @ignore corpse
                    endif 
                endif

                if insysmsg "You have unlocked a codex upgrade point"
                    if EnableOverheadMessages = 1
                        overhead "[ CODEX POINT UNLOCKED! ]" 2114
                    else 
                        overhead " CODEX " 2114
                    endif 
                    if EnableSummons = 1 and followers >= 1 and EnableOverheadMessages = 1
                        wait 1000
                        overhead "Well done, Master..." 44 myMainTankPet
                        menu myMainTankPet 3
                    endif
                endif

                if insysmsg "unlocked a point for your wizard"
                    if EnableOverheadMessages = 1
                        overhead "[ GRIMOIRE POINT UNLOCKED! ]" 7
                    else 
                        overhead " GRIMOIRE " 7
                    endif 
                    if EnableSummons = 1 and followers >= 1 and EnableOverheadMessages = 1
                        wait 1000
                        overhead "You seem stronger, Master..." 44 myMainTankPet
                        menu myMainTankPet 3
                    endif
                endif

                if insysmsg "enough experience to upgrade"
                    if EnableOverheadMessages = 1
                        overhead "[ ASPECT TIER UNLOCKED! ]" 2086
                    else 
                        overhead " ASPECT " 2086
                    endif 
                    if EnableSummons = 1 and followers >= 1 and EnableOverheadMessages = 1
                        wait 500
                        overhead "Time to spend some more gold, it would seem..." 44 myMainTankPet
                        menu myMainTankPet 3
                        wait 500
                    endif
                endif

                if insysmsg "upgrade point for Fire Elemental" or insysmsg  "upgrade point for Air Elemental"  or insysmsg  "upgrade point for Water Elemental" or insysmsg  "upgrade point for Earth Elemental" and EnableSummons = 1 and followers >= 1 and EnableOverheadMessages = 1
                    overhead "Hmm.. I suddenly feel stronger!" 44 myMainTankPet
                    menu myMainTankPet 3
                    wait 500
                    overhead "*cracks knuckles...*" 2117 myMainTankPet
                endif

                if insysmsg "something invisible out of the way"
                    if EnableOverheadMessages = 1
                        overhead "[  SOMEONE HIDDEN!  ]" 6
                    else
                        overhead "[  ]" 6
                    endif 
                    if EnableSummons = 1 and followers >= 1 and EnableOverheadMessages = 1
                        wait 500
                        overhead "There is a foul stench upon the air..." 44 myMainTankPet
                        menu myMainTankPet 3
                        wait 500
                    endif
                endif 

                if paralyzed and EnableAutoParalyzePouch = 1
                    if EnableOverheadMessages = 1
                        overhead "[  [  [ [POP] ]  ]  ]" 2117
                    endif 
                    say "[pouch" 
                    @setvar! TimeToGo 1
                    @setvar! MurdererFound 1
                    if EnableSummons = 1 and followers >= 1 and EnableOverheadMessages = 1
                        overhead "That was unwise, criminal..." 44 myMainTankPet
                        menu myMainTankPet 3
                        clearsysmsg 
                    endif
                endif

                if not findbuff "Actively Meditating" and diffmana > 50 and diffhits < 30
                    clearhands both
                    useskill "meditation"
                    settimer "MeditatingTimer" 0
                    if EnableOverheadMessages = 1
                        overhead "*meditating...*" 10
                    endif
                    wait 500
                    while findbuff "Actively Meditating" and diffmana > 50                                
                        if insysmsg "Now tracking"
                            replay
                        endif       
                        if not findbuff "Actively Meditating"                              
                            break
                        endif 
                        if diffhits > 30 
                            break
                        elseif timer "MeditatingTimer" > 5000 
                            if EnableOverheadMessages = 1
                                overhead "*meditating...*" 10
                            endif
                            settimer "MeditatingTimer" 0
                        endif
                        if not warmode 
                            if EnableOverheadMessages = 1
                                overhead "I need to get back to work..." 2086
                            endif 
                            wait 500
                            replay
                        endif
                    endwhile
                endif
                endfor 
                
                if skill "Mace Fighting" > 50 and not findtype "sledgehammer|giant club|flail|cudgel|quarter staff|war mace|maul|war axe|mace|hammer pick" self or skill "Swordsmanship" > 50 and not findtype "double axe|two handed axe|battle axe|halberd|katana|bardiche|cutlass|broadsword|scimitar|viking sword|longsword" self
                    if EnableOverheadMessages = 1
                        overhead "I cannot fight without a weapon!"  2086
                    endif 
                    hotkey "Cancel Current Target"
                    @setvar! TimeToGo 1
                    replay 
                endif 
                hotkey "Cancel Current Target"
                hotkey "Toggle Peace Only"
                replay
            endif
        endif 
        
//////////////////////
//   TRAVEL LOOP:   //
//////////////////////
    
    if timer "TravelTimer" < 60000
        if timer "InventoryTimer" > 6000 
            overhead "*resting...*" 0
            settimer "InventoryTimer" 0
        endif

        if EnableSummons = 1 and timer "NoTargetTimer" > 45000 and followers >= 1 and EnableOverheadMessages = 1
            wait 2500
            overhead "*yawns...*" 2117 myMainTankPet
            menu myMainTankPet 3
            settimer "NoTargetTimer" 0
        endif 

        if EnableSatchels = 1
            if findtype "Ginseng|Garlic|Blood Moss|Sulfurous Ash|Mandrake Root%s%|Nightshade|Black Pearl%s%|Spider's Silk" backpack and findtype "reagent satchel" self as MyWizardBag
                # '
                if timer "WizardSatchelTimer" > 60000
                    menu MyWizardBag 0
                    wait 250
                    settimer "WizardSatchelTimer" 0
                endif
            endif        
            if findtype "Yellow Potion|Orange Potion|Red Potion|White Potion|Blue Potion|Black Potion|" backpack and findtype 31262 self as MyPotBag
                if timer "PotionSatchelTimer" > 60000 
                    menu MyPotBag 0
                    wait 250
                    settimer "PotionSatchelTimer" 0
                endif
            endif 
        endif  

        if insysmsg "Being perfectly rested" and EnableOverheadMessages = 1
            overhead "Leave me alone, I am tryin to rest here..." 2086
            wait 500
            if EnableSummons = 1 and timer "NoTargetTimer" > 30000 and followers >= 1 
                wait 2500
                overhead "*growls...*" 2117 myMainTankPet
                menu myMainTankPet 3
                settimer "NoTargetTimer" 0
            endif 
            clearsysmsg 
        endif    
 
        if paralyzed and EnableAutoParalyzePouch = 1
            if EnableOverheadMessages = 1
                overhead "[   [  [ [ POP! ] ]  ]   ]" 2117
            endif 
            say "[pouch" 
            @setvar! TimeToGo 1
            @setvar! MurdererFound 1
            replay
        endif
        replay
    elseif timer "TravelTimer" > 60000 and skill "Mining" < 50 and skill "Lumberjacking" < 50 and skill "Fishing" < 50 and skill "Lockpicking" < 50
        wait 500
        overhead "Train harvesting skill to 50.0 at NPC and then restart script!" 0
        wait 2500
        overhead "[ STOPPING SCRIPT... ]" 337
        stop
    endif
  

//////////////////////
//  MINING SCRIPT:  //
//////////////////////

    if skill "Mining" >= 50 and EnableMining = 1 and timer "TravelTimer" > 60000

        @setvar! DungeonMode 0

        if hidden 
            overhead "[ HIDDEN... ]" 6
            wait 1000
            sysmsg "You cannot mine while hidden!  Please unhide and try again..." 0
            wait 3000
            replay
        endif

        if PutIngotsinLockedChest = 1
            if not findtype "wooden box" backpack or not findtype "copper key" backpack
                overhead "[ NO LOCKBOX FOUND! ]" 339
                wait 500 
            elseif counttype 2474 backpack > 1 or counttype 4110 backpack > 1 
                overhead "[ TOO MANY LOCKBOXES/KEYS! ]" 339
                wait 500       
            elseif findtype "wooden box" backpack as lockbox and findtype "copper key" backpack as key
                getlabel lockbox lockboxLabel
                if "items" in lockboxLabel
                    dclick key
                    wft 1000
                    target lockbox
                    wait 500
                    overhead "[lockbox secured]" 84
                endif
            endif 
        endif

        if EnableIngotBag = 1 
            if not find IngotBag self
                overhead "Please select your ingot storage bag..." 88
                wait 500
                setvar IngotBag
                wft 500
                    while targetexists
                        wait 100
                    endwhile
                overhead "[ INGOT BAG SET! ]" 93
            endif
        endif
    
        if EnablePlayerForgeRadar = 1
            if findtype "4017|6526|6538|6550|6562" ground -1 -1 15 as forge or findtype 0x0FB1 ground -1 -1 15 as forge and findtype "iron ore" backpack and timer "ForgeRadar" > 3500
                if EnableOverheadMessages = 1
                    overhead "[ FORGE ]" 44 forge
                    overhead "" 44 forge
                else 
                    overhead "" 44 forge
                endif 
                settimer "ForgeRadar" 0
            endif 
        endif
 
        if EnableOreVacuum = 1
            if findtype "iron ore" ground -1 -1 15 as droppedore and timer "OreRadar" > 3500 
                if EnableOverheadMessages = 1
                    overhead "[ ORE ]" 93 droppedore             
                    overhead "" 93 droppedore
                else 
                    overhead "" 93 droppedore
                endif
                settimer "OreRadar" 0
            endif
            if findtype "iron ingot%s" ground -1 -1 15 as droppedingots and timer "IngotRadar" > 3500 
                if EnableOverheadMessages = 1  
                    overhead "[ INGOTS ]" 69 droppedingots              
                    overhead "" 69 droppedingots
                else
                    overhead "" 69 droppedingots
                endif 
                settimer "IngotRadar" 0
            endif
            while findtype "iron ore|iron ingot%s" ground -1 -1 2 as droppedmetal
                clearsysmsg
                if EnableOverheadMessages = 1 
                    overhead "*picking up metal...*" 93
                endif 
                hotkey "Grab Item"
                wft 1500
                target droppedmetal
                wait 500
                if insysmsg "Invalid or inaccessible item"
                    if EnableOverheadMessages = 1 
                        overhead "I cannot get to that!" 2086
                    endif 
                    @ignore droppedmetal
                endif
                if SetIngotBagtoOrganizer03 = 1
                    hotkey "Organizer Agent-03"  
                endif 
            endwhile
        endif 

        if EnableIngotAutoRecall = 1
            if timer "IngotRecallTimer" > 30000
                settimer "IngotRecallTimer" 0
                @clearignore
            endif 
            if counttype "iron ingot%s" self > IngotRecallAmount
                if EnableOverheadMessages = 1 
                    overhead "I would hate to lose all this hard work..." 2086
                    wait 2500
                    overhead "I am going to go unload before its too late!" 2086
                    sysmsg "Disable 'EnableIngotAutoRecall' in script variables to turn off this feature!" 0
                    wait 2000
                endif 
                @setvar! AutoRecallTriggered 1
                @setvar! TimeToGo 1
                replay
            endif
        endif 

        if EnablePackAnimals = 1
            if not varexist idonthaveapacky
                @setvar! idonthaveapacky 0
            endif 
            
            if dead myMainPackAnimal or not varexist myMainPackAnimal and PackAnimalCount = 1
                wait 1000
                overhead "[ SELECT YOUR MAIN PACK ANIMAL... ]" 253
                setvar myMainPackAnimal
                wft 500
                while targetexists 
                    wait 100
                endwhile
                overhead "[ MAIN PACKY SET! ]" 93
                wait 1500    
            endif 
            
            if dead mySecondPackAnimal or not varexist mySecondPackAnimal and PackAnimalCount = 2
                wait 1000
                overhead "[ SELECT YOUR 2ND PACK ANIMAL... ]" 253
                setvar mySecondPackAnimal
                wft 500
                while targetexists 
                    wait 100
                endwhile
                overhead "[ TWO PACKY SET! ]" 93
                wait 1500 
            endif 
            
            if not find myMainPackAnimal ground -1 -1 12 or not find mySecondPackAnimal ground -1 -1 12 and PackAnimalCount = 2
                if findtype "291|292" ground -1 -1 2 as PackAnimal
                    if noto PackAnimal = "friend"
                        if not find myMainPackAnimal 
                            @setvar PackAnimal myMainPackAnimal 
                        elseif not find mySecondPackAnimal
                            @setvar PackAnimal mySecondPackAnimal
                        endif
                    else
                        if EnableOverheadMessages = 1 
                            overhead "Where did that damn animal go now..." 2086
                            wait 1500 
                        endif 
                        @setvar! idonthaveapacky 1
                    endif
                endif
            endif
            
            if timer "PackyFollowOne" > 30000 and PackAnimalCount = 1
                menu myMainPackAnimal 4
                settimer "PackyFollowOne" 0
            endif
            
            if timer "PackyFollowTwo" > 30000 and PackAnimalCount = 2
                menu mySecondPackAnimal 4
                settimer "PackyFollowTwo" 0
            endif 
        endif
        
        if EnablePackAnimals = 1 and idonthaveapacky != 1
            if find myMainPackAnimal ground -1 -1 12       
                if findtype "6585" backpack as oretostoreinpacky and StoreinMainPacky = 1
                    if counttype oretostoreinpacky > OreTransfertoPackyAmount and OreTransfertoPackyAmount != 0 
                        while findtype "6585" as oretostoreinpacky backpack 
                            lift oretostoreinpacky 60000
                            if timer "PackyStorageTimer" > 3500
                                overhead "*moving ore to pack animal...*" 349
                                settimer "PackyStorageTimer" 0
                            endif 
                            drop myMainPackAnimal 
                            wait 650   
                        endwhile 
                    elseif diffweight < TransfertoPackyWeightDiff and TransfertoPackyWeightDiff != 0 
                        while findtype "6585" as oretostoreinpacky backpack 
                            lift oretostoreinpacky 60000
                            if timer "PackyStorageTimer" > 3500
                                overhead "*moving ore to pack animal...*" 349
                                settimer "PackyStorageTimer" 0
                            endif 
                            drop myMainPackAnimal 
                            wait 650   
                        endwhile 
                    endif        
                elseif findtype "6585" backpack as oretostoreinpacky and StoreinSecondPacky = 1
                    if counttype oretostoreinpacky > OreTransfertoPackyAmount and OreTransfertoPackyAmount != 0 
                        while findtype "6585" as oretostoreinpacky backpack 
                            lift oretostoreinpacky 60000
                            if timer "PackyStorageTimer" > 3500
                                overhead "*moving ore to pack animal...*" 349
                                settimer "PackyStorageTimer" 0
                            endif 
                            drop mySecondPackAnimal
                            wait 650   
                        endwhile 
                    elseif diffweight < TransfertoPackyWeightDiff and TransfertoPackyWeightDiff != 0 
                        while findtype "6585" as oretostoreinpacky backpack 
                            lift oretostoreinpacky 60000
                            if timer "PackyStorageTimer" > 3500
                                overhead "*moving ore to pack animal...*" 349
                                settimer "PackyStorageTimer" 0
                            endif 
                            drop mySecondPackAnimal
                            wait 650   
                        endwhile 
                    endif         
                endif
                
                if timer "PackyCheckTimer" > 15000
                    getlabel myMainPackAnimal MainPackyWeight
                    if "[1998/2000" in MainPackyWeight or "[1999/2000" in MainPackyWeight "[2000/2000" in MainPackyWeight
                        @setvar! StoreinMainPacky 0
                    else 
                        @setvar! StoreinMainPacky 1
                    endif 
                    getlabel mySecondPackAnimal SecondPackyWeight
                    if "[1998/2000" in SecondPackyWeight or "[1999/2000" in SecondPackyWeight "[2000/2000" in SecondPackyWeight
                        @setvar! StoreinSecondPacky 0
                    else 
                        @setvar! StoreinSecondPacky 1
                    endif 
                    settimer "PackyCheckTimer" 0
                endif 
                
                if StoreinMainPacky = 0 and PackAnimalCount = 1
                    if EnableOverheadMessages = 1
                        overhead "My packy is full!" 2086
                    else 
                        overhead "[ PACKY FULL! ]" 337 myMainPackAnimal 
                    endif
                    wait 2500 
                elseif StoreinMainPacky = 0 and PackAnimalCount = 2
                    @setvar! StoreinSecondPacky 1
                elseif StoreinMainPacky = 0 and StoreinSecondPacky = 0 
                    if EnableOverheadMessages = 1
                        overhead "All my pack animals are full!" 2086
                    else 
                        overhead "[ PACKY FULL! ]" 337 mySecondPackAnimal 
                    endif 
                    wait 2500 
                endif                  
            else 
                if EnableOverheadMessages = 1
                overhead "Slow ass pack animal... come on!" 2086
                    overhead "*whistles!*" 2329
                endif 
                @setvar! idonthaveapacky 1
            endif 
        elseif idonthaveapacky = 1
            if find myMainPackAnimal ground -1 -1 2 
                @setvar! idonthaveapacky 0
                replay
            endif
        endif

        if EnableAutoSmeltPlayerForge = 1
            if findtype "forge" ground -1 -1 2 as forge or findtype 0x0FB1 ground -1 -1 2 as forge and findtype "iron ore" backpack as ore
                while findtype "iron ore" backpack as ore 
                    if timer "SmeltingTimer" > 3500 and EnableOverheadMessages = 1
                        overhead "*smelting ore...*" 2114 forge
                        settimer "SmeltingTimer" 0
                    endif 
                    dclick ore
                    if timer "ForgingTimer" > 3500 and EnableOverheadMessages = 1
                        overhead "*forging ingots...*" 2117
                        settimer "ForgingTimer" 0
                    endif
                    wait 1000
                    @setvar! NeedtoSecureIngots 1
                    if insysmsg "You do not see any nearby forges"
                       settimer "NaturalForgeTimer" 0
                       @setvar! ForgeFound 0
                       break
                    endif
                    if SetIngotBagtoOrganizer03 = 1
                        hotkey "Organizer Agent-03"  
                        wait 500
                    endif 
                endwhile
                
                if EnablePackAnimals = 1
                    if find myMainPackAnimal ground -1 -1 2
                        getlabel myMainPackAnimal PackyLabel
                        if "[0/2000" in PackyLabel
                            // Do nothing
                        else
                            dclick myMainPackAnimal 
                            wait 500
                            while findtype "iron ore" myMainPackAnimal as packyoretosmelt
                                dclick packyoretosmelt
                                if timer "PackySmeltTimer" > 3500 and EnableOverheadMessages = 1 
                                    overhead "*smelting from pack animal...*" 2114 myMainPackAnimal 
                                    settimer "PackySmeltTimer" 0
                                endif 
                                wait 650
                            endwhile
                            @setvar! NeedtoSecureIngots 1
                        endif
                    endif 
                    
                    if find mySecondPackAnimal ground -1 -1 2
                        getlabel mySecondPackAnimal TwoPackyLabel
                        if "[0/2000" in TwoPackyLabel
                            // Do nothing
                        else
                            dclick mySecondPackAnimal 
                            wait 500
                            while findtype "iron ore" myMainPackAnimal as twopackyoretosmelt
                                dclick twopackyoretosmelt
                                if timer "PackySmeltTimer" > 3500 and EnableOverheadMessages = 1
                                    overhead "*smelting from pack animal...*" 2114 mySecondPackAnimal 
                                    settimer "PackySmeltTimer" 0
                                endif 
                                wait 650
                            endwhile
                            @setvar! NeedtoSecureIngots 1
                        endif
                    endif 
                endif 
            endif
        endif

        if EnableAutoSmeltNaturalForge = 1 
            if findtype "iron ore" backpack as ore and MiningActive = 0
                @setvar! ForgeFound 0            
                if timer "NaturalForgeTimer" >= 2500
                    dclick ore
                    wait 500
                    if insysmsg "You do not see any nearby forges"
                        settimer "NaturalForgeTimer" 0
                        clearsysmsg
                    else
                        @setvar! ForgeFound 1
                        clearsysmsg
                        if EnableOverheadMessages = 1 
                            overhead "*found a forge!*" 2117
                        endif 
                    endif
                endif
            endif 
            
            if ForgeFound = 1  
                while findtype "iron ore" backpack as ore
                    dclick ore
                    wait 500
                    @setvar! NeedtoSecureIngots 1
                    if insysmsg "You do not see any nearby forges"
                        settimer "NaturalForgeTimer" 0
                        @setvar! ForgeFound 0
                        clearsysmsg
                        break
                    endif
                    if SetIngotBagtoOrganizer03 = 1
                        hotkey "Organizer Agent-03"  
                        wait 500
                    endif 
                endwhile
                
                if EnablePackAnimals = 1
                    if find myMainPackAnimal ground -1 -1 2
                        getlabel myMainPackAnimal PackyLabel
                        if "[0/2000" in PackyLabel
                            // Do nothing
                        else
                            dclick myMainPackAnimal 
                            wait 500
                            while findtype "iron ore" myMainPackAnimal as packyoretosmelt
                                dclick packyoretosmelt
                                if timer "PackySmeltTimer" > 3500 and EnableOverheadMessages = 1
                                    overhead "*smelting from pack animal...*" 2114 myMainPackAnimal 
                                    settimer "PackySmeltTimer" 0
                                endif 
                                wait 650
                                if insysmsg "You do not see any nearby forges"
                                    @setvar! ForgeFound 0
                                    break
                                endif 
                            endwhile
                            @setvar! NeedtoSecureIngots 1
                        endif
                    endif 
                    
                    if find mySecondPackAnimal ground -1 -1 2
                        getlabel mySecondPackAnimal TwoPackyLabel
                        if "[0/2000" in TwoPackyLabel
                            // Do nothing
                        else
                            dclick mySecondPackAnimal 
                            wait 500
                            while findtype "iron ore" myMainPackAnimal as twopackyoretosmelt
                                dclick twopackyoretosmelt
                                if timer "PackySmeltTimer" > 3500 and EnableOverheadMessages = 1
                                    overhead "*smelting from pack animal...*" 2114 mySecondPackAnimal 
                                    settimer "PackySmeltTimer" 0
                                endif 
                                wait 650
                                if insysmsg "You do not see any nearby forges"
                                    @setvar! ForgeFound 0
                                    break 
                                endif
                            endwhile
                            @setvar! NeedtoSecureIngots 1
                        endif
                    endif 
                endif 
            endif
        endif 

        if EnableWeightWarningMessage = 1          
            if diffweight < GreenWarningDiffWeight and diffweight > YellowWarningDiffWeight and timer "WeightTimer" > 5000
                overhead "[ WEIGHT WARNING... ]" 77
                settimer "WeightTimer" 0
            elseif diffweight < YellowWarningDiffWeight and diffweight > RedWeightLimitDiffWeight and timer "WeightTimer" > 5000
                overhead "[ TIME TO FORGE! ]" 153
                settimer "WeightTimer" 0
            elseif diffweight < RedWeightLimitDiffWeight and timer "WeightTimer" > 5000
                overhead "[ WEIGHT LIMIT REACHED! ]" 37
                settimer "WeightTimer" 0
                wait 1500
                overhead "Find a forge in order to continue..." 0
                replay
            endif 
        endif 

        if not findtype "pickaxe" hand and findtype "pickaxe" backpack
            dclicktype "pickaxe" backpack
            wait 500
        endif
        

        if EnableWeightWarningMessage = 1 and diffweight < RedWeightLimitDiffWeight 
            replay
        else
            hotkey "Use item in hand" 
            wft 1500
            hotkey "Target Self" 
            wait 650
        endif 
        

            if insysmsg "world is saving"                     
                for 50
                    wait 100
                    if insysmsg "world save complete" 
                        if EnableOverheadMessages = 1
                            overhead "[ SAVE COMPLETE! ]" 253
                        endif  
                        clearsysmsg                                 
                    endif 
                endfor 
                replay 
            elseif insysmsg "Harvesting is not allowed"
                if EnableOverheadMessages = 1 
                    overhead "We need to leave the safe zone..." 84
                else
                    overhead "[ LEAVE TOWN! ]" 84
                endif
                clearsysmsg 
                wait 5000 
                replay 
            elseif insysmsg "You have worn out your tool" 
                if EnableOverheadMessages = 1 
                    overhead "Hang on, my pickaxe just broke!" 2086=
                    wait 1500 
                endif
                if counttype "pickaxe" self > 0 
                    wait 500
                    if EnableOverheadMessages = 1 
                        overhead "But I think I have another.. one sec..." 2086
                        wait 1500
                    endif
                else 
                    if EnableOverheadMessages = 1 
                        overhead "Dammit, that is my last pickaxe.  Time to resupply!" 2086
                        wait 1500
                    endif
                    @setvar! TimeToGo 1
                endif 
                clearsysmsg
                replay
            elseif insysmsg "You have recently traveled"
                @setvar! TravelCooldownActive 1
                replay
            elseif insysmsg "You do not see any" or insysmsg "You cannot produce any"

                @setvar! MiningActive 0
                           
                if MOVE = 1                        
                    if timer "MoveTimer" > 2500
                        @setvar! MOVE 0
                        overhead "[ KEEP MOVING... ]" 88
                        settimer "MoveTimer" 0
                        @setvar! MOVE 0
                    endif
                elseif MOVE = 0
                    if timer "MoveTimer" > 2500
                    overhead "[ KEEP MOVING... ]" 1590
                        settimer "MoveTimer" 0
                        @setvar! MOVE 1
                    endif
                else 
                    if timer "MoveTimer" > 2500
                    overhead "[ KEEP MOVING... ]" 1590
                        settimer "MoveTimer" 0
                        @setvar! MOVE 1
                    endif
                endif

                if findtype "iron ore" backpack as oretostack and EnableOreStacker = 1 and timer "OreStackerTimer" > 60000
                    if findtype "iron ore" backpack as oretostack
                        while findtype "iron ore" backpack as oretostack
                            if find oretostack IngotBag
                                @ignore oretostack
                            else
                                if timer "StackerTimer" > 3500 and EnableOverheadMessages = 1
                                    overhead "*stacking ore...*" 77
                                    settimer "StackerTimer" 0
                                endif 
                                lift oretostack 9999
                                if StackOreinIngotBag = 1
                                    drop IngotBag
                                    wait 500
                                else 
                                    drop backpack 100 100 0
                                    @ignore oretostack
                                    wait 500
                                endif
                            endif
                        endwhile 
                    endif
                    clearignore 
                    settimer "OreStackerTimer" 0
                endif

                if timer "HarvestDelay" > 5000                    
                    if timer "MinerOrganizer" > 30000
                        hotkey "Organizer Agent-04"
                        settimer "MinerOrganizer" 0
                    endif

                    if EnableSatchels = 1
                        if findtype "Ginseng|Garlic|Blood Moss|Sulfurous Ash|Mandrake Root%s%|Nightshade|Black Pearl%s%|Spider's Silk" backpack and findtype "reagent satchel" self as MyWizardBag
                            # '
                            if timer "WizardSatchelTimer" > 60000
                                menu MyWizardBag 0
                                wait 250
                                settimer "WizardSatchelTimer" 0
                            endif
                        endif        
                        if findtype "Yellow Potion|Orange Potion|Red Potion|White Potion|Blue Potion|Black Potion|" backpack and findtype 31262 self as MyPotBag
                            if timer "PotionSatchelTimer" > 60000 
                                menu MyPotBag 0
                                wait 250
                                settimer "PotionSatchelTimer" 0
                            endif
                        endif 
                    endif 
                endif

                if insysmsg "Being perfectly rested" and EnableOverheadMessages = 1
                    overhead "Outta my way!  I have a pickaxe and know how to use it..." 2086
                    if EnableSummons = 1 and followers >= 1
                        wait 1500
                        overhead "Shall we incinerate them, master?" 44 myMainTankPet
                        menu myMainTankPet 3
                    endif
                endif         
                
                if paralyzed and EnableAutoParalyzePouch = 1
                    if EnableOverheadMessages = 1
                        overhead "[   [  [ [ POP! ] ]  ]   ]" 2117
                    endif 
                    say "[pouch" 
                    @setvar! TimeToGo 1
                    @setvar! MurdererFound 1
                    replay
                endif     
                
                if PutIngotsinLockedChest = 1 and NeedtoSecureIngots = 1
                    if not findtype "wooden box" backpack or not findtype "copper key" backpack
                        overhead "[ NO LOCKBOX FOUND! ]" 339
                        wait 1500 
                    elseif counttype 2474 backpack > 1 or counttype 4110 backpack > 1 
                        overhead "[ TOO MANY LOCKBOXES/KEYS! ]" 339
                        wait 1500  
                    else 
                        if findtype "wooden box" backpack as lockbox and findtype "copper key" backpack as key
                            if findtype "iron ingot%s" backpack as ingotstostore                                      
                                getlabel lockbox lockboxLabel
                                if "items" in lockboxLabel
                                    wait 500
                                    if EnableOverheadMessages = 1
                                        overhead "*securing ingots...*" 149
                                    endif 
                                    while findtype "iron ingot%s" backpack as ingotstostore
                                        if find ingotstostore lockbox
                                            @ignore ingotstostore
                                        else 
                                            clearsysmsg 
                                            lift ingotstostore 9999
                                            wait 150 
                                            drop lockbox -1 -1 -1
                                            wait 250
                                        endif
                                    endwhile 
                                    dclick key
                                    wft 1500
                                    target lockbox
                                    overhead "[ingot box locked]" 69
                                    @setvar! NeedtoSecureIngots 0                                            
                                else 
                                    overhead "[ingot box unlocked]" 84
                                    dclick key
                                    wft 1500
                                    target lockbox
                                    if EnableOverheadMessages = 1
                                        overhead "*securing ingots...*" 149
                                    endif 
                                    while findtype "iron ingot%s" backpack as ingotstostore
                                        if find ingotstostore lockbox
                                            @ignore ingotstostore
                                        else 
                                            clearsysmsg 
                                            lift ingotstostore 9999
                                            wait 150
                                            drop lockbox -1 -1 -1
                                            wait 250
                                        endif
                                    endwhile 
                                    dclick key
                                    wft 1500
                                    target lockbox
                                    overhead "[ingot box locked]" 69
                                    @setvar! NeedtoSecureIngots 0
                                endif 
                            endif                                         
                        wait 150 
                        getlabel lockbox lockboxLabel                                        
                            if "items" in lockboxLabel
                                dclick key
                                wft 1500
                                target lockbox
                                @setvar! NeedtoSecureIngots 0
                            endif
                        endif
                    endif 
                elseif StackIngotsinIngotBag = 1
                    while findtype "iron ingot%s" backpack as metaltomove
                        if find IngotBag self
                            if OpenIngotBag = 1
                                dclick IngotBag
                                wait 250
                            endif
                            wait 500
                            if EnableOverheadMessages = 1
                                overhead "*stacking ingots...*" 2086
                            endif
                            lift metaltomove 9999
                            drop IngotBag 1 1 0
                            wait 500
                            @ignore metaltomove
                        else 
                            overhead "[ NO INGOT BAG! ]" 337
                        endif                                    
                    endwhile
                else 
                    if SetIngotBagtoOrganizer03 = 1
                        hotkey "Organizer Agent-03"
                        wait 250 
                    endif 
                endif
                replay
            endif

            @setvar! MiningActive 1
            
                
            ////////////////////
            //  MINING LOOP:  //
            ////////////////////

            while MiningActive = 1                
                if warmode and EnableAutoAttackGreyMOB = 1
                    replay
                endif

                if diffhits > 25
                    replay
                endif
   
                if EnableTrackingAutoRecall = 1
                    if PKTrackingRange = 60 
                         if insysmsg ": 60 step" or insysmsg "60 space" or insysmsg ": 59 step" or insysmsg "59 space" or insysmsg ": 58 step" or insysmsg "58 space" or insysmsg ": 57 step" or insysmsg "57 space" or insysmsg ": 56 step" or insysmsg "56 space" or insysmsg ": 55 step" or insysmsg "55 space" or insysmsg ": 54 step" or insysmsg "54 space" or insysmsg ": 53 step" or insysmsg "53 space" or insysmsg ": 52 step" or insysmsg "52 space" or insysmsg ": 51 step" or insysmsg "51 space" or insysmsg ": 50 step" or insysmsg "50 space" or insysmsg ": 49 step" or insysmsg "49 space" or insysmsg ": 48 step" or insysmsg "48 space" or insysmsg ": 47 step" or insysmsg "47 space" or insysmsg ": 46 step" or insysmsg "46 space" or insysmsg ": 45 step" or insysmsg "45 space" or insysmsg ": 44 step" or insysmsg "44 space" or insysmsg ": 43 step" or insysmsg "43 space" or insysmsg ": 42 step" or insysmsg "42 space" or insysmsg ": 41 step" or insysmsg "41 space" or insysmsg ": 40 step" or insysmsg "40 space" or insysmsg ": 39 step" or insysmsg "39 space" or insysmsg ": 38 step" or insysmsg "38 space" or insysmsg ": 37 step" or insysmsg "37 space" or insysmsg ": 36 step" or insysmsg "36 space" or insysmsg ": 35 step" or insysmsg "35 space" or insysmsg ": 34 step" or insysmsg "34 space" or insysmsg ": 33 step" or insysmsg "33 space" or insysmsg ": 32 step" or insysmsg "32 space" or insysmsg ": 31 step" or insysmsg "31 space" or insysmsg ": 30 step" or insysmsg "30 space" or insysmsg ": 29 step" or insysmsg "29 space" or insysmsg ": 28 step" or insysmsg "28 space" or insysmsg ": 27 step" or insysmsg "27 space" or insysmsg ": 26 step" or insysmsg "26 space" or insysmsg ": 25 step" or insysmsg "25 space" or insysmsg ": 24 step" or insysmsg "24 space" or insysmsg ": 23 step" or insysmsg "23 space" or insysmsg ": 22 step" or insysmsg "22 space" or insysmsg ": 21 step" or insysmsg "21 space" or insysmsg ": 20 step" or insysmsg "20 space" or insysmsg ": 19 step" or insysmsg "19 space" or insysmsg ": 18 step" or insysmsg "18 space" or insysmsg ": 17 step" or insysmsg "17 space" or insysmsg ": 16 step" or insysmsg "16 space" or insysmsg ": 15 step" or insysmsg "15 space" or insysmsg ": 14 step" or insysmsg "14 space" or insysmsg ": 13 step" or insysmsg "13 space" or insysmsg ": 12 step" or insysmsg "12 space" or insysmsg ": 11 step" or insysmsg "11 space" or insysmsg ": 10 step" or insysmsg "10 space" or insysmsg ": 9 step" or insysmsg "(9 space" or insysmsg ": 8 step" or insysmsg "(8 space" or insysmsg ": 7 step" or insysmsg "(7 space" or insysmsg ": 6 step" or insysmsg "(6 space" or insysmsg ": 5 step" or insysmsg "(5 space" or insysmsg ": 4 step" or insysmsg "(4 space" or insysmsg ": 3 step" or insysmsg "(3 space" or insysmsg ": 2 step" or insysmsg "(2 space" or insysmsg ": 1 step" or insysmsg "(1 space" or insysmsg ": 0 step" or insysmsg "(0 space"
                            if EnableRedAlertOverhead = 1
                                overhead "[ !! RED ALERT !! ]" 37
                            endif 
                            if DungeonMode = 1 and EnableAutoRedDungeonGate = 1
                                hotkey "Toggle War Only"
                            elseif DungeonMode = 1 and EnableAutoRedDungeonGate = 0
                                if not hidden
                                    useskill "Hiding"
                                endif
                            elseif DungeonMode = 0
                                @setvar! RedTargetFound 1
                                @setvar! TimeToGo 1
                                clearsysmsg
                            endif 
                        endif
                    elseif PKTrackingRange = 50 
                        if insysmsg ": 50 step" or insysmsg "50 space" or insysmsg ": 49 step" or insysmsg "49 space" or insysmsg ": 48 step" or insysmsg "48 space" or insysmsg ": 47 step" or insysmsg "47 space" or insysmsg ": 46 step" or insysmsg "46 space" or insysmsg ": 45 step" or insysmsg "45 space" or insysmsg ": 44 step" or insysmsg "44 space" or insysmsg ": 43 step" or insysmsg "43 space" or insysmsg ": 42 step" or insysmsg "42 space" or insysmsg ": 41 step" or insysmsg "41 space" or insysmsg ": 40 step" or insysmsg "40 space" or insysmsg ": 39 step" or insysmsg "39 space" or insysmsg ": 38 step" or insysmsg "38 space" or insysmsg ": 37 step" or insysmsg "37 space" or insysmsg ": 36 step" or insysmsg "36 space" or insysmsg ": 35 step" or insysmsg "35 space" or insysmsg ": 34 step" or insysmsg "34 space" or insysmsg ": 33 step" or insysmsg "33 space" or insysmsg ": 32 step" or insysmsg "32 space" or insysmsg ": 31 step" or insysmsg "31 space" or insysmsg ": 30 step" or insysmsg "30 space" or insysmsg ": 29 step" or insysmsg "29 space" or insysmsg ": 28 step" or insysmsg "28 space" or insysmsg ": 27 step" or insysmsg "27 space" or insysmsg ": 26 step" or insysmsg "26 space" or insysmsg ": 25 step" or insysmsg "25 space" or insysmsg ": 24 step" or insysmsg "24 space" or insysmsg ": 23 step" or insysmsg "23 space" or insysmsg ": 22 step" or insysmsg "22 space" or insysmsg ": 21 step" or insysmsg "21 space" or insysmsg ": 20 step" or insysmsg "20 space" or insysmsg ": 19 step" or insysmsg "19 space" or insysmsg ": 18 step" or insysmsg "18 space" or insysmsg ": 17 step" or insysmsg "17 space" or insysmsg ": 16 step" or insysmsg "16 space" or insysmsg ": 15 step" or insysmsg "15 space" or insysmsg ": 14 step" or insysmsg "14 space" or insysmsg ": 13 step" or insysmsg "13 space" or insysmsg ": 12 step" or insysmsg "12 space" or insysmsg ": 11 step" or insysmsg "11 space" or insysmsg ": 10 step" or insysmsg "10 space" or insysmsg ": 9 step" or insysmsg "(9 space" or insysmsg ": 8 step" or insysmsg "(8 space" or insysmsg ": 7 step" or insysmsg "(7 space" or insysmsg ": 6 step" or insysmsg "(6 space" or insysmsg ": 5 step" or insysmsg "(5 space" or insysmsg ": 4 step" or insysmsg "(4 space" or insysmsg ": 3 step" or insysmsg "(3 space" or insysmsg ": 2 step" or insysmsg "(2 space" or insysmsg ": 1 step" or insysmsg "(1 space" or insysmsg ": 0 step" or insysmsg "(0 space"
                            if EnableRedAlertOverhead = 1
                                overhead "[ !! RED ALERT !! ]" 37
                            endif 
                            if DungeonMode = 1 and EnableAutoRedDungeonGate = 1
                                hotkey "Toggle War Only"
                            elseif DungeonMode = 1 and EnableAutoRedDungeonGate = 0
                                if not hidden
                                    useskill "Hiding"
                                endif
                            elseif DungeonMode = 0
                                @setvar! RedTargetFound 1
                                @setvar! TimeToGo 1
                                clearsysmsg
                            endif 
                        endif
                    elseif PKTrackingRange = 40
                        if insysmsg ": 40 step" or insysmsg "40 space" or insysmsg ": 39 step" or insysmsg "39 space" or insysmsg ": 38 step" or insysmsg "38 space" or insysmsg ": 37 step" or insysmsg "37 space" or insysmsg ": 36 step" or insysmsg "36 space" or insysmsg ": 35 step" or insysmsg "35 space" or insysmsg ": 34 step" or insysmsg "34 space" or insysmsg ": 33 step" or insysmsg "33 space" or insysmsg ": 32 step" or insysmsg "32 space" or insysmsg ": 31 step" or insysmsg "31 space" or insysmsg ": 30 step" or insysmsg "30 space" or insysmsg ": 29 step" or insysmsg "29 space" or insysmsg ": 28 step" or insysmsg "28 space" or insysmsg ": 27 step" or insysmsg "27 space" or insysmsg ": 26 step" or insysmsg "26 space" or insysmsg ": 25 step" or insysmsg "25 space" or insysmsg ": 24 step" or insysmsg "24 space" or insysmsg ": 23 step" or insysmsg "23 space" or insysmsg ": 22 step" or insysmsg "22 space" or insysmsg ": 21 step" or insysmsg "21 space" or insysmsg ": 20 step" or insysmsg "20 space" or insysmsg ": 19 step" or insysmsg "19 space" or insysmsg ": 18 step" or insysmsg "18 space" or insysmsg ": 17 step" or insysmsg "17 space" or insysmsg ": 16 step" or insysmsg "16 space" or insysmsg ": 15 step" or insysmsg "15 space" or insysmsg ": 14 step" or insysmsg "14 space" or insysmsg ": 13 step" or insysmsg "13 space" or insysmsg ": 12 step" or insysmsg "12 space" or insysmsg ": 11 step" or insysmsg "11 space" or insysmsg ": 10 step" or insysmsg "10 space" or insysmsg ": 9 step" or insysmsg "(9 space" or insysmsg ": 8 step" or insysmsg "(8 space" or insysmsg ": 7 step" or insysmsg "(7 space" or insysmsg ": 6 step" or insysmsg "(6 space" or insysmsg ": 5 step" or insysmsg "(5 space" or insysmsg ": 4 step" or insysmsg "(4 space" or insysmsg ": 3 step" or insysmsg "(3 space" or insysmsg ": 2 step" or insysmsg "(2 space" or insysmsg ": 1 step" or insysmsg "(1 space" or insysmsg ": 0 step" or insysmsg "(0 space"
                            if EnableRedAlertOverhead = 1
                                overhead "[ !! RED ALERT !! ]" 37
                            endif 
                            if DungeonMode = 1 and EnableAutoRedDungeonGate = 1
                                hotkey "Toggle War Only"
                            elseif DungeonMode = 1 and EnableAutoRedDungeonGate = 0
                                if not hidden
                                    useskill "Hiding"
                                endif
                            elseif DungeonMode = 0
                                @setvar! RedTargetFound 1
                                @setvar! TimeToGo 1
                                clearsysmsg
                            endif 
                        endif
                    elseif PKTrackingRange = 0 
                        if insysmsg "Now tracking"
                            if EnableRedAlertOverhead = 1
                                overhead "[ !! RED ALERT !! ]" 37
                            endif 
                            if DungeonMode = 1 and EnableAutoRedDungeonGate = 1
                                hotkey "Toggle War Only"
                            elseif DungeonMode = 1 and EnableAutoRedDungeonGate = 0
                                if not hidden
                                    useskill "Hiding"
                                endif
                            elseif DungeonMode = 0
                                @setvar! RedTargetFound 1
                                @setvar! TimeToGo 1
                                clearsysmsg
                            endif 
                        endif
                    endif 
                endif

                if EnablePKradar = 1 and skill "Tracking" < 50
                    if timer "PKRadar" > 1000
                        hotkey "Next Murderer Player Target"
                        wait 500
                        if insysmsg "No one matching that was found"
                            settimer "PKRadar" 0
                        else
                            if DungeonMode = 1 and EnableAutoRedDungeonGate = 1
                                hotkey "Toggle War Only"
                            elseif DungeonMode = 1 and EnableAutoRedDungeonGate = 0
                                if not hidden
                                    useskill "Hiding"
                                endif
                            elseif DungeonMode = 0
                                @setvar! RedTargetFound 1
                                @setvar! TimeToGo 1
                            endif 
                            @setvar! MurdererTarget lasttarget
                            clearsysmsg
                            replay 
                        endif 
                    endif
                endif 
       
                if insysmsg "Mining skillgain" and EnableOverheadMessages = 1
                    if skill "Mining" > 100.0 and skill "Mining" < 119.9
                        sysmsg "Hmm... these stones are tricky to work with..." 84  
                        clearsysmsg           
                    elseif skill "Mining" = 119.9
                        overhead "THIS COULD BE IT......" 2086
                        sysmsg "Hmm... there is something special about these stones..." 84   
                        clearsysmsg             
                    elseif skill "Mining" = 120.0
                        overhead "FINALLY!!!" 2086
                        wait 2000
                        overhead "We made it!" 2086
                        wait 1500
                        clearsysmsg 
                        overhead "TIME FOR A WELL DESERVED BREAK!" 2086
                        stop    
                    endif  
                endif                      

                if EnableWeightWarningMessage = 1 
                    if diffweight < GreenWarningDiffWeight and diffweight > YellowWarningDiffWeight and timer "WeightTimer" > 5000
                        overhead "[ WEIGHT WARNING... ]" 77
                        settimer "WeightTimer" 0
                    elseif diffweight < YellowWarningDiffWeight and diffweight > RedWeightLimitDiffWeight and timer "WeightTimer" > 5000
                        overhead "[ TIME TO FORGE! ]" 153
                        settimer "WeightTimer" 0
                    elseif diffweight < RedWeightLimitDiffWeight and timer "WeightTimer" > 5000
                        overhead "[ WEIGHT LIMIT REACHED! ]" 37
                        settimer "WeightTimer" 0
                        wait 1500
                        overhead "Find a forge in order to continue..." 0
                        replay
                    endif 
                endif 
            
                if EnablePlayerForgeRadar = 1
                    if findtype "4017|6526|6538|6550|6562" ground -1 -1 15 as forge or findtype 0x0FB1 ground -1 -1 15 as forge and findtype "iron ore" backpack and timer "ForgeRadar" > 3500
                        overhead "" 44 forge
                        settimer "ForgeRadar" 0
                    endif 
                endif
         
                if EnableOreVacuum = 1
                    if findtype "iron ore" ground -1 -1 15 as droppedore and timer "OreRadar" > 3500            
                        overhead "" 93 droppedore
                        settimer "OreRadar" 0
                    endif
                    if findtype "iron ingot%s" ground -1 -1 15 as droppedingots and timer "IngotRadar" > 3500                
                        overhead "" 69 droppedingots
                        settimer "IngotRadar" 0
                    endif
                endif 

                if EnableGoldVacuum = 1
                    if findtype "gold coin" ground -1 -1 12 as droppedmoney and timer "GoldRadar" > 3500
                        overhead "" 149 droppedmoney
                        settimer "GoldRadar" 0
                    endif
                endif 

                if EnableSummons = 1 
                    if dead myMainTankPet
                        if not dead earthOne
                            @setvar! myMainTankPet earthOne
                        elseif not dead earthTwo
                            @setvar! myMainTankPet earthTwo
                        elseif not dead waterOne
                            @setvar! myMainTankPet waterOne
                        elseif not dead waterTwo
                            @setvar! myMainTankPet waterTwo
                        elseif not dead demonOne
                            @setvar! myMainTankPet demonOne
                        elseif not dead demonTwo
                            @setvar! myMainTankPet demonTwo
                        elseif not dead fireOne
                            @setvar! myMainTankPet fireOne
                        elseif not dead fireTwo
                            @setvar! myMainTankPet fireTwo
                        elseif not dead airOne
                            @setvar! myMainTankPet airOne
                        elseif not dead airTwo
                            @setvar! myMainTankPet airTwo
                        endif
                        if EnableOverheadMessages = 1
                            overhead "Hold on..." 2086
                        endif
                        replay
                    endif
                endif 

                if insysmsg "world is saving" 
                    for 50
                        wait 100
                        if insysmsg "world save complete" 
                            wait 100
                            if EnableOverheadMessages = 1
                                overhead "[ SAVE COMPLETE! ]" 253 
                            endif 
                            clearsysmsg 
                            break
                        endif 
                    endfor 
                    clearsysmsg
                elseif insysmsg "You loosen some rocks"
                    overhead "*you fail to harvest anything...*" 337
                    clearsysmsg 
                elseif insysmsg "You dig some iron ore" 
                    if insysmsg "Harvest double yield"
                        overhead "*you double harvest iron ore*" 1900                       
                    else 
                        overhead "*you harvest iron ore*" 1900
                    endif
                    clearsysmsg
                elseif insysmsg "You dig some dull copper ore" 
                    if insysmsg "Harvest double yield"
                        overhead "*you double harvest dullcopper ore*" 2419                       
                    else 
                        overhead "*you harvest dullcopper ore*" 2419
                    endif
                    clearsysmsg     
                elseif insysmsg "You dig some shadow iron ore" 
                    if insysmsg "Harvest double yield"
                        overhead "*you double harvest shadowiron ore*" 2406                       
                    else 
                        overhead "*you harvest shadowiron ore*" 2406
                    endif
                    clearsysmsg     
                elseif insysmsg "You dig some copper ore" 
                    if insysmsg "Harvest double yield"
                        overhead "*you double harvest copper ore*" 2413                       
                    else 
                        overhead "*you harvest copper ore*" 2413
                    endif
                    clearsysmsg  
                elseif insysmsg "You dig some bronze ore" 
                    if insysmsg "Harvest double yield"
                        overhead "*you double harvest bronze ore*" 2418                       
                    else 
                        overhead "*you harvest bronze ore*" 2418
                    endif
                    clearsysmsg
                elseif insysmsg "You dig some golden ore" 
                    if insysmsg "Harvest double yield"
                        overhead "*you double harvest golden ore!*" 2213                       
                    else 
                        overhead "*you harvest golden ore*" 2213
                    endif
                    clearsysmsg
                elseif insysmsg "You dig some agapite ore" 
                    if insysmsg "Harvest double yield"
                        overhead "*you double harvest agapite ore!*" 2425                       
                    else 
                        overhead "*you harvest agapite ore*" 2425
                    endif
                    clearsysmsg
                elseif insysmsg "You dig some verite ore" 
                    if insysmsg "Harvest double yield"
                        overhead "*you double harvest verite ore!!*" 2207                       
                    else 
                        overhead "*you harvest verite ore!*" 2207
                    endif
                    clearsysmsg
                elseif insysmsg "You dig some valorite ore" 
                    if insysmsg "Harvest double yield"
                        overhead "*you double harvest valorite ore!!*" 2219                       
                    else 
                        overhead "*you harvest valorite ore!*" 2219
                    endif
                    clearsysmsg
                elseif insysmsg "You dig some avarite ore" 
                    if insysmsg "Harvest double yield"
                        overhead "*you double harvest avarite ore!!!*" 1763     
                        if EnableOverheadMessages = 1 
                            overhead "Woot! Woot!!" 2086 
                        endif                 
                    else 
                        overhead "*you harvest avarite ore!!*" 1763
                        if EnableOverheadMessages = 1 
                            overhead "Woot!" 2086
                        endif 
                    endif
                    clearsysmsg
                elseif insysmsg "You have recently traveled"
                    @setvar! TravelCooldownActive 1
                    replay
                elseif insysmsg "You have worn out your tool" 
                    if EnableOverheadMessages = 1 
                        overhead "Hang on, my pickaxe just broke!" 2086
                        wait 1500 
                    endif
                    clearsysmsg
                    if counttype "pickaxe" self > 0
                        wait 1000
                        if EnableOverheadMessages = 1 
                            overhead "But I think I have another.. one sec..." 2086
                            wait 1500
                        endif 
                    else
                        if EnableOverheadMessages = 1  
                            overhead "Dammit, thats my last pickaxe.  Time to resupply!" 2086
                        endif 
                        @setvar! TimeToGo 1
                        wait 1500
                    endif 
                    replay    
                elseif insysmsg "You do not see any" or insysmsg "You cannot produce any"
                    if EnableSummons = 1
                        menu myMainTankPet 3
                        wait 250
                    endif

                    if PackAnimalCount = 1 or PackAnimalCount = 2
                        menu myMainPackAnimal 4
                        wait 250
                    endif
                    
                    if PackAnimalCount = 2
                        menu mySecondPackAnimal 4
                        wait 250
                    endif 
                    
                    settimer "HarvestDelay" 0
                    overhead "[ TIME TO MOVE ]" 69
                    @setvar! MiningActive 0
                    clearsysmsg
                    replay
                endif

                if not findtype "pickaxe" hand and findtype "pickaxe" backpack
                    dclicktype "pickaxe" backpack
                    wait 650
                endif
                
            if diffweight < RedWeightLimitDiffWeight
                replay
            else 
                hotkey "Use item in hand" 
                wft 1500
                hotkey "Target Self" 
            endif 
        endwhile
        replay   
    endif  


//////////////////////
//  LUMBER SCRIPT:  //
//////////////////////

    if skill "Lumberjacking" > 49.9 and EnableLumberjacking = 1 and timer "TravelTimer" > 60000

        @setvar! DungeonMode 0

        if hidden 
            overhead "[ HIDDEN... ]" 6
            wait 1000
            sysmsg "You cannot chop wood while hidden!  Please unhide and try again..." 0
            wait 3000
            replay
        endif

        if PutBoardsinLockedChest = 1
            if not findtype "wooden box" backpack or not findtype "copper key" backpack
                overhead "[ NO LOCKBOX FOUND! ]" 339
                wait 500 
            elseif counttype 2474 backpack > 1 or counttype 4110 backpack > 1 
                overhead "[ TOO MANY LOCKBOXES/KEYS! ]" 339
                wait 500       
            elseif findtype "wooden box" backpack as lockbox and findtype "copper key" backpack as key
                getlabel lockbox lockboxLabel
                if "items" in lockboxLabel
                    dclick key
                    wft 1000
                    target lockbox
                    wait 250
                    overhead "[board box locked]" 84
                endif
            endif 
        endif

        if EnableBoardBag = 1
            if not find BoardBag self
                overhead "Please select your board storage bag..." 88
                wait 500
                setvar BoardBag
                wft 500
                    while targetexists
                        wait 100
                    endwhile
                overhead "[ BOARD BAG SET! ]" 93
            endif
        endif

        if EnableBoardAutoRecall = 1
            if timer "BoardRecallTimer" > 30000
                settimer "BoardRecallTimer" 0
                @clearignore
            endif 
            if counttype "board%s" self > BoardRecallAmount
                if EnableOverheadMessages = 1 
                    overhead "I"d hate to lose all this hard work..." 2086
                    wait 2500
                    overhead "I"m going to go unload before its too late!" 2086
                    sysmsg "Disable 'EnableBoardAutoRecall' in script variables to turn off this feature!" 0
                    wait 2000
                endif
                @setvar! AutoRecallTriggered 1
                @setvar! TimeToGo 1
                replay
            endif
        endif 

        if not findtype "hatchet" self
            if EnableOverheadMessages = 1 
                overhead "I cannot work with no hatchet!" 2086
                wait 1500
            endif 
            @setvar! TimeToGo 1
            replay
        endif

        if not findtype "hatchet" hand and findtype "hatchet" backpack
            dclicktype "hatchet" backpack
            wait 500
        endif

        if EnableWeightWarningMessage = 1
            if diffweight < GreenWarningDiffWeight and diffweight > YellowWarningDiffWeight and timer "WeightTimer" > 5000
                overhead "[ WEIGHT WARNING... ]" 77
                settimer "WeightTimer" 0
            elseif diffweight < YellowWarningDiffWeight and diffweight > RedWeightLimitDiffWeight and timer "WeightTimer" > 5000
                overhead "[ WEIGHT WARNING! ]" 153
                settimer "WeightTimer" 0
            elseif diffweight < RedWeightLimitDiffWeight and timer "WeightTimer" > 5000
                overhead "[ WEIGHT LIMIT REACHED! ]" 37
                wait 1500
                stop
            endif 
        endif 
            
        for 2
        hotkey "Use item in hand" 
        wft 1500
            if insysmsg "use this item on"
                break
            else 
                wait 500
            endif
        endfor 
        target self 
        wait 650

        if insysmsg "world is saving" 
                for 50
                    wait 100
                    if insysmsg "world save complete" 
                        wait 100
                        if EnableOverheadMessages = 1 
                            overhead "[ SAVE COMPLETE! ]" 253 
                        endif 
                        clearsysmsg 
                    endif 
                endfor 
            clearsysmsg                              
        elseif insysmsg "Harvesting is not allowed"
            if EnableOverheadMessages = 1  
                overhead "You need to leave the safe area..." 0 
            else 
                overhead "[ LEAVE TOWN ]" 84
            endif
            wait 5000 
            replay                 
        elseif insysmsg "You broke your axe" 
            if EnableOverheadMessages = 1 
                overhead "My axe broke!" 2086
                wait 1500
            endif 
            if counttype "hatchet" self > 0
                if EnableOverheadMessages = 1 
                    wait 1000
                    overhead "But I think I have another... one sec..." 2086
                endif
                wait 500
            else 
                if EnableOverheadMessages = 1 
                    overhead "Dammit, that was my last hatchet!  Time to resupply..." 2086
                endif 
                @setvar! TimeToGo 1
                wait 5003
            endif
            replay                         
        elseif insysmsg "You have recently traveled"
            @setvar! TravelCooldownActive 1
            replay
        elseif insysmsg "You do not see any" or insysmsg "You cannot produce any"
            if MOVE = 1                        
                if timer "MoveTimer" > 2500
                    @setvar! MOVE 0
                    overhead "[ KEEP MOVING... ]" 88
                    settimer "MoveTimer" 0
                    @setvar! MOVE 0
                endif
            elseif MOVE = 0
                if timer "MoveTimer" > 2500
                overhead "[ KEEP MOVING... ]" 1590
                    settimer "MoveTimer" 0
                    @setvar! MOVE 1
                endif
            else 
                if timer "MoveTimer" > 2500
                overhead "[ KEEP MOVING... ]" 1590
                    settimer "MoveTimer" 0
                    @setvar! MOVE 1
                endif
            endif

            if EnableLogStacker = 1 and timer "LogStackerTimer" > 10000
                while findtype "log%s" backpack as logstostack 
                    lift logstostack 9999
                    drop backpack 100 100 0
                    wait 500 
                    @ignore logstostack
                endwhile
                settimer "LogStackerTimer" 0
                clearignore 
            endif
            
            if timer "LumberOrganizer" > 30000
                hotkey "Organizer Agent-02"
                settimer "LumberOrganizer" 0
            endif

            if EnableSatchels = 1
                if findtype "Ginseng|Garlic|Blood Moss|Sulfurous Ash|Mandrake Root%s%|Nightshade|Black Pearl%s%|Spider's Silk" backpack and findtype "reagent satchel" self as MyWizardBag
                    # '
                    if timer "WizardSatchelTimer" > 60000
                        menu MyWizardBag 0
                        wait 250
                        settimer "WizardSatchelTimer" 0
                    endif
                endif        
                if findtype "Yellow Potion|Orange Potion|Red Potion|White Potion|Blue Potion|Black Potion|" backpack and findtype 31262 self as MyPotBag
                    if timer "PotionSatchelTimer" > 60000 
                        menu MyPotBag 0
                        wait 250
                        settimer "PotionSatchelTimer" 0
                    endif
                endif 
            endif  

            if insysmsg "Being perfectly rested" and EnableOverheadMessages = 1
                overhead "Outta my way!  I have a pickaxe and know how to use it..." 2086
                if EnableSummons = 1 and followers >= 1
                    wait 1500
                    overhead "Shall we incinerate them, master?" 44 myMainTankPet
                    menu myMainTankPet 3
                endif
            endif
                    
            if paralyzed and EnableAutoParalyzePouch = 1
                if EnableOverheadMessages = 1
                    overhead "[   [  [ [ POP! ] ]  ]   ]" 2117
                endif 
                say "[pouch" 
                @setvar! TimeToGo 1
                @setvar! MurdererFound 1
                replay
            endif

            while findtype "log%s" backpack and LogsToBoards = 1
                if timer "BoardTimer" > 3500
                    overhead "*making boards...*" 0
                    settimer "BoardTimer" 0
                endif 
                dclicktype "log%s" 
                wait 500
                @setvar! NeedtoSecureBoards 1
            endwhile

            if NeedtoSecureBoards = 1
                if not findtype "wooden box" backpack or not findtype "copper key" backpack and PutBoardsinLockedChest = 1
                    overhead "[ NO LOCKBOX FOUND! ]" 339
                    wait 1500 
                elseif counttype 2474 backpack > 1 or counttype 4110 backpack > 1 and PutBoardsinLockedChest = 1
                    overhead "[ TOO MANY LOCKBOXES/KEYS! ]" 339
                    wait 1500  
                elseif findtype "wooden box" backpack as lockbox and findtype "copper key" backpack as key and PutBoardsinLockedChest = 1
                    if findtype "board%s" backpack as boardstostore                                      
                        getlabel lockbox lockboxLabel
                        if "items" in lockboxLabel
                            if EnableOverheadMessages = 1
                                overhead "*securing boards...*" 149
                                wait 250
                            endif 
                            while findtype "board%s" backpack as boardstostore
                                if find boardstostore lockbox
                                    @ignore boardstostore
                                else 
                                    lift boardstostore 9999
                                    drop lockbox -1 -1 -1
                                    wait 500
                                endif
                            endwhile 
                            dclick key
                            wft 1500
                            target lockbox
                            overhead "[board box locked]" 69
                            @setvar! NeedtoSecureBoards 0           
                            wait 500
                        else 
                            dclick key
                            wft 1500
                            target lockbox
                            overhead "[board box unlocked]" 84
                            if EnableOverheadMessages = 1
                                overhead "*securing boards...*" 149
                                wait 250
                            endif 
                            while findtype "board%s" backpack as boardstostore
                                if find boardstostore lockbox
                                    @ignore boardstostore
                                else 
                                    lift boardstostore 9999
                                    drop lockbox -1 -1 -1
                                    wait 500
                                endif
                            endwhile 
                            dclick key
                            wft 1500
                            target lockbox
                            overhead "[board box locked]" 69
                            @setvar! NeedtoSecureBoards 0 
                            wait 500
                        endif 
                    endif                
                    getlabel lockbox lockboxLabel
                    if "items" in lockboxLabel
                        dclick key
                        wft 1500
                        target lockbox
                        @setvar! NeedtoSecureBoards 0
                    endif
                elseif StackBoardsinBoardBag = 1 and PutBoardsinLockedChest = 0
                    if OpenBoardBag = 1
                        dclick BoardBag
                        wait 250
                    endif
                    while findtype "board%s" backpack as woodtomove
                        if find BoardBag self
                            while findtype "board%s" BoardBag as storedwood
                                @ignore storedwood
                            endwhile 
                            if timer "StackerTimer" > 3500 and EnableOverheadMessages = 1
                                overhead "*stacking boards...*" 2086
                                settimer "StackerTimer" 0
                            endif 
                            lift woodtomove 9999
                            drop BoardBag 1 1 0
                            wait 500
                            @ignore woodtomove
                        else 
                            overhead "[ NO BOARD BAG! ]" 337
                        endif                                    
                    endwhile
                    clearignore 
                else 
                    if SetBoardBagtoOrganizer01 = 1
                        hotkey "Organizer Agent-01"
                        wait 250 
                    endif 
                endif
                clearignore 
                hotkey "Organizer Agent-02"
                clearsysmsg
                @setvar! MOVE 1
                replay                
            endif 
            wait 500
            replay
        else 
            overhead "*chopping wood...*" 2128
            settimer "MoveTimer" 0
            wait 500
        endif 
            
        while timer "MoveTimer" < 7000                     
            if PKTrackingRange = 60 
                 if insysmsg ": 60 step" or insysmsg "60 space" or insysmsg ": 59 step" or insysmsg "59 space" or insysmsg ": 58 step" or insysmsg "58 space" or insysmsg ": 57 step" or insysmsg "57 space" or insysmsg ": 56 step" or insysmsg "56 space" or insysmsg ": 55 step" or insysmsg "55 space" or insysmsg ": 54 step" or insysmsg "54 space" or insysmsg ": 53 step" or insysmsg "53 space" or insysmsg ": 52 step" or insysmsg "52 space" or insysmsg ": 51 step" or insysmsg "51 space" or insysmsg ": 50 step" or insysmsg "50 space" or insysmsg ": 49 step" or insysmsg "49 space" or insysmsg ": 48 step" or insysmsg "48 space" or insysmsg ": 47 step" or insysmsg "47 space" or insysmsg ": 46 step" or insysmsg "46 space" or insysmsg ": 45 step" or insysmsg "45 space" or insysmsg ": 44 step" or insysmsg "44 space" or insysmsg ": 43 step" or insysmsg "43 space" or insysmsg ": 42 step" or insysmsg "42 space" or insysmsg ": 41 step" or insysmsg "41 space" or insysmsg ": 40 step" or insysmsg "40 space" or insysmsg ": 39 step" or insysmsg "39 space" or insysmsg ": 38 step" or insysmsg "38 space" or insysmsg ": 37 step" or insysmsg "37 space" or insysmsg ": 36 step" or insysmsg "36 space" or insysmsg ": 35 step" or insysmsg "35 space" or insysmsg ": 34 step" or insysmsg "34 space" or insysmsg ": 33 step" or insysmsg "33 space" or insysmsg ": 32 step" or insysmsg "32 space" or insysmsg ": 31 step" or insysmsg "31 space" or insysmsg ": 30 step" or insysmsg "30 space" or insysmsg ": 29 step" or insysmsg "29 space" or insysmsg ": 28 step" or insysmsg "28 space" or insysmsg ": 27 step" or insysmsg "27 space" or insysmsg ": 26 step" or insysmsg "26 space" or insysmsg ": 25 step" or insysmsg "25 space" or insysmsg ": 24 step" or insysmsg "24 space" or insysmsg ": 23 step" or insysmsg "23 space" or insysmsg ": 22 step" or insysmsg "22 space" or insysmsg ": 21 step" or insysmsg "21 space" or insysmsg ": 20 step" or insysmsg "20 space" or insysmsg ": 19 step" or insysmsg "19 space" or insysmsg ": 18 step" or insysmsg "18 space" or insysmsg ": 17 step" or insysmsg "17 space" or insysmsg ": 16 step" or insysmsg "16 space" or insysmsg ": 15 step" or insysmsg "15 space" or insysmsg ": 14 step" or insysmsg "14 space" or insysmsg ": 13 step" or insysmsg "13 space" or insysmsg ": 12 step" or insysmsg "12 space" or insysmsg ": 11 step" or insysmsg "11 space" or insysmsg ": 10 step" or insysmsg "10 space" or insysmsg ": 9 step" or insysmsg "(9 space" or insysmsg ": 8 step" or insysmsg "(8 space" or insysmsg ": 7 step" or insysmsg "(7 space" or insysmsg ": 6 step" or insysmsg "(6 space" or insysmsg ": 5 step" or insysmsg "(5 space" or insysmsg ": 4 step" or insysmsg "(4 space" or insysmsg ": 3 step" or insysmsg "(3 space" or insysmsg ": 2 step" or insysmsg "(2 space" or insysmsg ": 1 step" or insysmsg "(1 space" or insysmsg ": 0 step" or insysmsg "(0 space"
                    if EnableRedAlertOverhead = 1
                        overhead "[ !! RED ALERT !! ]" 37
                    endif 
                    if DungeonMode = 1 and EnableAutoRedDungeonGate = 1
                        hotkey "Toggle War Only"
                    elseif DungeonMode = 1 and EnableAutoRedDungeonGate = 0
                        if not hidden
                            useskill "Hiding"
                        endif
                    elseif DungeonMode = 0
                        @setvar! RedTargetFound 1
                        @setvar! TimeToGo 1
                        clearsysmsg
                    endif 
                endif
            elseif PKTrackingRange = 50 
                if insysmsg ": 50 step" or insysmsg "50 space" or insysmsg ": 49 step" or insysmsg "49 space" or insysmsg ": 48 step" or insysmsg "48 space" or insysmsg ": 47 step" or insysmsg "47 space" or insysmsg ": 46 step" or insysmsg "46 space" or insysmsg ": 45 step" or insysmsg "45 space" or insysmsg ": 44 step" or insysmsg "44 space" or insysmsg ": 43 step" or insysmsg "43 space" or insysmsg ": 42 step" or insysmsg "42 space" or insysmsg ": 41 step" or insysmsg "41 space" or insysmsg ": 40 step" or insysmsg "40 space" or insysmsg ": 39 step" or insysmsg "39 space" or insysmsg ": 38 step" or insysmsg "38 space" or insysmsg ": 37 step" or insysmsg "37 space" or insysmsg ": 36 step" or insysmsg "36 space" or insysmsg ": 35 step" or insysmsg "35 space" or insysmsg ": 34 step" or insysmsg "34 space" or insysmsg ": 33 step" or insysmsg "33 space" or insysmsg ": 32 step" or insysmsg "32 space" or insysmsg ": 31 step" or insysmsg "31 space" or insysmsg ": 30 step" or insysmsg "30 space" or insysmsg ": 29 step" or insysmsg "29 space" or insysmsg ": 28 step" or insysmsg "28 space" or insysmsg ": 27 step" or insysmsg "27 space" or insysmsg ": 26 step" or insysmsg "26 space" or insysmsg ": 25 step" or insysmsg "25 space" or insysmsg ": 24 step" or insysmsg "24 space" or insysmsg ": 23 step" or insysmsg "23 space" or insysmsg ": 22 step" or insysmsg "22 space" or insysmsg ": 21 step" or insysmsg "21 space" or insysmsg ": 20 step" or insysmsg "20 space" or insysmsg ": 19 step" or insysmsg "19 space" or insysmsg ": 18 step" or insysmsg "18 space" or insysmsg ": 17 step" or insysmsg "17 space" or insysmsg ": 16 step" or insysmsg "16 space" or insysmsg ": 15 step" or insysmsg "15 space" or insysmsg ": 14 step" or insysmsg "14 space" or insysmsg ": 13 step" or insysmsg "13 space" or insysmsg ": 12 step" or insysmsg "12 space" or insysmsg ": 11 step" or insysmsg "11 space" or insysmsg ": 10 step" or insysmsg "10 space" or insysmsg ": 9 step" or insysmsg "(9 space" or insysmsg ": 8 step" or insysmsg "(8 space" or insysmsg ": 7 step" or insysmsg "(7 space" or insysmsg ": 6 step" or insysmsg "(6 space" or insysmsg ": 5 step" or insysmsg "(5 space" or insysmsg ": 4 step" or insysmsg "(4 space" or insysmsg ": 3 step" or insysmsg "(3 space" or insysmsg ": 2 step" or insysmsg "(2 space" or insysmsg ": 1 step" or insysmsg "(1 space" or insysmsg ": 0 step" or insysmsg "(0 space"
                    if EnableRedAlertOverhead = 1
                        overhead "[ !! RED ALERT !! ]" 37
                    endif 
                    if DungeonMode = 1 and EnableAutoRedDungeonGate = 1
                        hotkey "Toggle War Only"
                    elseif DungeonMode = 1 and EnableAutoRedDungeonGate = 0
                        if not hidden
                            useskill "Hiding"
                        endif
                    elseif DungeonMode = 0
                        @setvar! RedTargetFound 1
                        @setvar! TimeToGo 1
                        clearsysmsg
                    endif 
                endif
            elseif PKTrackingRange = 40
                if insysmsg ": 40 step" or insysmsg "40 space" or insysmsg ": 39 step" or insysmsg "39 space" or insysmsg ": 38 step" or insysmsg "38 space" or insysmsg ": 37 step" or insysmsg "37 space" or insysmsg ": 36 step" or insysmsg "36 space" or insysmsg ": 35 step" or insysmsg "35 space" or insysmsg ": 34 step" or insysmsg "34 space" or insysmsg ": 33 step" or insysmsg "33 space" or insysmsg ": 32 step" or insysmsg "32 space" or insysmsg ": 31 step" or insysmsg "31 space" or insysmsg ": 30 step" or insysmsg "30 space" or insysmsg ": 29 step" or insysmsg "29 space" or insysmsg ": 28 step" or insysmsg "28 space" or insysmsg ": 27 step" or insysmsg "27 space" or insysmsg ": 26 step" or insysmsg "26 space" or insysmsg ": 25 step" or insysmsg "25 space" or insysmsg ": 24 step" or insysmsg "24 space" or insysmsg ": 23 step" or insysmsg "23 space" or insysmsg ": 22 step" or insysmsg "22 space" or insysmsg ": 21 step" or insysmsg "21 space" or insysmsg ": 20 step" or insysmsg "20 space" or insysmsg ": 19 step" or insysmsg "19 space" or insysmsg ": 18 step" or insysmsg "18 space" or insysmsg ": 17 step" or insysmsg "17 space" or insysmsg ": 16 step" or insysmsg "16 space" or insysmsg ": 15 step" or insysmsg "15 space" or insysmsg ": 14 step" or insysmsg "14 space" or insysmsg ": 13 step" or insysmsg "13 space" or insysmsg ": 12 step" or insysmsg "12 space" or insysmsg ": 11 step" or insysmsg "11 space" or insysmsg ": 10 step" or insysmsg "10 space" or insysmsg ": 9 step" or insysmsg "(9 space" or insysmsg ": 8 step" or insysmsg "(8 space" or insysmsg ": 7 step" or insysmsg "(7 space" or insysmsg ": 6 step" or insysmsg "(6 space" or insysmsg ": 5 step" or insysmsg "(5 space" or insysmsg ": 4 step" or insysmsg "(4 space" or insysmsg ": 3 step" or insysmsg "(3 space" or insysmsg ": 2 step" or insysmsg "(2 space" or insysmsg ": 1 step" or insysmsg "(1 space" or insysmsg ": 0 step" or insysmsg "(0 space"
                    if EnableRedAlertOverhead = 1
                        overhead "[ !! RED ALERT !! ]" 37
                    endif 
                    if DungeonMode = 1 and EnableAutoRedDungeonGate = 1
                        hotkey "Toggle War Only"
                    elseif DungeonMode = 1 and EnableAutoRedDungeonGate = 0
                        if not hidden
                            useskill "Hiding"
                        endif
                    elseif DungeonMode = 0
                        @setvar! RedTargetFound 1
                        @setvar! TimeToGo 1
                        clearsysmsg
                    endif 
                endif
            elseif PKTrackingRange = 0 
                if insysmsg "Now tracking"
                    if EnableRedAlertOverhead = 1
                        overhead "[ !! RED ALERT !! ]" 37
                    endif 
                    if DungeonMode = 1 and EnableAutoRedDungeonGate = 1
                        hotkey "Toggle War Only"
                    elseif DungeonMode = 1 and EnableAutoRedDungeonGate = 0
                        if not hidden
                            useskill "Hiding"
                        endif
                    elseif DungeonMode = 0
                        @setvar! RedTargetFound 1
                        @setvar! TimeToGo 1
                        clearsysmsg
                    endif 
                endif
            endif 

            if EnablePKradar = 1 and skill "Tracking" < 50
                if timer "PKRadar" > 1000
                    hotkey "Next Murderer Player Target"
                    wait 500
                    if insysmsg "No one matching that was found"
                        settimer "PKRadar" 0
                    else
                        if DungeonMode = 1 and EnableAutoRedDungeonGate = 1
                            hotkey "Toggle War Only"
                        elseif DungeonMode = 1 and EnableAutoRedDungeonGate = 0
                            if not hidden
                                useskill "Hiding"
                            endif
                        elseif DungeonMode = 0
                            @setvar! RedTargetFound 1
                            @setvar! TimeToGo 1
                        endif 
                        @setvar! MurdererTarget lasttarget
                        clearsysmsg
                        replay 
                    endif 
                endif
            endif 

            if paralyzed and EnableAutoParalyzePouch = 1
                if EnableOverheadMessages = 1
                    overhead "[   [  [ [ POP! ] ]  ]   ]" 2117
                endif 
                say "[pouch" 
                @setvar! TimeToGo 1
                @setvar! MurdererFound 1
                replay
            endif

            if warmode and EnableAutoAttackGreyMOB = 1
                replay
            endif

            if diffhits > 0
                replay
            endif

            if EnableRefreshPotion = 1 or EnableRefreshPotion = 2
                if diffstam >= RefreshPotSPdiff and timer "RefreshPotionTimer" > RefreshPotionCooldown
                    if findtype "Red Potion" self as refreshpot
                        dclick refreshpot
                        wait 500
                        if insysmsg "Potion satchel used"
                            if EnableOverheadMessages = 1 
                                overhead "*drinking free refresh potion...*" 34
                            endif
                            clearsysmsg
                        else 
                            if EnableOverheadMessages = 1 
                                overhead "*drinking refresh potion...*" 34
                            endif
                            clearsysmsg
                        endif
                        settimer "RefreshPotionTimer" 0
                        cooldown "Refresh Potion" RefreshPotionCooldown
                    else 
                        if timer "InventoryTimer" > 6000
                            overhead "[ NO REFRESH POTS! ]" 337
                            settimer "InventoryTimer" 0
                        endif
                    endif
                    wait 500 
                endif
            endif 
                   
            if EnableMagicResistPotion = 1
                if not findbuff "Magic Resist Potion"
                    if findtype "Black Potion" self as magicresistpot
                        dclick magicresistpot
                        wait 500
                        if EnableOverheadMessages = 1 
                            if insysmsg "Potion satchel used" 
                                overhead "*drinking free resist potion*" 2406
                                clearsysmsg
                            else 
                                overhead "*drinking resist potion*" 2406
                                clearsysmsg
                            endif
                        endif 
                    else 
                        if timer "InventoryTimer" > 6000
                            overhead "[ NO RESIST POTS! ]" 337
                            settimer "InventoryTimer" 0
                        endif
                    endif
                    wait 500
                endif
            endif

            if EnableStrengthPotion = 1 
                if skill "Alchemy" = 1 
                    if insysmsg "You may now use a strength" or not findbuff "Strength"
                        if findtype "White Potion" self as strengthpot
                            dclick strengthpot
                            wait 500
                            if EnableOverheadMessages = 1 
                                if insysmsg "Potion satchel used" 
                                    overhead "*drinking free strength potion*" 956
                                    clearsysmsg
                                else 
                                    overhead "*drinking strength potion*" 956
                                    clearsysmsg
                                endif
                            endif
                        else 
                            if timer "InventoryTimer" > 6000
                                overhead "[ NO STRENGTH POTS! ]" 337
                                settimer "InventoryTimer" 0
                            endif
                        endif
                        wait 500
                    endif
                elseif not findbuff "Strength"
                    if findtype "White Potion" self as strengthpot
                        dclick strengthpot
                        wait 500
                        if EnableOverheadMessages = 1 
                            if insysmsg "Potion satchel used" 
                                overhead "*drinking free strength potion*" 956
                                clearsysmsg
                            else 
                                overhead "*drinking strength potion*" 956
                                clearsysmsg
                            endif
                        endif
                    else 
                        if timer "InventoryTimer" > 6000
                            overhead "[ NO STRENGTH POTS! ]" 337
                            settimer "InventoryTimer" 0
                        endif
                    endif
                    wait 500
                endif
            endif

            if EnableAgilityPotion = 1
                if not findbuff "Agility"
                if findtype "Blue Potion" self as agilitypot
                        dclick agilitypot
                        wait 500
                        if EnableOverheadMessages = 1 
                            if insysmsg "Potion satchel used" 
                                overhead "*drinking free agility potion*" 93
                                clearsysmsg
                            else 
                                overhead "*drinking agility potion*" 93
                                clearsysmsg
                            endif
                        endif
                    else 
                        if timer "InventoryTimer" > 6000
                            overhead "[ NO AGILITY POTS! ]" 337
                            settimer "InventoryTimer" 0
                        endif
                    endif
                    wait 500
                endif
            endif

            if EnableMagicReflection = 1 
                if skill "Magery" >= 60 and not findbuff "Magic Reflection" and mana > 14 and TimeToGo != 1
                    replay
                endif  
            endif             
                  
            if insysmsg "Lumberjacking skillgain" and EnableOverheadMessages = 1
                if skill "Lumberjacking" > 100.0 and skill "Lumberjacking" < 119.9
                    sysmsg "Hmm... this tree will really test my skills..." 84          
                     clearsysmsg                   
                elseif skill "Lumberjacking" = 119.9
                    overhead "THIS COULD BE IT......" 2086
                    sysmsg "Hmm... there is something special about this tree..." 84   
                    clearsysmsg                             
                elseif skill "Lumberjacking" = 120.0
                    overhead "FINALLY!!!" 2086
                    wait 2000
                    overhead "We made it!" 2086
                    wait 1500
                    clearsysmsg 
                    overhead "TIME FOR A WELL DESERVED BREAK!" 2086
                    stop
                endif
            endif

            if insysmsg "world is saving" 
                for 50
                    wait 100
                    if insysmsg "world save complete" 
                        wait 100
                        if EnableOverheadMessages = 1
                            overhead "[ SAVE COMPLETE! ]" 253 
                        endif
                        clearsysmsg 
                    endif  
                endfor 
                clearsysmsg  
            endif

            if EnableSummons = 1  and dead myMainTankPet
                if not dead earthOne
                    @setvar! myMainTankPet earthOne
                elseif not dead earthTwo
                    @setvar! myMainTankPet earthTwo
                elseif not dead waterOne
                    @setvar! myMainTankPet waterOne
                elseif not dead waterTwo
                    @setvar! myMainTankPet waterTwo
                elseif not dead demonOne
                    @setvar! myMainTankPet demonOne
                elseif not dead demonTwo
                    @setvar! myMainTankPet demonTwo
                elseif not dead fireOne
                    @setvar! myMainTankPet fireOne
                elseif not dead fireTwo
                    @setvar! myMainTankPet fireTwo
                elseif not dead airOne
                    @setvar! myMainTankPet airOne
                elseif not dead airTwo
                    @setvar! myMainTankPet airTwo
                endif
                if EnableOverheadMessages = 1
                    overhead "Hold on..." 2086
                endif
                wait 500
                replay   
            endif
    
            if insysmsg "You hack"
                overhead "*you fail to harvest anything...*" 337
                replay       
            elseif insysmsg "You chop some logs" 
                clearsysmsg 
                if insysmsg "Harvest double yield"
                    overhead "*you double harvest logs!*" 349                          
                else 
                    overhead "*you harvest logs*" 349
                endif
                replay
            elseif insysmsg "You chop some dullwood logs" 
                clearsysmsg
                if insysmsg "Harvest double yield"
                    overhead "*you double harvest dullwood!*" 2419                          
                else 
                    overhead "*you harvest dullwood*" 2419
                endif
                replay
            elseif insysmsg "You chop some shadowwood logs"
                clearsysmsg
                if insysmsg "Harvest double yield"
                    overhead "*you double harvest shadowwood!*" 2406                          
                else 
                    overhead "*you harvest shadowwood*" 2406
                endif
                replay
            elseif insysmsg "You chop some copperwood logs" 
                clearsysmsg
                if insysmsg "Harvest double yield"
                    overhead "*you double harvest copperwood!*" 2413                          
                else 
                    overhead "*you harvest copperwood*" 2413
                endif
                replay
            elseif insysmsg "You chop some bronzewood logs" 
                clearsysmsg
                if insysmsg "Harvest double yield"
                    overhead "*you double harvest bronzewood!*" 2418                          
                else 
                    overhead "*you harvest bronzewood*" 2418
                endif
                replay
            elseif insysmsg "You chop some goldenwood logs" 
                clearsysmsg
                if insysmsg "Harvest double yield"
                    overhead "*you double harvest goldenwood!*" 2213                          
                else 
                    overhead "*you harvest goldenwood!*" 2213
                endif 
                replay
            elseif insysmsg "You chop some rosewood logs" 
                clearsysmsg
                if insysmsg "Harvest double yield"
                    overhead "*you double harvest rosewood!*" 2425                          
                else 
                    overhead "*you harvest rosewood!*" 2425
                endif
                replay
            elseif insysmsg "You chop some verewood logs" 
                clearsysmsg
                if insysmsg "Harvest double yield"
                    overhead "*you double harvest verewood!*" 2207                          
                else 
                    overhead "*you harvest verewood!*" 2207
                endif
                replay
            elseif insysmsg "You chop some valewood logs" 
                clearsysmsg
                if insysmsg "Harvest double yield"
                    overhead "*you double harvest valewood!*" 2219                          
                else 
                    overhead "*you harvest valewood!*" 2219
                endif
                replay
            elseif insysmsg "You chop some avarwood logs" 
                clearsysmsg
                if insysmsg "Harvest double yield"
                    overhead "*you double harvest avarwood!!!*" 1763     
                    if EnableOverheadMessages = 1
                        overhead "Woot! Woot!!" 2086     
                    endif                 
                else 
                    overhead "*you harvest avarwood!!*" 1763
                    if EnableOverheadMessages = 1
                        overhead "Woot!" 2086
                    endif 
                endif
                replay
            elseif insysmsg "travel"
                clearsysmsg
                @setvar! TravelCooldownActive 1
                replay
            endif   
        endwhile   
        replay
    endif

    
///////////////////////
//  FISHING SCRIPT:  //
///////////////////////

    if skill "Fishing" >= 50 and EnableFishing = 1 
        @setvar! DungeonMode 0

        if insysmsg "You fish a" and EnableOverheadMessages = 1
            overhead "Nothing on that one..." 2086
        endif

        if insysmsg "You catch a fish" and EnableOverheadMessages = 1
            overhead "*you harvest fish*" 77
        endif 

        if PutSpecialNetsinLockedChest = 1
            if not findtype "wooden box" backpack or not findtype "copper key" backpack
                overhead "[ NO LOCKBOX FOUND! ]" 339
                wait 500 
            elseif counttype 2474 backpack > 1 or counttype 4110 backpack > 1 
                overhead "[ TOO MANY LOCKBOXES/KEYS! ]" 339
                wait 500       
            elseif findtype "wooden box" backpack as lockbox and findtype "copper key" backpack as key
                getlabel lockbox lockboxLabel
                if "items" in lockboxLabel
                    dclick key
                    wft 1000
                    target lockbox
                    wait 500
                    overhead "[lockbox secured]" 84
                endif
            endif 
        endif 

        if EnableWeightWarningMessage = 1 
            if diffweight < GreenWarningDiffWeight and diffweight > YellowWarningDiffWeight and timer "WeightTimer" > 5000
                overhead "[ WEIGHT WARNING... ]" 77
                settimer "WeightTimer" 0
            elseif diffweight < YellowWarningDiffWeight and diffweight > RedWeightLimitDiffWeight and timer "WeightTimer" > 5000
                overhead "[ WEIGHT WARNING! ]" 153
                settimer "WeightTimer" 0
            elseif diffweight < RedWeightLimitDiffWeight and timer "WeightTimer" > 5000
                overhead "[ WEIGHT LIMIT REACHED! ]" 37
                settimer "WeightTimer" 0
                wait 1500
                stop
            endif 
        endif 

        if PutSpecialNetsinBag = 1
            if not varexist FishBag
                wait 1000
                overhead "[ SELECT YOUR SPECIAL NET STORAGE BAG... ]" 88
                setvar FishBag
                wft 500
                    while targetexists 
                        wait 100
                    endwhile
                overhead "[ STORAGE BAG SET! ]" 93
                wait 1500
            endif 
        endif 

        if warmode 
            if TrawlingMode = 0
                overhead "[ TRAWLING MODE... ]" 83
            endif 
            @setvar! TrawlingMode 1
            @setvar! CastingMode 0
            if EnableTrawling = 1
                if findtype "Fishing Pole" hand or lhandempty
                if findtype 31172|31169 self as MyFishingWeapon
                        dclick MyFishingWeapon
                        wait 250
                    else 
                        if EnableOverheadMessages = 1
                            overhead "I have no harpoon or trident!" 2086
                            wait 1500
                        else
                            overhead "[ NO HARPOON ]" 337
                        endif 
                    endif
                else
                    if timer "NetTimer" > 4000
                        if findtype "fishing net" backpack as MyNet
                            dclick MyNet
                            wft 1500
                            target "self"
                            settimer "NetTimer" 0
                        else 
                            if EnableOverheadMessages = 1
                                overhead "I have no fishing nets!" 2086
                            else 
                                overhead "[ NO NETS ]" 337
                            endif
                            settimer "NetTimer" 0
                        endif
                        wait 1000 
                        if insysmsg "You do not see anything nearby that requires a fishing net" 
                            overhead "Nothing here to catch with my nets..." 2086
                            hotkey "Toggle Peace Only" 
                            replay
                        else 
                            overhead "*throwing a net...*" 83
                        endif 
                    endif
                endif
            else 
                // Do nothing
            endif
        else 
            if EnableOverheadMessages = 1
                if insysmsg "You fish a"
                    overhead "Nothing on that one..." 2086
                endif
                if insysmsg "You catch a fish"
                    overhead "*you harvest fish*" 77
               endif 
            endif
            if CastingMode = 0
                overhead "[ CASTING MODE... ]" 93
            endif
            @setvar! TrawlingMode 0
            @setvar! CastingMode 1
            if EnableCasting = 1 
                if timer "CastTimer" > 7500
                    if findtype 31172|31169 hand or lhandempty
                        if findtype "fishing pole" self
                            dress "Fishing Pole"
                            wait 250
                        else 
                            if EnableOverheadMessages = 1
                                overhead "I have no fishing pole!" 2086
                            else 
                                overhead "[ NO POLE ]" 337
                            endif
                            settimer "CastTimer" 0
                        endif
                    elseif findtype "fishing pole" hand
                        hotkey "Use item in hand"
                        wft 1500
                        target "self"
                        settimer "CastTimer" 0
                    endif
                    wait 1000
                    if insysmsg "You may only fish inside of a house"
                        if EnableOverheadMessages = 1
                            overhead "I cannot do that in here..." 2086
                        else 
                            overhead "[ NO FISHING HERE ]" 337
                        endif
                        wait 3500 
                        clearsysmsg 
                    elseif insysmsg "You do not see any harvestable" 
                        if EnableOverheadMessages = 1
                            overhead "There is no fish to find here...." 2086
                        else 
                            overheard "[ NO FISHING HERE ]" 337
                        endif
                        clearsysmsg 
                    else 
                        overhead "*casting a line...*" 93
                    endif 
                endif
                if timer "SpyglassTimer" > 6500 and EnableSpyglass = 1
                    gumpclose 2890020940
                    if targetexists
                        hotkey "Cancel Current Target"
                    endif
                    if findtype "spyglass" self as MySpyglass
                        dclick MySpyglass
                    else 
                        if EnableOverheadMessages = 1
                            overhead "I have no spyglass!" 2086
                        else 
                            overheard "[ NO SPYGLASS ]" 337
                        endif
                        @setvar! EnableSpyglass 0
                    endif 
                    wft 500
                    if targetexists neutral
                        target "self"
                    endif
                    wait 500
                    if insysmsg "see anything nearby worth searching"
                        overhead "I do not see anything to search for..." 2086
                        wait 1500
                    else 
                        overhead "*using spyglass...*" 2
                    endif 
                    waitforgump 2890020940 1000
                    gumpresponse 11 2890020940
                    waitforgump 2890020940 1000
                    gumpresponse 4 2890020940
                    waitforgump 2890020940 1000
                    settimer "SpyglassTimer" 0
                endif 
            else 
                //Do nothing
            endif 
        endif 

        if counttype "cooked fish" backpack > FishCarveCount and EnableFishCarver = 1 and DisableFishCarver != 1
            while findtype "cooked fish" self as FishtoCarve
                if findtype "dagger" self as MyKnife
                    dclick MyKnife
                    wft 1500  
                    if EnableOverheadMessages = 1 
                        overhead "*carving fish steaks...*" 0
                    endif  
                    target FishtoCarve
                else 
                    if EnableOverheadMessages = 1 
                        overhead "I have no dagger to carve these with..."
                        else 
                            overheard "[ NO DAGGER ]" 337
                        endif
                    @setvar! DisableFishCarver 1
                    break
                endif
            endwhile
        endif

        if not findtype "dagger" self
            @setvar! DisableFishCarver 1
        else 
            @setvar! DisableFishCarver 0
        endif 

        if timer "SpecialNetCheckTimer" > 30000
            while findtype "fishing net" backpack as FishingNet 
                    getlabel FishingNet FishingNetname
                    if "special" in FishingNetname
                        overhead "This net looks special.. I had better hide it!" 2086
                        if PutSpecialNetsinBag = 1
                            lift FishingNet
                            drop FishBag -1 -1 0
                            wait 250
                        else 
                            @setvar! NeedtoSecureSpecialNet 1
                        endif 
                    else 
                        @ignore FishingNet
                    endif
            endwhile
            settimer "SpecialNetCheckTimer" 0
            @clearignore 
        endif 

        if PutSpecialNetsinLockedChest = 1 and NeedtoSecureSpecialNet = 1
            if not findtype "wooden box" backpack or not findtype "copper key" backpack
                overhead "[ NO LOCKBOX FOUND! ]" 339
                wait 1500 
            elseif counttype 2474 backpack > 1 or counttype 4110 backpack > 1 
                overhead "[ TOO MANY LOCKBOXES/KEYS! ]" 339
                wait 1500  
            else 
                if findtype "wooden box" backpack as lockbox and findtype "copper key" backpack as key                                  
                    getlabel lockbox lockboxLabel
                    if "items" in lockboxLabel
                        wait 500
                        if EnableOverheadMessages = 1 
                            overhead "*securing special net...*" 149
                        endif 
                        lift FishingNet
                        drop lockbox -1 -1 -1
                        wait 250
                        dclick key
                        wft 1500
                        target lockbox
                        overhead "[storage box locked]" 69
                        @setvar! NeedtoSecureIngots 0                                            
                    else 
                        overhead "[storage box unlocked]" 84
                        dclick key
                        wft 1500
                        target lockbox 
                        if EnableOverheadMessages = 1
                            overhead "*securing special net...*" 149
                        endif
                        lift FishingNet
                        drop lockbox -1 -1 -1
                        wait 250
                        dclick key
                        wft 1500
                        target lockbox
                        overhead "[storage box locked]" 69
                        @setvar! NeedtoSecureSpecialNet 0
                    endif 
                endif
            endif 
        endif 
        replay
    endif 

    
//////////////////////
//  PICKER SCRIPT:  //
//////////////////////

    if skill "Lockpicking" >= 50 and skill "Detecting Hidden" >= 50 and EnableDungeonPicker = 1   
        
        @setvar! DungeonMode 1 
        
        if not varexist Stealthing
            @setvar! Stealthing 0
        endif

        if not varexist ChestTarget
            @setvar! ChestTarget 0
        endif

        if timer OrganizerTimer > 30000
            hotkey "Organizer Agent-05" 
            settimer OrganizerTimer 0
        endif 

        if findtype "wooden box" backpack
            @setvar! NoLockbox 0
        endif 

        while find TargetDungeonChest ground -1 -1 2 and findtype 3821|31169|31172|7109|30988|31190|31128|30988|31142|31141|31002|31130|31000|31001|31180|31182|31178|30991|30999|31014|20016|20014|20012|20010|20008|20006|30992|30997|31176|31188|30998|30989|30996|30995|31186|31184|30994|30990|30993|31017|31019|31021|31023|31025|31027|31029|31031|31033|31035|31037|31038|31041|31043|31045|31047|31049|31051|31053|31055|37181|4026|4025|3962|3963|3972|3973|3974|3976|3980|3981|31010|31008|31007|31006|31015|31005|31009|31012|31011|31004|31003|31191|39911|17686|31014|30994|31142|31190|24434|43206|29363|43166|22336|29348|17087|3985|8826|3827|29030|3836|5981|4248|5359|3839|3838|3843|2597|29036|48407|3834|3865|3859|3885|3856|3878|3877|3873|3861|3862|576|5123|7177|7027|3920|5131|5179|5075|3980|5060|5076|5042|10245|3938|3913|7169|3909|5063|5089|3981|7170|7033|3976|3762|5040|5103|5117|7181|7029|3568|6264|3742|5139|6263|7026|5125|3740|5121|3973|3974|5204|5105|5185|5078|5115|7175|5059|7034|3713|3915|5112|5070|5049|5119|5205|5046|3962|3934|7035|3911|7179|5106|5143|3573|3719|5177|7610|5181|3917|5132|3963|7031|5207|5056|5085|3763|5129|5187|3721|3972|5138|3570|5101|5061|5074|5142|5182|5146|6265|5090|5203|5044|5144|3932|5201|5127|3572|7173|5135|3937|3571|22326|27611|9917|3821|5356|8455|5362|45315|8454|22187|5901|7163|3903|12686 TargetDungeonChest as item
            if timer "TargetTimer" > 4000
                overhead "*looting chest...*" 99
                settimer "TargetTimer" 0
            endif 
            getlabel item lootDesc
            overhead "{{lootDesc}}" 253
            wait 250
            hotkey "Grab Item"
            target item
            while queued
                wait 50
            endwhile
        endwhile
        
        if PutLootinLockedChest = 1 and NeedtoSecureLoot = 1 and NoLockbox != 1
            if not findtype "wooden box" backpack or not findtype "copper key" backpack
                overhead "[ NO LOCKBOX FOUND! ]" 339
                @setvar! NoLockbox 1
                wait 1500 
            elseif counttype 2474 backpack > 1 or counttype 4110 backpack > 1 
                overhead "[ TOO MANY LOCKBOXES/KEYS! ]" 339
                @setvar! NoLockbox 1
                wait 1500  
            else 
                if findtype "wooden box" backpack as lockbox and findtype "copper key" backpack as key
                    if findtype "3821|31169|31172|7109|30988|31190|31128|30988|31142|31141|31002|31130|31000|31001|31180|31182|31178|30991|30999|31014|20016|20014|20012|20010|20008|20006|30992|30997|31176|31188|30998|30989|30996|30995|31186|31184|30994|30990|30993|31017|31019|31021|31023|31025|31027|31029|31031|31033|31035|31037|31038|31041|31043|31045|31047|31049|31051|31053|31055|37181|4026|4025|3962|3963|3972|3973|3974|3976|3980|3981|31010|31008|31007|31006|31015|31005|31009|31012|31011|31004|31003|31191|39911|17686|31014|30994|31142|31190|24434|43206|29363|43166|22336|29348|17087|3985|8826|3827|29030|3836|5981|4248|5359|3839|3838|3843|2597|29036|48407|3834|3865|3859|3885|3856|3878|3877|3873|3861|3862|576|5123|7177|7027|3920|5131|5179|5075|3980|5060|5076|5042|10245|3938|3913|7169|3909|5063|5089|3981|7170|7033|3976|3762|5040|5103|5117|7181|7029|3568|6264|3742|5139|6263|7026|5125|3740|5121|3973|3974|5204|5105|5185|5078|5115|7175|5059|7034|3713|3915|5112|5070|5049|5119|5205|5046|3962|3934|7035|3911|7179|5106|5143|3573|3719|5177|7610|5181|3917|5132|3963|7031|5207|5056|5085|3763|5129|5187|3721|3972|5138|3570|5101|5061|5074|5142|5182|5146|6265|5090|5203|5044|5144|3932|5201|5127|3572|7173|5135|3937|3571|22326|27611|9917|3821|5356|8455|5362|45315|8454|22187|5901|7163|3903|126867981|7982|7983|7984|7985|7986|7987|7988|7989|7990|7991|7992|7993|7994|7995|7996|7997|7998|7999|8000|8001|8002|8003|8004|8005|8006|8007|8008|8009|8010|8011|8012|8013|8014|8015|8016|8017|8018|8019|8020|8021|8022|8023|8024|8025|8026|8027|8028|8029|8030|8031|8032|8033|8034|8035|8036|8037|8038|8039|8040|8041|8042|8033|8044" backpack as loottostore                                      
                        getlabel lockbox lockboxLabel
                        if "items" in lockboxLabel
                            wait 500
                            if timer "NoTargetTimer" > 5000
                                if EnableOverheadMessages = 1
                                    overhead "*securing loot...*" 420
                                endif
                                settimer "NoTargetTimer" 0
                            endif         
                        else 
                            overhead "[loot box unlocked]" 84 lockbox
                            dclick key
                            wft 1500
                            target lockbox
                            if timer "NoTargetTimer" > 5000
                                if EnableOverheadMessages = 1
                                    overhead "*securing loot...*" 420
                                endif 
                                settimer "NoTargetTimer" 0
                            endif
                        endif                     
                        while findtype "3821|31169|31172|7109|30988|31190|31128|30988|31142|31141|31002|31130|31000|31001|31180|31182|31178|30991|30999|31014|20016|20014|20012|20010|20008|20006|30992|30997|31176|31188|30998|30989|30996|30995|31186|31184|30994|30990|30993|31017|31019|31021|31023|31025|31027|31029|31031|31033|31035|31037|31038|31041|31043|31045|31047|31049|31051|31053|31055|37181|4026|4025|3962|3963|3972|3973|3974|3976|3980|3981|31010|31008|31007|31006|31015|31005|31009|31012|31011|31004|31003|31191|39911|17686|31014|30994|31142|31190|24434|43206|29363|43166|22336|29348|17087|3985|8826|3827|29030|3836|5981|4248|5359|3839|3838|3843|2597|29036|48407|3834|3865|3859|3885|3856|3878|3877|3873|3861|3862|576|5123|7177|7027|3920|5131|5179|5075|3980|5060|5076|5042|10245|3938|3913|7169|3909|5063|5089|3981|7170|7033|3976|3762|5040|5103|5117|7181|7029|3568|6264|3742|5139|6263|7026|5125|3740|5121|3973|3974|5204|5105|5185|5078|5115|7175|5059|7034|3713|3915|5112|5070|5049|5119|5205|5046|3962|3934|7035|3911|7179|5106|5143|3573|3719|5177|7610|5181|3917|5132|3963|7031|5207|5056|5085|3763|5129|5187|3721|3972|5138|3570|5101|5061|5074|5142|5182|5146|6265|5090|5203|5044|5144|3932|5201|5127|3572|7173|5135|3937|3571|22326|27611|9917|3821|5356|8455|5362|45315|8454|22187|5901|7163|3903|126867981|7982|7983|7984|7985|7986|7987|7988|7989|7990|7991|7992|7993|7994|7995|7996|7997|7998|7999|8000|8001|8002|8003|8004|8005|8006|8007|8008|8009|8010|8011|8012|8013|8014|8015|8016|8017|8018|8019|8020|8021|8022|8023|8024|8025|8026|8027|8028|8029|8030|8031|8032|8033|8034|8035|8036|8037|8038|8039|8040|8041|8042|8033|8044" backpack as loottostore
                            if find loottostore lockbox
                                @ignore loottostore
                            else 
                                clearsysmsg 
                                lift loottostore 9999
                                wait 150 
                                drop lockbox -1 -1 -1
                                wait 250
                            endif
                        endwhile
                        dclick key
                        wft 1500
                        target lockbox
                        overhead "[loot box locked]" 69 lockbox
                        @setvar! NeedtoSecureLoot 0                                             
                        wait 500                         
                    endif 
                    wait 150 
                    getlabel lockbox lockboxLabel
                    if "items" in lockboxLabel
                        dclick key
                        wft 1500
                        target lockbox
                        @setvar! NeedtoSecureLoot 0
                    endif
                endif
            endif   
        endif

        if EnableWeightWarningMessage = 1
            if diffweight < GreenWarningDiffWeight and diffweight > YellowWarningDiffWeight and timer "WeightTimer" > 5000
                overhead "[ WEIGHT WARNING... ]" 77
                settimer "WeightTimer" 0
            elseif diffweight < YellowWarningDiffWeight and diffweight > RedWeightLimitDiffWeight and timer "WeightTimer" > 5000
                overhead "[ WEIGHT WARNING! ]" 153
                settimer "WeightTimer" 0
            elseif diffweight < RedWeightLimitDiffWeight and timer "WeightTimer" > 5000
                overhead "[ WEIGHT LIMIT REACHED! ]" 37
                settimer "WeightTimer" 0
                wait 1500
                if EnableAutoWeightDungeonGate = 1
                    @setvar! TimeToGo 1
                    hotkey "Toggle War Only"
                    replay
                endif 
                stop
            endif 
        endif 

        if EnableSkinningMode = 1 
            if findtype "Elven SpellBlade" hand
                @setvar! SkinningMode 1
                wait 250 
                if hidden 
                    if findtype "clean bandage%s%" self as bandages
                        dclick bandages
                        wft 500
                        hotkey "Cancel Current Target"
                    else 
                        say "."
                    endif 
                endif 
                wait 250 
                while SkinningMode = 1
                    if hidden
                        overhead "[ SKINNING MODE OFF! ]" 1182
                        clearhands right 
                        @setvar! SkinningMode 0 
                        break 
                    endif 

                    if insysmsg "Now tracking" 
                        useskill "Hiding"
                        overhead "[ HIDING! ]" 6
                        clearhands right 
                        @setvar! SkinningMode 0 
                        replay 
                    endif 
                    
                    if findtype "Elven SpellBlade" hand
                        // Do nothing
                    else 
                        overhead "[ SKINNING MODE OFF! ]" 1182
                        @setvar! SkinningMode 0
                        break
                    endif
                    
                    if dead
                        replay
                    endif 
                    
                    if warmode
                        @setvar! TimeToGo 1
                        replay
                    endif 

                    if timer "SkinningModeTimer" > 3500
                        overhead "[ SKINNING MODE! ]" 1182
                        settimer "SkinningModeTimer" 0
                    endif

                    if EnableChestRadar = 1 
                        if timer "ChestRadar" >= 4500
                            if findtype 3651|3649|3648|3650|3708|2475 ground -1 -1 18 as DungeonChest
                                getlabel DungeonChest descChest
                                if "lock" in descChest
                                    overhead "descChest" 69 DungeonChest
                                    overhead "" 69 DungeonChest 
                                    settimer "ChestRadar" 0
                                else 
                                    overhead "" 34 DungeonChest
                                    settimer "ChestRadar" 0
                                endif
                            endif
                        endif
                    endif 

                    if skill "Healing" > 30
                        if not bandaging 
                            if hp < maxhp or poisoned or findbuff "bleed" or findbuff "disease"  
                                if counttype "clean bandage%s%" self < 10 and counttype "clean bandage%s%" self != 0
                                    if timer "InventoryTimer" > 6000
                                        overhead "[ BANDAGES LOW! ]" 339
                                        settimer "InventoryTimer" 0
                                    endif
                                    if EnableOverheadMessages = 1
                                        overhead "*applying bandages...*" 88
                                    endif
                                    hotkey "Bandage Self"  
                                elseif counttype "clean bandage%s%" self = 0 and timer "InventoryTimer" > 6000  
                                    overhead "[ NO BANDAGES! ]" 337
                                    settimer "InventoryTimer" 0
                                elseif poisoned or findbuff "bleed" or findbuff "disease"  
                                    if EnableOverheadMessages = 1
                                        overhead "*applying bandages...*" 88
                                    endif
                                    hotkey "Bandage Self"     
                                else 
                                    if EnableOverheadMessages = 1
                                        overhead "*applying bandages...*" 88
                                    endif
                                    hotkey "Bandage Self"    
                                endif 
                            endif
                        endif 
                    endif

                    if EnableHealPotion = 1 or EnableHealPotion = 2
                        if diffhits > HealPotHPdiff and timer "HealingPotionTimer" > HealingPotionCooldown
                            if findtype "Yellow Potion" self as healpot
                                dclick healpot
                                wait 750
                                if insysmsg "Potion satchel used"
                                    if EnableOverheadMessages = 1 
                                        overhead "*drinking free heal potion...*" 253
                                    endif
                                    clearsysmsg
                                else 
                                    if EnableOverheadMessages = 1 
                                        overhead "*drinking heal potion...*" 253
                                    endif
                                    clearsysmsg
                                endif
                                settimer "HealingPotionTimer" 0
                                cooldown "Healing Potion" HealingPotionCooldown
                            else 
                                if timer "InventoryTimer" > 6000
                                    overhead "[ NO HEAL POTS! ]" 337
                                    settimer "InventoryTimer" 0
                                endif
                            endif
                            wait 500 
                        endif
                    endif 

                    if EnableCurePotion = 1 or EnableCurePotion = 2
                        if poisoned and timer "CurePotionTimer" > CurePotionCooldown
                            if findtype "Orange Potion" self as curepot
                                dclick curepot
                                wait 500
                                if insysmsg "Potion satchel used"
                                    if EnableOverheadMessages = 1 
                                        overhead "*drinking free cure potion...*" 44
                                    endif
                                    clearsysmsg
                                else 
                                    if EnableOverheadMessages = 1 
                                        overhead "*drinking cure potion...*" 44
                                    endif
                                    clearsysmsg
                                endif
                                settimer "CurePotionTimer" 0
                                cooldown "Cure Potion" CurePotionCooldown
                            else
                                if timer "InventoryTimer" > 6000
                                    overhead "[ NO CURE POTS! ]" 337
                                    settimer "InventoryTimer" 0
                                endif
                            endif
                            wait 500 
                        endif
                    endif 

                    if EnableRefreshPotion = 1 or EnableRefreshPotion = 2
                        if diffstam >= RefreshPotSPdiff and timer "RefreshPotionTimer" > RefreshPotionCooldown
                            if findtype "Red Potion" self as refreshpot
                                dclick refreshpot
                                wait 500
                                if insysmsg "Potion satchel used"
                                    if EnableOverheadMessages = 1 
                                        overhead "*drinking free refresh potion...*" 34
                                    endif
                                    clearsysmsg
                                else 
                                    if EnableOverheadMessages = 1 
                                        overhead "*drinking refresh potion...*" 34
                                    endif
                                    clearsysmsg
                                endif
                                settimer "RefreshPotionTimer" 0
                                cooldown "Refresh Potion" RefreshPotionCooldown
                            else 
                                if timer "InventoryTimer" > 6000
                                    overhead "[ NO REFRESH POTS! ]" 337
                                    settimer "InventoryTimer" 0
                                endif
                            endif
                            wait 500 
                        endif
                    endif 

                    if EnableMagicResistPotion = 1
                        if not findbuff "Magic Resist Potion"
                            if findtype "Black Potion" self as magicresistpot
                                dclick magicresistpot
                                wait 500
                                if EnableOverheadMessages = 1 
                                    if insysmsg "Potion satchel used" 
                                        overhead "*drinking free resist potion*" 2406
                                        clearsysmsg
                                    else 
                                        overhead "*drinking resist potion*" 2406
                                        clearsysmsg
                                    endif
                                endif 
                            else 
                                if timer "InventoryTimer" > 6000
                                    overhead "[ NO RESIST POTS! ]" 337
                                    settimer "InventoryTimer" 0
                                endif
                            endif
                            wait 500
                        endif
                    endif

                    if EnableStrengthPotion = 1 
                        if skill "Alchemy" = 1 
                            if insysmsg "You may now use a strength" or not findbuff "Strength"
                                if findtype "White Potion" self as strengthpot
                                    dclick strengthpot
                                    wait 500
                                    if EnableOverheadMessages = 1 
                                        if insysmsg "Potion satchel used" 
                                            overhead "*drinking free strength potion*" 956
                                            clearsysmsg
                                        else 
                                            overhead "*drinking strength potion*" 956
                                            clearsysmsg
                                        endif
                                    endif
                                else 
                                    if timer "InventoryTimer" > 6000
                                        overhead "[ NO STRENGTH POTS! ]" 337
                                        settimer "InventoryTimer" 0
                                    endif
                                endif
                                wait 500
                            endif
                        elseif not findbuff "Strength"
                            if findtype "White Potion" self as strengthpot
                                dclick strengthpot
                                wait 500
                                if EnableOverheadMessages = 1 
                                    if insysmsg "Potion satchel used" 
                                        overhead "*drinking free strength potion*" 956
                                        clearsysmsg
                                    else 
                                        overhead "*drinking strength potion*" 956
                                        clearsysmsg
                                    endif
                                endif
                            else 
                                if timer "InventoryTimer" > 6000
                                    overhead "[ NO STRENGTH POTS! ]" 337
                                    settimer "InventoryTimer" 0
                                endif
                            endif
                            wait 500
                        endif
                    endif

                    if EnableAgilityPotion = 1
                        if not findbuff "Agility"
                        if findtype "Blue Potion" self as agilitypot
                                dclick agilitypot
                                wait 500
                                if EnableOverheadMessages = 1 
                                    if insysmsg "Potion satchel used" 
                                        overhead "*drinking free agility potion*" 93
                                        clearsysmsg
                                    else 
                                        overhead "*drinking agility potion*" 93
                                        clearsysmsg
                                    endif
                                endif
                            else 
                                if timer "InventoryTimer" > 6000
                                    overhead "[ NO AGILITY POTS! ]" 337
                                    settimer "InventoryTimer" 0
                                endif
                            endif
                            wait 500
                        endif
                    endif

                    if findtype "Elven SpellBlade" self
                        dclicktype "Elven Spellblade"
                        wft 1500
                        target "self"
                        wait 500
                        if insysmsg "You dont see anything"
                            wait 500
                            clearsysmsg 
                        else 
                            wait 2000
                            clearsysmsg 
                        endif     
                    else 
                        if timer "InventoryTimer" > 5000
                            overhead "[ NO SKINNING KNIFE! ]" 337
                            settimer "InventoryTimer" 0
                        endif
                    endif 
                    
                    if EnableGoldVacuum = 1
                        if findtype "gold coin" ground -1 -1 12 as droppedmoney and timer "GoldRadar" > 3500
                            if EnableOverheadMessages = 1
                                overhead "[ $ ]" 149 droppedmoney
                            endif 
                            overhead "" 149 droppedmoney
                            settimer "GoldRadar" 0
                        endif
                        while findtype "gold coin" ground -1 -1 2 as finderskeepers          
                            overhead "  " 149
                            hotkey "Grab Item"
                            wft 2500
                            target finderskeepers
                            wait 500
                            if insysmsg "Invalid or inaccessible item"
                                wait 500
                                @ignore finderskeepers
                            endif    
                            wait 500                      
                        endwhile 
                    endif 

                    if EnableDungeonCleanup = 1 
                        if findtype "iron ingot%s|board%s|cut leather|Ginseng|Garlic|Blood Moss|Sulfurous Ash|Mandrake Root%s%|Nightshade|Black Pearl%s%|Spider's Silk" ground -1 -1 18 as AnotherMansTreasure and timer "DungeonCleanupRadar" > 3500   
                            # '
                            overhead "" 333 AnotherMansTreasure
                            settimer "DungeonCleanupRadar" 0
                        endif
                        while findtype "iron ingot%s|board%s|cut leather|Ginseng|Garlic|Blood Moss|Sulfurous Ash|Mandrake Root%s%|Nightshade|Black Pearl%s%|Spider's Silk" ground -1 -1 2 as AnotherMansTreasure and timer "DungeonCleanupTimer" > 500
                            # '
                            if timer "InventoryTimer" > 3500 and EnableOverheadMessages = 1
                                overhead "[ CLEANUP... ]" 333
                                settimer "InventoryTimer" 0
                            endif
                            hotkey "Grab Item"
                            wft 2500
                            target AnotherMansTreasure 
                            wait 500
                            if insysmsg "Invalid or inaccessible item"
                                if EnableOverheadMessages = 1
                                overhead "I cannot get to that!" 2086
                                    wait 500
                                endif 
                                @ignore AnotherMansTreasure 
                            endif  
                            settimer "DungeonCleanupTimer" 0
                        endwhile
                    endif  
                endwhile
            endif 
        endif

        if hidden and not cooldown "Hiding"
            @setvar! Stealthing 1
        endif 
        
        while not hidden 
            if warmode
                @setvar! TimeToGo 1
                replay 
            endif   

            if dead
                 replay
            endif 

            if hidden
                break
            endif

            if timer OrganizerTimer > 30000
                hotkey "Organizer Agent-05" 
                if EnableSatchels = 1
                    if findtype "Ginseng|Garlic|Blood Moss|Sulfurous Ash|Mandrake Root%s%|Nightshade|Black Pearl%s%|Spider's Silk" backpack and findtype "reagent satchel" self as MyWizardBag
                        # '
                        if timer "WizardSatchelTimer" > 60000
                            menu MyWizardBag 0
                            wait 250
                            settimer "WizardSatchelTimer" 0
                        endif
                    endif        
                    if findtype "Yellow Potion|Orange Potion|Red Potion|White Potion|Blue Potion|Black Potion|" backpack and findtype 31262 self as MyPotBag
                        if timer "PotionSatchelTimer" > 60000 
                            menu MyPotBag 0
                            wait 250
                            settimer "PotionSatchelTimer" 0
                        endif
                    endif 
                endif  
                settimer OrganizerTimer 0
            endif 

            if EnableGoldVacuum = 1
                if findtype "gold coin" ground -1 -1 12 as droppedmoney and timer "GoldRadar" > 3500
                    if EnableOverheadMessages = 1
                        overhead "[ $ ]" 149 droppedmoney
                    endif 
                    overhead "" 149 droppedmoney
                    settimer "GoldRadar" 0
                endif
                while findtype "gold coin" ground -1 -1 2 as finderskeepers          
                    overhead "  " 149
                    hotkey "Grab Item"
                    wft 2500
                    target finderskeepers
                    wait 500
                    if insysmsg "Invalid or inaccessible item"
                        wait 500
                        @ignore finderskeepers
                    endif    
                    wait 500                      
                endwhile 
            endif 

            if EnableDungeonCleanup = 1 
                if findtype "iron ingot%s|board%s|cut leather|Ginseng|Garlic|Blood Moss|Sulfurous Ash|Mandrake Root%s%|Nightshade|Black Pearl%s%|Spider's Silk" ground -1 -1 18 as AnotherMansTreasure and timer "DungeonCleanupRadar" > 3500   
                    # '    
                    overhead "" 333 AnotherMansTreasure
                    settimer "DungeonCleanupRadar" 0
                endif
                while findtype "iron ingot%s|board%s|cut leather|Ginseng|Garlic|Blood Moss|Sulfurous Ash|Mandrake Root%s%|Nightshade|Black Pearl%s%|Spider's Silk" ground -1 -1 2 as AnotherMansTreasure and timer "DungeonCleanupTimer" > 500
                    # '
                    if timer "InventoryTimer" > 3500 and EnableOverheadMessages = 1
                        overhead "[ CLEANUP... ]" 333
                        settimer "InventoryTimer" 0
                    endif
                    hotkey "Grab Item"
                    wft 2500
                    target AnotherMansTreasure 
                    wait 500
                    if insysmsg "Invalid or inaccessible item"
                        if EnableOverheadMessages = 1
                        overhead "I cannot get to that!" 2086
                            wait 500
                        endif 
                        @ignore AnotherMansTreasure 
                    endif  
                    settimer "DungeonCleanupTimer" 0
                endwhile
            endif  

            if EnableChestRadar = 1 
                if timer "ChestRadar" >= 4500
                    if findtype 3651|3649|3648|3650|3708|2475 ground -1 -1 18 as DungeonChest
                        getlabel DungeonChest descChest
                        if "lock" in descChest
                            overhead "descChest" 69 DungeonChest
                            overhead "" 69 DungeonChest 
                            settimer "ChestRadar" 0
                        else 
                            overhead "" 34 DungeonChest
                            settimer "ChestRadar" 0
                        endif
                    endif
                endif
            endif 
            
            if findtype "Elven SpellBlade" self
                if findtype "corpse" ground -1 -1 2 as deadbody
                    dclicktype "Elven Spellblade"
                    wft 1500
                    target "self"
                    wait 750
                    if insysmsg "see anything"
                        @ignore deadbody
                        clearsysmsg 
                    else 
                        @ignore deadbody
                        cooldown "Hiding" 2000
                    endif
                endif 
            else
                if timer "InventoryTimer" > 15000
                    overhead "[ NO SKINNING KNIFE! ]" 337
                    sysmsg "Disable EnableAutoCarving in script variables to turn off this overhead message!" 0
                    settimer "InventoryTimer" 0
                endif
            endif 
            
            if skill "Healing" > 30
                if not bandaging 
                    if hp < maxhp or poisoned or findbuff "bleed" or findbuff "disease"  
                        if counttype "clean bandage%s%" self < 10 and counttype "clean bandage%s%" self != 0
                            if timer "InventoryTimer" > 6000
                                overhead "[ BANDAGES LOW! ]" 339
                                settimer "InventoryTimer" 0
                            endif
                            if EnableOverheadMessages = 1
                                overhead "*applying bandages...*" 88
                            endif 
                            hotkey "Bandage Self"  
                        elseif counttype "clean bandage%s%" self = 0 and timer "InventoryTimer" > 6000
                            overhead "[ NO BANDAGES! ]" 337
                            settimer "InventoryTimer" 0
                        elseif poisoned or findbuff "bleed" or findbuff "disease"  
                            if EnableOverheadMessages = 1
                                overhead "*applying bandages...*" 88
                            endif 
                            hotkey "Bandage Self"     
                        else 
                            if EnableOverheadMessages = 1
                                overhead "*applying bandages...*" 88
                            endif 
                            hotkey "Bandage Self"    
                        endif 
                    endif
                endif 
            endif 
            
            if EnableHealPotion = 1 or EnableHealPotion = 2
                if diffhits > HealPotHPdiff and timer "HealingPotionTimer" > HealingPotionCooldown
                    if findtype "Yellow Potion" self as healpot
                        dclick healpot
                        wait 750
                        if insysmsg "Potion satchel used"
                            if EnableOverheadMessages = 1 
                                overhead "*drinking free heal potion...*" 253
                            endif
                            clearsysmsg
                        else 
                            if EnableOverheadMessages = 1 
                                overhead "*drinking heal potion...*" 253
                            endif
                            clearsysmsg
                        endif
                        settimer "HealingPotionTimer" 0
                        cooldown "Healing Potion" HealingPotionCooldown
                    else 
                        if timer "InventoryTimer" > 6000
                            overhead "[ NO HEAL POTS! ]" 337
                            settimer "InventoryTimer" 0
                        endif
                    endif
                    wait 500 
                endif
            endif 

            if EnableCurePotion = 1 or EnableCurePotion = 2
                if poisoned and timer "CurePotionTimer" > CurePotionCooldown
                    if findtype "Orange Potion" self as curepot
                        dclick curepot
                        wait 500
                        if insysmsg "Potion satchel used"
                            if EnableOverheadMessages = 1 
                                overhead "*drinking free cure potion...*" 44
                            endif
                            clearsysmsg
                        else 
                            if EnableOverheadMessages = 1 
                                overhead "*drinking cure potion...*" 44
                            endif
                            clearsysmsg
                        endif
                        settimer "CurePotionTimer" 0
                        cooldown "Cure Potion" CurePotionCooldown
                    else
                        if timer "InventoryTimer" > 6000
                            overhead "[ NO CURE POTS! ]" 337
                            settimer "InventoryTimer" 0
                        endif
                    endif
                    wait 500 
                endif
            endif 

            if EnableRefreshPotion = 1 or EnableRefreshPotion = 2
                if diffstam >= RefreshPotSPdiff and timer "RefreshPotionTimer" > RefreshPotionCooldown
                    if findtype "Red Potion" self as refreshpot
                        dclick refreshpot
                        wait 500
                        if insysmsg "Potion satchel used"
                            if EnableOverheadMessages = 1 
                                overhead "*drinking free refresh potion...*" 34
                            endif
                            clearsysmsg
                        else 
                            if EnableOverheadMessages = 1 
                                overhead "*drinking refresh potion...*" 34
                            endif
                            clearsysmsg
                        endif
                        settimer "RefreshPotionTimer" 0
                        cooldown "Refresh Potion" RefreshPotionCooldown
                    else 
                        if timer "InventoryTimer" > 6000
                            overhead "[ NO REFRESH POTS! ]" 337
                            settimer "InventoryTimer" 0
                        endif
                    endif
                    wait 500 
                endif
            endif 

            if EnableMagicResistPotion = 1
                if not findbuff "Magic Resist Potion"
                    if findtype "Black Potion" self as magicresistpot
                        dclick magicresistpot
                        wait 500
                        if EnableOverheadMessages = 1 
                            if insysmsg "Potion satchel used" 
                                overhead "*drinking free resist potion*" 2406
                                clearsysmsg
                            else 
                                overhead "*drinking resist potion*" 2406
                                clearsysmsg
                            endif
                        endif 
                    else 
                        if timer "InventoryTimer" > 6000
                            overhead "[ NO RESIST POTS! ]" 337
                            settimer "InventoryTimer" 0
                        endif
                    endif
                    wait 500
                endif
            endif

            if EnableStrengthPotion = 1 
                if skill "Alchemy" = 1 
                    if insysmsg "You may now use a strength" or not findbuff "Strength"
                        if findtype "White Potion" self as strengthpot
                            dclick strengthpot
                            wait 500
                            if EnableOverheadMessages = 1 
                                if insysmsg "Potion satchel used" 
                                    overhead "*drinking free strength potion*" 956
                                    clearsysmsg
                                else 
                                    overhead "*drinking strength potion*" 956
                                    clearsysmsg
                                endif
                            endif
                        else 
                            if timer "InventoryTimer" > 6000
                                overhead "[ NO STRENGTH POTS! ]" 337
                                settimer "InventoryTimer" 0
                            endif
                        endif
                        wait 500
                    endif
                elseif not findbuff "Strength"
                    if findtype "White Potion" self as strengthpot
                        dclick strengthpot
                        wait 500
                        if EnableOverheadMessages = 1 
                            if insysmsg "Potion satchel used" 
                                overhead "*drinking free strength potion*" 956
                                clearsysmsg
                            else 
                                overhead "*drinking strength potion*" 956
                                clearsysmsg
                            endif
                        endif
                    else 
                        if timer "InventoryTimer" > 6000
                            overhead "[ NO STRENGTH POTS! ]" 337
                            settimer "InventoryTimer" 0
                        endif
                    endif
                    wait 500
                endif
            endif

            if EnableAgilityPotion = 1
                if not findbuff "Agility"
                if findtype "Blue Potion" self as agilitypot
                        dclick agilitypot
                        wait 500
                        if EnableOverheadMessages = 1 
                            if insysmsg "Potion satchel used" 
                                overhead "*drinking free agility potion*" 93
                                clearsysmsg
                            else 
                                overhead "*drinking agility potion*" 93
                                clearsysmsg
                            endif
                        endif
                    else 
                        if timer "InventoryTimer" > 6000
                            overhead "[ NO AGILITY POTS! ]" 337
                            settimer "InventoryTimer" 0
                        endif
                    endif
                    wait 500
                endif
            endif
                
            if findtype 3651|3649|3648|3650|3708|2475 ground -1 -1 2 as TargetDungeonChest and EnableAutoPickDungeonChests = 1
                getlabel TargetDungeonChest TargetDungeonChestdesc
                if "lock" in TargetDungeonChestdesc
                    dclick TargetDungeonChest
                    @setvar! ChestTarget TargetDungeonChest
                    wait 500 
                    @setvar! TimetoPick 0
                    @setvar! NeedtoRemoveTrap 1
                    for 10
                    overhead "*working on chest...*" 1182
                    if not hidden and not cooldown "Hiding" and timer "StealthCheck" > 10500
                        useskill "Hiding"
                    endif 
                    settimer "ChestRadar" 0
                    while gumpexists 736038070
                        if not hidden and not cooldown "Hiding" and timer "StealthCheck" > 10500
                            useskill "Hiding"
                        endif 
                        if insysmsg "successfully cleared it of traps"
                            overhead "*screech*" 2114 TargetDungeonChest
                            if EnableOverheadMessages = 1
                                overhead "There!  That should disable the traps..." 2086
                            endif 
                            settimer "ChestRadar" 0
                            clearsysmsg 
                            wait 500
                            @setvar! TimetoPick 1
                            if findtype "lockpicks" backpack as Lockpicks and TimetoPick = 1
                                gumpresponse 4 736038070
                            else 
                                if EnableOverheadMessages = 1
                                    overhead "I am out of lockpicks!" 2086
                                else 
                                    overhead "[ NO LOCKPICKS! ]" 337
                                endif
                            endif
                        endif 
                        if NeedtoRemoveTrap = 1
                            if findtype "drill" backpack as RemoveTrapTool
                                gumpresponse 7 736038070
                                wait 250
                                if insysmsg "You do not have any trap tools of that material"
                                    gumpresponse 5 736038070
                                endif
                                @setvar! NeedtoRemoveTrap 0
                            else 
                                if EnableOverheadMessages = 1
                                    overhead "I am out of trap removal tools!" 2086
                                else 
                                    overhead "[ NO TRAP TOOLS! ]" 337
                                endif
                                replay
                            endif
                        endif
                        if insysmsg "successfully pick the lock" 
                            overhead "*click*" 2117 TargetDungeonChest
                            if EnableOverheadMessages = 1
                                overhead "Bingo!  That does it..." 2086
                            endif 
                            settimer "ChestRadar" 0
                            wait 500
                            clearsysmsg      
                            replay                    
                        endif  
                        wait 500
                    endwhile
                    endfor 
                else 
                    if timer "NoTargetTimer" > 4000
                        if EnableOverheadMessages = 1
                            overhead "This one is already empty..." 2086
                        endif 
                        settimer "NoTargetTimer" 0
                    endif 
                endif 
            endif 
        endwhile
        
        wait 250
        
        while cooldown "Hiding" 
            if warmode 
                @setvar! TimeToGo 1
                replay
            endif 
            if findtype "Elven SpellBlade" hand
                replay
            endif
            if timer "TargetTimer" > 2000
                overhead " WAIT... " 253
                settimer "TargetTimer" 0
            endif 
            if not hidden
                settimer HidingTimer 0 
                replay
            endif 
            if not cooldown "Hiding" 
                settimer "TargetTimer" 0
                break
            endif 
        endwhile
        
        wait 250 
        
        while hidden and timer HidingTimer > 10000 and Stealthing = 0
            @setvar! ChestTarget 0
            wait 500
            if not hidden
                settimer HidingTimer 0 
                replay
            endif
            if findtype "Elven SpellBlade" hand
                replay
            endif
            if EnableChestRadar = 1 
                if timer "ChestRadar" >= 4500
                    if findtype 3651|3649|3648|3650|3708|2475 ground -1 -1 18 as DungeonChest
                        getlabel DungeonChest descChest
                        if "lock" in descChest
                            overhead "descChest" 69 DungeonChest
                            overhead "" 69 DungeonChest 
                            settimer "ChestRadar" 0
                        else 
                            overhead "" 34 DungeonChest
                            settimer "ChestRadar" 0
                        endif
                    endif 
                endif
            endif 
            if insysmsg "You feel comfortable enough"
                overhead " READY! " 69
                settimer "TargetTimer" 0
                clearsysmsg 
                while not insysmsg "You begin to move quietly."
                    if timer OrganizerTimer > 30000
                        hotkey "Organizer Agent-05" 
                        settimer OrganizerTimer 0
                    endif 
                    if not hidden
                        settimer HidingTimer 0 
                        replay
                    endif 
                    if warmode 
                        @setvar! TimeToGo 1
                        replay
                    endif 
                    if timer "TargetTimer" > 4000
                        overhead " . . .  " 69
                        settimer "TargetTimer" 0
                    endif
                    if EnableSkinningMode = 1 
                        if findtype "Elven SpellBlade" hand
                            @setvar! SkinningMode 1
                            break
                        endif 
                    endif 
                    if EnableChestRadar = 1 
                        if timer "ChestRadar" >= 4500
                            if findtype 3651|3649|3648|3650|3708|2475 ground -1 -1 18 as DungeonChest
                                getlabel DungeonChest descChest
                                if "lock" in descChest
                                    overhead "descChest" 69 DungeonChest
                                    overhead "" 69 DungeonChest 
                                    settimer "ChestRadar" 0
                                else 
                                    overhead "" 34 DungeonChest
                                    settimer "ChestRadar" 0
                                endif
                            endif
                        endif
                    endif 
                    if Stealthing = 1 
                        wait 250
                        break
                    endif 
                    if insysmsg "You begin to move quietly"
                        overhead " START " 69 
                        settimer "StealthCheck" 0
                        settimer "TargetTimer" 0
                        @setvar! Stealthing 1
                        clearsysmsg 
                        break
                    endif 
                    if insysmsg "Now tracking" 
                        replay
                    endif 
                endwhile
                if insysmsg "You begin to move quietly"
                    @setvar! Stealthing 1
                    clearsysmsg 
                    break
                endif 
            endif 
        endwhile
        
        wait 250 
        
        while Stealthing = 1
            if dead
                 replay
            endif 

            if not hidden
                @setvar! Stealthing 0
                replay
            endif 

            if timer OrganizerTimer > 30000
                hotkey "Organizer Agent-05" 
                settimer OrganizerTimer 0
            endif 

            if warmode 
                @setvar! TimeToGo 1
                replay
            endif 

            if findtype "Elven SpellBlade" hand
                replay
            endif

            if insysmsg "You will automatically stealth when out of steps."
                @setvar! KeepOnTruckin 1
                clearsysmsg 
            elseif timer "StealthCheck" < 10500
                @setvar! KeepOnTruckin 0
            endif 

            if insysmsg "You begin to move quietly"
                settimer "StealthCheck" 0
                cooldown "Stealth" 10500
                settimer "TargetTimer" 0
                @setvar! Stealthing 1
                clearsysmsg 
            endif

            if insysmsg "You feel ready to continue stealthing."
                @setvar! KeepOnTruckin 1 
                clearsysmsg
            endif 

            if insysmsg "You have 1 stealth steps" or insysmsg "You have 0 stealth steps"
                if KeepOnTruckin = 1 or insysmsg "You feel ready to continue stealthing."
                    @setvar! KeepOnTruckin 0
                    if timer "TargetTimer" > 2500 
                        overhead " KEEP GOING! " 69
                        settimer "TargetTimer" 0
                    endif 
                    clearsysmsg 
                else 
                    clearsysmsg 
                    while timer "StealthCheck" < 10500
                        if timer "StealthTimer" > 500
                            overhead " SLOW... " 149
                            settimer "StealthTimer" 0        
                            settimer "TargetTimer" 0
                            clearsysmsg 
                        endif
                        if not hidden 
                            @setvar! Stealthing 0
                            replay
                        endif
                        if timer "StealthCheck" > 10500
                            break
                        endif
                        if insysmsg "You have 0 stealth steps remaining."
                            clearsysmsg
                            if KeepOnTruckin = 1 or insysmsg "You feel ready to continue stealthing."
                                @setvar! KeepOnTruckin 0
                                if timer "TargetTimer" > 2500 
                                    overhead " KEEP GOING! " 69
                                    settimer "TargetTimer" 0
                                endif 
                            else 
                                while timer "StealthCheck" < 10500
                                    if timer "StealthTimer" > 500
                                        overhead " STOP! " 37
                                        settimer "StealthTimer" 0      
                                        settimer "TargetTimer" 0
                                        clearsysmsg 
                                    endif
                                    wait 500
                                    if insysmsg "You feel ready to continue stealthing"
                                        overhead " READY! " 69
                                        settimer "TargetTimer" 0
                                        wait 500
                                        clearsysmsg 
                                        break
                                    endif
                                    if not hidden 
                                        @setvar! Stealthing 0
                                        replay
                                    endif
                                    if timer "StealthCheck" > 10500
                                        break
                                    endif 
                                endwhile
                            endif 
                        endif  
                        if EnableChestRadar = 1 
                            if timer "ChestRadar" >= 4500
                                if findtype 3651|3649|3648|3650|3708|2475 ground -1 -1 18 as DungeonChest
                                    getlabel DungeonChest descChest
                                    if "lock" in descChest
                                        overhead "descChest" 69 DungeonChest
                                        overhead "" 69 DungeonChest 
                                        settimer "ChestRadar" 0
                                    else 
                                        overhead "" 34 DungeonChest
                                        settimer "ChestRadar" 0
                                    endif
                                endif 
                            endif
                        endif 
                    endwhile
                endif 
            endif  

            if insysmsg "You feel ready to continue stealthing"
                overhead " READY! " 69
                settimer "TargetTimer" 0
                wait 500
                clearsysmsg 
            endif

            if insysmsg "stealth steps remaining"
                settimer "TargetTimer" 0
            endif 

            if timer "TargetTimer" > 4000 and not cooldown "Hiding" and timer "StealthCheck" > 10500
                overhead "" 69
                settimer "TargetTimer" 0
            endif

            if EnableSkinningMode = 1 
                if findtype "Elven SpellBlade" hand
                    @setvar! SkinningMode 1
                    replay
                endif 
            endif 

            if EnableGoldVacuum = 1
                if findtype "gold coin" ground -1 -1 12 as droppedmoney and timer "GoldRadar" > 3500
                    if EnableOverheadMessages = 1
                        overhead "[ $ ]" 149 droppedmoney
                    endif 
                    overhead "" 149 droppedmoney
                    settimer "GoldRadar" 0
                endif
                while findtype "gold coin" ground -1 -1 2 as finderskeepers          
                    overhead "  " 149
                    hotkey "Grab Item"
                    wft 2500
                    target finderskeepers
                    wait 500
                    if insysmsg "Invalid or inaccessible item"
                        wait 500
                        @ignore finderskeepers
                    endif    
                    wait 500                      
                endwhile 
            endif 

            if EnableDungeonCleanup = 1 
                if findtype "iron ingot%s|board%s|cut leather|Ginseng|Garlic|Blood Moss|Sulfurous Ash|Mandrake Root%s%|Nightshade|Black Pearl%s%|Spider's Silk" ground -1 -1 18 as AnotherMansTreasure and timer "DungeonCleanupRadar" > 3500   
                    # '
                    overhead "" 333 AnotherMansTreasure
                    settimer "DungeonCleanupRadar" 0
                endif
                while findtype "iron ingot%s|board%s|cut leather|Ginseng|Garlic|Blood Moss|Sulfurous Ash|Mandrake Root%s%|Nightshade|Black Pearl%s%|Spider's Silk" ground -1 -1 2 as AnotherMansTreasure and timer "DungeonCleanupTimer" > 500
                    if timer "InventoryTimer" > 3500 and EnableOverheadMessages = 1
                        overhead "[ CLEANUP... ]" 333
                        settimer "InventoryTimer" 0
                    endif
                    hotkey "Grab Item"
                    wft 2500
                    target AnotherMansTreasure 
                    wait 500
                    if insysmsg "Invalid or inaccessible item"
                        if EnableOverheadMessages = 1
                            overhead "I can't get to that!" 2086
                        endif 
                        wait 500
                        @ignore AnotherMansTreasure 
                    endif  
                    settimer "DungeonCleanupTimer" 0
                endwhile
            endif  

            if EnableChestRadar = 1 
                if timer "ChestRadar" >= 4500
                    if findtype 3651|3649|3648|3650|3708|2475 ground -1 -1 18 as DungeonChest
                        getlabel DungeonChest descChest
                        if "lock" in descChest
                            overhead "descChest" 69 DungeonChest
                            overhead "" 69 DungeonChest 
                            settimer "ChestRadar" 0
                        else 
                            overhead "" 34 DungeonChest
                            settimer "ChestRadar" 0
                        endif
                    endif
                endif
            endif 

            if findtype 3651|3649|3648|3650|3708|2475 ground -1 -1 2 as TargetDungeonChest and EnableAutoPickDungeonChests = 1
                getlabel TargetDungeonChest TargetDungeonChestdesc
                if "lock" in TargetDungeonChestdesc
                    dclick TargetDungeonChest
                    @setvar! ChestTarget TargetDungeonChest
                    wait 500 
                    @setvar! TimetoPick 0
                    @setvar! NeedtoRemoveTrap 1
                    for 10
                    overhead "*working on chest...*" 1182
                    if not hidden and not cooldown "Hiding" and timer "StealthCheck" > 10500 
                        useskill "Hiding"
                    endif 
                    settimer "ChestRadar" 0
                    while gumpexists 736038070
                        if not hidden and not cooldown "Hiding" and timer "StealthCheck" > 10500 
                            useskill "Hiding"
                        endif 
                        if insysmsg "successfully cleared it of traps"
                            overhead "*screech*" 2114 TargetDungeonChest
                            if EnableOverheadMessages = 1
                                overhead "There!  That should disable the traps..." 2086
                            endif 
                            settimer "ChestRadar" 0
                            clearsysmsg 
                            wait 500
                            @setvar! TimetoPick 1
                            if findtype "lockpicks" backpack as Lockpicks and TimetoPick = 1
                                gumpresponse 4 736038070
                            else 
                                if EnableOverheadMessages = 1
                                    overhead "I am out of lockpicks!" 2086
                                else 
                                    overhead "[ NO LOCKPICKS! ]" 337
                                endif 
                            endif
                        endif 
                        if NeedtoRemoveTrap = 1
                            if findtype "drill" backpack as RemoveTrapTool
                                gumpresponse 7 736038070
                                wait 250
                                if insysmsg "You do not have any trap tools of that material"
                                    gumpresponse 5 736038070
                                endif
                                @setvar! NeedtoRemoveTrap 0
                            else 
                                if EnableOverheadMessages = 1
                                    overhead "I am out of trap removal tools!" 2086
                                else 
                                    overhead "[ NO TRAP TOOLS! ]" 337
                                endif 
                                replay
                            endif
                        endif
                        if insysmsg "successfully pick the lock" 
                            overhead "*click*" 2117 TargetDungeonChest
                            if EnableOverheadMessages = 1
                                overhead "Bingo!  That does it..." 2086
                            endif 
                            settimer "ChestRadar" 0
                            wait 500
                            clearsysmsg                        
                            replay 
                        endif  
                        wait 500
                    endwhile
                    endfor 
                else 
                    if timer "TargetTimer" > 4000 
                        if EnableOverheadMessages = 1
                            overhead "This one is already empty..." 2086
                        endif 
                        settimer "TargetTimer" 0
                    endif 
                endif 
                @setvar! NeedtoSecureLoot 1
                wait 250
                replay
            endif
        endwhile
        replay    
    endif 
    replay
    
    
/////////////////////
//   DEATH LOOP:   //
/////////////////////

elseif dead
    overhead "[ R.I.P. ]" 337
    wait 1500
    settimer "TargetTimer" 0
    settimer "NoTargetTimer" 4000
    settimer "InventoryTimer" 0
    while dead
        @setvar! DEAD 1
        wait 500

        if timer "NoTargetTimer" > 4000
            overhead "[ FIND A HEALER! ]" 0
            settimer "NoTargetTimer" 0
        endif 

        if findtype "blue moongate|30528|moongate" ground -1 -1 12 as EscapeGate
            if timer "TargetTimer" > 1000
                overhead "  " 253 EscapeGate
                settimer "TargetTimer" 0
            endif 
        endif

        while gumpexists 3773199800
            gumpresponse 16
            wait 500
            waitforgump 3773199800
            gumpresponse 2
            if EnableOverheadMessages = 1
                overhead "[ GATING TO TOWN... ]" 88
            endif 
            break
        endwhile  

        while gumpexists 2957810225
            if EnableOverheadMessages = 1
                overhead "[ HEALED! ]" 84
            endif
            gumpresponse 1
            wait 1000
            gumpclose 2957810225   
            if EnableRecallAfterRessurection = 1
                @setvar! TimeToGo 1
                @setvar! ResThenTimeToGo 1
                wait 1000
                replay  
            else
                wait 2500
                overhead "[ STOPPING SCRIPT ]" 88
                stop
            endif
        endwhile  
    endwhile
endif
    

////////////////
//  THE END!  //
////////////////




