# This is an automated backup - check out https://outlands.uorazorscripts.com/script/8923ba6a-2851-4062-9adb-06e9eff2cd46 for latest
# Automation by Jaseowns
## Script: Bapeths Stabber Background (preliminary)
## Created by: barryroser#0
#############################################

# Bapeths Stabber Background 
# This script it in a preliminary state, some things may change, some things may be added
#
# Jan 18th 2026 - The script now uses the Thieves Codex to set your weapons and the Atlas to switch between your default carry weapon.  The script will now switch between melee/ranged only when in warmode while doing an insta hide/smokebomb routine
#
# What it does:
#    
# Auto Stealth Skill (Activates stealth when ready)
# Auto Swaps Ranged/Melee weapons for dual wep builds that use archery
# Insta Hide or Auto Smokebomb after attacking (Go into warmode to activate)
# Indicates range above targets head
# Searches for closest target to attack (Use "Manual Override" script to force a target)
# Stealth Wizard hat trick to keep stamina down and prevent pushing though mobs/players (Magical Wizard Hat Required to activate this feature)
# Auto Equip after disarm
# Auto Utility (Paralyze pouch, Cure Potion, Str Pot when weak, Resist pot when decreased) <-- does not use when hiding
# Drink cleansing brew when bleeding/diseased (Use warmode when not hiding to activate)
# Gold dropper when over weight
# Turns Hunting Mode on if user has tracking skill 
# Eats food when hungry
# Aspect checker (Shows your current armor aspect overhead periodically)
# ID Items + Recycle using a "Container ID Wand" and any recycle tool (Open the "Party Menu" while the script is playing to activate)
#
#
# "REQUIRED": <---------- "Important information!"
# User must create two cooldowns named:
#
# "Hiding"
# Type: Regular
# Trigger: Overhead Message
# Trigger Text: You have hidden
# -------------- Cooldown : 10.1
#    
# "Stealth"
# Type: Regular
# Trigger: Sys Message
# Trigger Text: You begin to move
# -------------- Cooldown : 10.3
#
# "Manual Override" script found here -----> https://outlands.uorazorscripts.com/script/80d24cbc-c121-484d-af2f-8fe45c765a2b
#
# SET YOUR WEAPON(S) <---------- "Important information!"
# Type [Atlas to create an atlas in your bag
# Open the Thieves Codex while the script is playing to trigger the "Weapon Setter"
# Open The Atlas to switch between Melee or Ranged weapon as your default carry
#
##########################################################################################################################################################################
#
# "SCRIPT SETTINGS"
#
# Auto Drink Strength Potion/Magic Res when Weakened/Res Decreased (0 = off 1 = on)
@setvar! "EnableResistPot" 1
# WITHOUT A TRACE (0,1,2,3 to match thief codex perks)
@setvar! "WithoutTracePerk" 3
# GOLD DROPPER (1 or 0 - set to increase amount of gold dropped if over weight)
@setvar! "Drop444" 1
@setvar! "Drop2222" 0
@setvar! "Drop3444" 0
#
##########################################################################################################################################################################
# THIS FEATURE IS NOT CURRENTLY ACTIVATED IN THE SCRIPT
#
# Set your "Weapon Ability" to auto use it while in combat
# 1 = selected ablity, leave other abilities at 0
#
# MELEE WEAPON ABILITY
@setvar! "MeleeBapWeaponAbility-1" 1
@setvar! "MeleeBapWeaponAbility-2" 0
@setvar! "MeleeBapWeaponAbility-3" 0
#
# RANGED WEAPON ABILITY
@setvar! "RangedBapWeaponAbility-1" 0
@setvar! "RangedBapWeaponAbility-2" 0
@setvar! "RangedBapWeaponAbility-3" 1
##########################################################################################################################################################################
#
if casting 
    while casting 
        //donothing
    endwhile
    pause 330
endif

//Auto stealth activator
if not timerexists StabberOTS and cooldown "Hiding"
    createtimer StabberOTS
endif
if timerexists StabberOTS and cooldown "Stealth"
    removetimer StabberOTS
endif
if timerexists StabberOTS and hidden and not cooldown "Hiding" and not cooldown "Stealth"
    skill "Stealth"
    cooldown "Stealth" 10000
    removetimer StabberOTS
    getlabel backpack ping
endif
//End of Auto stealth activator

// Set Base Weapon Scheme for Multi Weapon Builds (Open Thieves Codex to set weapons, Open Atlas to switch the default)
if gumpexists 2955404556
    gumpclose 2955404556
    overhead "Setting Weapons..." 45
    pause 400
    overhead "Set Melee Wep..." 38
    hotkey "Set Last Target"
    wft 500
    while targetexists 
        //donothing
    endwhile
    overhead "Melee Wep Set!" 38
    @setvar "Melee Stabber Wep" lasttarget 
    pause 400
    overhead "Set Ranged Wep..." 88
    hotkey "Set Last Target"
    wft 500
    while targetexists 
        //donothing
    endwhile
    @setvar "Ranged Stabber Wep" lasttarget 
    overhead "Ranged Wep Set!" 88
endif
if not timerexists BapBaseStabberWep
    if gumpexists 341416395
        gumpclose 341416395
        createtimer BapBaseStabberWep
        overhead "*Ranged Set*" 2085
    endif
endif
if timerexists BapBaseStabberWep
    if gumpexists 341416395
        gumpclose 341416395
        removetimer BapBaseStabberWep
        overhead "*Melee Set*" 1779
    endif
endif
if timerexists BapBaseStabberWep and find "Ranged Stabber Wep" backpack
    while queued
        //donothing
    endwhile
    dclick "Ranged Stabber Wep"
    getlabel backpack ping
    say '[abilityhotbar'
endif
if not timerexists BapBaseStabberWep and find "Melee Stabber Wep" backpack
    while queued
        //donothing
    endwhile
    dclick "Melee Stabber Wep"
    getlabel backpack ping
    say '[abilityhotbar'
endif
//End of Base Weapon Scheme for Multi Weapon Builds

//Hide after attack routine
if warmode and find "Manual Override" ground and hidden and not cooldown "Stealing" and not cooldown "Stealth" and not cooldown "Hiding" and not timerexists StabberOTS
    clearsysmsg 
    if skill "Archery" >= 50
        if find "Manual Override" ground -1 -1 1
            if find "Melee Stabber Wep" backpack
                while queued
                    //donothing
                endwhile
                dclick "Melee Stabber Wep"
                getlabel backpack ping
            endif
        elseif find "Manual Override" ground -1 -1 2
            createtimer BapCancelMeleeAttack
        elseif find "Manual Override" ground -1 -1 3
            createtimer BapCancelMeleeAttack
        elseif find "Manual Override" ground -1 -1 4
            createtimer BapCancelMeleeAttack
        elseif find "Ranged Stabber Wep" backpack
            while queued
                //donothing
            endwhile
            dclick "Ranged Stabber Wep"
            getlabel backpack ping
        endif
    endif
    if timerexists BapCancelMeleeAttack
        //donothing
    else
        attack "Manual Override"
        getlabel backpack ping
    endif
    if warmode
        warmode off
    endif
    if timerexists BapCancelMeleeAttack
        removetimer BapCancelMeleeAttack
    endif
    if insysmsg "You strike your target from the shadows!"
        skill "Hiding"
        getlabel backpack ping
        if not hidden and not cooldown "Smoke Bomb"
            if findtype "bombs" backpack as sbomb
                clearsysmsg 
                while queued
                    //donothing
                endwhile
                dclick sbomb
                getlabel backpack ping
                if insysmsg "You begin to move"
                    createtimer StabberOTS
                    if "WithoutTracePerk" = 0
                        cooldown "Smoke bomb" 120000
                    endif
                    if "WithoutTracePerk" = 1
                        cooldown "Smoke bomb" 100000
                    endif
                    if "WithoutTracePerk" = 2
                        cooldown "Smoke bomb" 80000
                    endif
                    if "WithoutTracePerk" = 3
                        cooldown "Smoke bomb" 60000
                    endif
                endif
            else
                overhead "Out of Smoke Bombs..." 38
            endif
        endif
    else 
        overhead "No shot..." 38
    endif
elseif warmode and find "BapStabTarget" ground and hidden and not cooldown "Stealing" and not cooldown "Stealth" and not cooldown "Hiding" and not timerexists StabberOTS
    clearsysmsg 
    if skill "Archery" >= 50
        if find "BapStabTarget" ground -1 -1 1
            if find "Melee Stabber Wep" backpack
                while queued
                    //donothing
                endwhile
                dclick "Melee Stabber Wep"
                getlabel backpack ping
            endif
        elseif find "BapStabTarget" ground -1 -1 2
            createtimer BapCancelMeleeAttack
        elseif find "BapStabTarget" ground -1 -1 3
            createtimer BapCancelMeleeAttack
        elseif find "BapStabTarget" ground -1 -1 4
            createtimer BapCancelMeleeAttack
        elseif find "Ranged Stabber Wep" backpack
            while queued
                //donothing
            endwhile
            dclick "Ranged Stabber Wep"
            getlabel backpack ping
        endif
    endif
    if timerexists BapCancelMeleeAttack
        //donothing
    else
        attack "BapStabTarget"
        getlabel backpack ping
    endif
    if warmode
        warmode off
    endif
    if timerexists BapCancelMeleeAttack
        removetimer BapCancelMeleeAttack
    endif
    if insysmsg "You strike your target from the shadows!"
        skill "Hiding"
        getlabel backpack ping
        if not hidden and not cooldown "Smoke Bomb"
            if findtype "bombs" backpack as sbomb
                clearsysmsg 
                while queued
                    //donothing
                endwhile
                dclick sbomb
                getlabel backpack ping
                if insysmsg "You begin to move"
                    createtimer StabberOTS
                    if "WithoutTracePerk" = 0
                        cooldown "Smoke bomb" 120000
                    endif
                    if "WithoutTracePerk" = 1
                        cooldown "Smoke bomb" 100000
                    endif
                    if "WithoutTracePerk" = 2
                        cooldown "Smoke bomb" 80000
                    endif
                    if "WithoutTracePerk" = 3
                        cooldown "Smoke bomb" 60000
                    endif
                endif
            else
                overhead "Out of Smoke Bombs..." 38
            endif
        endif
    else 
        overhead "No shot..." 38
    endif
endif
// End of Hide after attack routine

// Search for target routune
if not timerexists newstabtarget
    createtimer newstabtarget
    settimer newstabtarget 600
endif
if not targetexists and not find "Manual Override" and timer newstabtarget >= 600
    settimer newstabtarget 0
    clearsysmsg 
    hotkey 'Target Closest Grey Monster'
    if insysmsg "No one matching"
        //donnothing
    else 
        @setvar! "BapStabTarget" lasttarget 
    endif
    hotkey "Cancel Current Target"
endif
// End of Search for target routune

// Target Range Overhead Routine
if not timerexists baprangecheck
    createtimer baprangecheck
    settimer baprangecheck 1200
elseif timer baprangecheck >= 1200
    settimer baprangecheck 0
    if find "Manual Override" ground
        if find "Manual Override" ground -1 -1 1
            overhead "1 Tile" 33 "Manual Override"
        elseif find "Manual Override" ground -1 -1 2
            overhead "2 Tile" 38 "Manual Override"
        elseif find "Manual Override" ground -1 -1 3
            overhead "3 Tile" 43 "Manual Override"
        elseif find "Manual Override" ground -1 -1 4
            overhead "4 Tile" 48 "Manual Override"
        elseif find "Manual Override" ground -1 -1 5
            overhead "5 Tile" 53 "Manual Override"
        elseif find "Manual Override" ground -1 -1 6
            overhead "6 Tile" 58 "Manual Override"
        elseif find "Manual Override" ground -1 -1 7
            overhead "7 Tile" 63 "Manual Override"
        elseif find "Manual Override" ground -1 -1 8
            overhead "8 Tile" 68 "Manual Override"
        elseif find "Manual Override" ground -1 -1 9
            overhead "9 Tile" 73 "Manual Override"
        elseif find "Manual Override" ground -1 -1 10
            overhead "10 Tile" 78 "Manual Override"
        elseif find "Manual Override" ground -1 -1 11
            overhead "11 Tile" 83 "Manual Override"
        elseif find "Manual Override" ground -1 -1 12
            overhead "12 Tile" 88 "Manual Override"
        elseif find "Manual Override" ground -1 -1 13
            overhead "13 Tile" 93 "Manual Override"
        elseif find "Manual Override" ground -1 -1 14
            overhead "14 Tile" 93 "Manual Override"
        elseif find "Manual Override" ground -1 -1 15
            overhead "15 Tile" 93 "Manual Override"
        elseif find "Manual Override" ground -1 -1 16
            overhead "16 Tile" 93 "Manual Override"
        elseif find "Manual Override" ground -1 -1 17
            overhead "17 Tile" 93 "Manual Override"
        elseif find "Manual Override" ground -1 -1 18
            overhead "18 Tile" 93 "Manual Override"
        endif
    else 
        if find "BapStabTarget" ground -1 -1 1
            overhead "1 Tile" 33 "BapStabTarget"
        elseif find "BapStabTarget" ground -1 -1 2
            overhead "2 Tile" 38 "BapStabTarget"
        elseif find "BapStabTarget" ground -1 -1 3
            overhead "3 Tile" 43 "BapStabTarget"
        elseif find "BapStabTarget" ground -1 -1 4
            overhead "4 Tile" 48 "BapStabTarget"
        elseif find "BapStabTarget" ground -1 -1 5
            overhead "5 Tile" 53 "BapStabTarget"
        elseif find "BapStabTarget" ground -1 -1 6
            overhead "6 Tile" 58 "BapStabTarget"
        elseif find "BapStabTarget" ground -1 -1 7
            overhead "7 Tile" 63 "BapStabTarget"
        elseif find "BapStabTarget" ground -1 -1 8
            overhead "8 Tile" 68 "BapStabTarget"
        elseif find "BapStabTarget" ground -1 -1 9
            overhead "9 Tile" 73 "BapStabTarget"
        elseif find "BapStabTarget" ground -1 -1 10
            overhead "10 Tile" 78 "BapStabTarget"
        elseif find "BapStabTarget" ground -1 -1 11
            overhead "11 Tile" 83 "BapStabTarget"
        elseif find "BapStabTarget" ground -1 -1 12
            overhead "12 Tile" 88 "BapStabTarget"
        elseif find "BapStabTarget" ground -1 -1 13
            overhead "13 Tile" 93 "BapStabTarget"
        elseif find "BapStabTarget" ground -1 -1 14
            overhead "14 Tile" 93 "BapStabTarget"
        elseif find "BapStabTarget" ground -1 -1 15
            overhead "15 Tile" 93 "BapStabTarget"
        elseif find "BapStabTarget" ground -1 -1 16
            overhead "16 Tile" 93 "BapStabTarget"
        elseif find "BapStabTarget" ground -1 -1 17
            overhead "17 Tile" 93 "BapStabTarget"
        elseif find "BapStabTarget" ground -1 -1 18
            overhead "18 Tile" 93 "BapStabTarget"
        endif
    endif
endif
// End of Target Range Overhead Routine

// Stealth Wiz Hat Routine
if findtype 5912 self and not varexist "bwiz" and findlayer self head as regularhat
    getlabel regularhat desc
    if "magical" in desc
        dclick regularhat
        pause 500
        getlabel backpack ping
        replay
    endif
endif
if not find "bwiz" self and findtype 5912 backpack as wizhat
    getlabel wizhat desc
    if "restyled" in desc
        @ignore wizhat
        replay
    elseif "armored" in desc
        @setvar! "bwiz" wizhat
    elseif "magical" in desc
        @setvar! "bwiz" wizhat
        @setvar! "nonaspectedwiz" wizhat
    endif
endif
if varexist "bwiz" and find "bwiz" backpack
    if not find "bmain" self and findlayer self head as hat
        @setvar! "bmain" hat
    endif
    if not varexist "bmain"
        overhead "I need a primary hat or helm to wear.." 88
        pause 2000
        overhead "Anything will do, just not a magical wizard hat..." 88
        stop
    endif
endif
if varexist "bwiz" and find "bwiz" backpack and find "bmain" self and skill "Stealth" >= 80
    if not targetexists and not casting and hidden and stam = maxstam
        while queued
            //donothing
        endwhile
        dclick "bwiz"
        while queued
            //donothing
        endwhile
        pause 30
        dclick "bmain"
        pause 500
        getlabel backpack ping
    endif
    if not targetexists and not casting and not findlayer self head and find "bmain" self
        while queued
            //donothing
        endwhile
        dclick "bmain"
        pause 500
        getlabel backpack ping
    endif
endif
if varexist "bwiz" and find "bmain" self and skill "Stealth" >= 80
    if not targetexists and not casting and not find "bwiz" backpack
        while queued
            //donothing
        endwhile
        dclick "bmain"
        pause 500
        getlabel backpack ping
    endif
endif
// End of Stealth Wiz Hat Routine

//Auto eat food routine
if not targetexists and not casting and not findbuff "Food Satisfaction"
    if findtype 2429|28885|29774|29773|28880|28888|28881|28883|28886|28879 backpack as food
        dclick food
        cooldown "Food" 3600000
        getlabel backpack ping
    endif
endif
//End of Auto eat food routine

// Tracking hunting mode enabler routine
if skill "Tracking" >= 10 and not cooldown "Tracking" and not findbuff "Tracking Hunting"
    skill 'tracking'
    waitforgump 4267467659 500
    gumpresponse 6
    pause 250
    gumpclose 4267467659
endif
// End of Tracking hunting mode enabler routine

// Fast container ID wand recycle (use Party Menu) routine
if gumpexists 3527489586 and findtype "3997|4148|4032|7864" backpack as breakdowntool
    gumpclose 3527489586
    hotkey "Cancel Current Target"
    if not find "ContainerIDWand" and findtype 20495 backpack as contIDwand
        @setvar! "ContainerIDWand" contIDwand
    endif
    if find "ContainerIDWand" backpack
        clearsysmsg 
        while queued
            //donothing
        endwhile
        dclick "ContainerIDWand"
        wft 500
        overhead "Select Container to ID..." 88
        while targetexists 
            //donothing
        endwhile
        getlabel backpack ping
        overhead "Attempting recycle..." 88
        if insysmsg "No unidentified items found."
            overhead "Nothing fresh to ID..." 45
        elseif insysmsg "That is not a container." 
            overhead "Invalid container, try again.." 45
        endif
        while findtype 3834 backpack 0 as bbook
            @ignore bbook
        endwhile
        while findtype 5056|5059|5060|5061|5063|5070|5074|5075|5076|5078|5085|5089|5090|5101|5103|5105|5106|5129|5131|5132|5135|5138|5139|5142|5143|5144|5146|5201|5203|5204|5205|5207|7169|7170|7173|7175|7177|7179|7181|7610|7947|31003|31004|31005|31006|31007|31008|31009|31010|31011|31012|31015|31191|31017|31019|31021|31023|31025|31027|31029|31031|31033|31035|31037|31038|31041|31043|31045|31047|31049|31051|31053|31055|3834|3740|3742|3762|3763|10245|20006|20008|20010|20012|20014|20016|7026|7027|7029|7031|7033|7034|7035|7107|7109|31002|31130|3920|5042|5117|30990|30993|30994|30995|31184|31186|3719|3938|5121|5123|5125|30989|30992|30996|30997|30998|31176|31188|3568|3713|3721|3932|5040|5044|5112|5127|5177|5179|5181|30991|30999|31000|31001|31014|31178|31180|31182|3909|3911|3913|3915|3917|3934|3937|5046|5049|5115|5119|5182|5185|5187|30988|31128|31190|22187|31141|31142|31169|31172 backpack as IDitem
            getlabel IDitem desc
            if "aspect" in desc or "training" in desc or "vanquishing" in desc or "supremely" in desc or "slaying" in desc or "enticement" in desc or "invulnerability" in desc or "power" in desc or "exceedingly accurate force" in desc or "exceedingly potent" in desc or "valorite" in desc or "valehide" in desc or "valewood" in desc or "avarite" in desc or "avarhide" in desc or "avarwood" in desc or "verite" in desc or "verehide" in desc or "verewood" in desc or "agapite" in desc or "rosehide" in desc or "rosewood" in desc or "fortification" in desc
                @ignore IDitem
                overhead "*strong magic*" 2091 IDitem
            elseif "durable" in desc or "substantial" in desc or "massive" in desc or "fortified" in desc or "indestructible" in desc or "exceptional" in desc or "accurate" in desc or "surpassingly" in desc or "eminently" in desc or "exceedingly" in desc or "ruin" in desc or "might" in desc or "force" in desc or "power" in desc or "mastercrafted" in desc or "defense" in desc or "guarding" in desc or "hardening" in desc or "potent" in desc or "melodious" in desc
                overhead "*trash*" 1779 IDitem
                while not gumpexists 949095101
                    while queued
                        //donothing
                    endwhile
                    dclick breakdowntool
                    waitforgump 949095101 1000
                endwhile
                while not ingump "Recycle Single Item" 949095101
                    gumpresponse 2
                    waitforgump 949095101 1000
                endwhile                                
                gumpresponse 3
                waitforgump 949095101 1000
                target IDitem
                getlabel backpack ping
                pause 250
                gumpclose 949095101
            else
                @ignore IDitem
            endif
            if not find "ContainerIDWand" backpack
                break
            endif
        endwhile
        if gumpexists 949095101
            gumpclose 949095101
        endif
    else
        overhead "No Container ID Wand..." 38
    endif
    if targetexists 
        hotkey "Cancel Current Target"
    endif
    overhead "Recycle Complete." 88
    @clearignore 
endif
// End of Fast container ID wand recycle routine

// Aspect checker routine
if not timerexists checkaspect
    createtimer checkaspect
    settimer checkaspect 60000
elseif timer checkaspect >= 60000 
    if findlayer self innertorso as aspectarm
        getlabel aspectarm desc
        if "aspect" in desc
            if "air" in desc
                overhead "<Air Active>" 2263
            elseif "arcane aspect" in desc
                overhead "<Arcane Active>" 1560
            elseif "artisan aspect" in desc
                overhead "<Artisan Active>" 2096
            elseif "blood aspect" in desc
                overhead "<Blood Active>" 2087
            elseif "command aspect" in desc
                overhead "<Command Active>" 1782
            elseif "death aspect" in desc
                overhead "<Death Active>" 2155
            elseif "discipline aspect" in desc
                overhead "<Discipline Active>" 2490
            elseif "earth aspect" in desc
                overhead "<Earth Active>" 2767
            elseif "eldritch aspect" in desc
                overhead "<Eldritch Active>" 2615
            elseif "fire aspect" in desc
                overhead "<Fire Active>" 2635
            elseif "fortune aspect" in desc
                overhead "<Fortune Active>" 2843
            elseif "frost aspect" in desc
                overhead "<Frost Active>" 2234
            elseif "gadget aspect" in desc
                overhead "<Gadget Active>" 2669
            elseif "harvest aspect" in desc
                overhead "<Harvest Active>" 2086
            elseif "holy aspect" in desc
                overhead "<Holy Active>" 2153
            elseif "lightning aspect" in desc
                overhead "<Lightning Active>" 2650
            elseif "lyric aspect" in desc
                overhead "<Lyric Active>" 2241
            elseif "madness aspect" in desc
                overhead "<Madness Active>" 1060
            elseif "poison aspect" in desc
                overhead "<Poison Active>" 2897
            elseif "shadow aspect" in desc
                overhead "<Shadow Active>" 1790
            elseif "void aspect" in desc
                overhead "<Void Active>" 2599
            elseif "water aspect" in desc
                overhead "<Water Active>" 1788
            elseif "war aspect" in desc
                overhead "<War Active>" 2503
            endif
        else 
            overhead "No aspect enabled" 45
        endif
    endif
    settimer checkaspect 0
endif
// End of aspect checker routine

// Auto cure routine
while poisoned and not targetexists and not hidden
    if findtype "Orange Potion" backpack as curepot
        while queued
            //donothing
        endwhile
        dclick curepot
        pause 500
        getlabel backpack ping
    endif
endwhile
// End of Auto cure routine

// Auto pop paralyze pouch routine
while not hidden and paralyzed and not casting and not targetexists and findtype "pouch" backpack 38
    while queued
        //donothing
    endwhile
    say "[Pouch"
    pause 500
    getlabel backpack ping
endwhile
// End of Auto pop paralyze pouch routine

//Auto Drink Strength Potion/Magic Res when Weakened/Res Decreased Routune
if not hidden and not casting and findbuff "Weaken" and not targetexists and findtype "White Potion" backpack as stpot
    while queued
        //donothing
    endwhile
    dclick stpot
    pause 500
    getlabel backpack ping
endif
if "EnableResistPot" = 1
    if not hidden and not casting and findbuff "Magic Resist Decrease" and not targetexists and findtype "Black Potion" backpack as mpot
        while queued
            //donothing
        endwhile
        dclick mpot
        pause 500
        getlabel backpack ping
    endif
endif
// End of Auto Drink Strength Potion/Magic Res when Weakened/Res Decreased Routune

// Auto Re-equip after disarm routine
if insysmsg "disarms you!"
    createtimer disarmtimerright
    createtimer disarmtimerleft
    getlabel backpack ping
endif
if not findlayer self righthand and not findlayer self lefthand
    //donothing
else
    if not timerexists checkequippeditems
        createtimer checkequippeditems
        settimer checkequippeditems 15000
    elseif timerexists checkequippeditems
        if timer checkequippeditems >= 15000
            settimer checkequippeditems 0
            if timerexists equippedrighthand and not timerexists disarmtimerright
                removetimer equippedrighthand
                @unsetvar "myrighthanditem"
            endif
            if timerexists equippedlefthand and not timerexists disarmtimerleft
                removetimer equippedlefthand
                @unsetvar "mylefthanditem"
            endif
        endif
    endif
endif
if timerexists disarmtimerright and findlayer self righthand
    removetimer disarmtimerright
endif
if timerexists disarmtimerleft and findlayer self lefthand
    removetimer disarmtimerleft
endif
if not timerexists disarmtimerright or not timerexists disarmtimerleft
    if not varexist myrighthanditem and timerexists equippedrighthand
        removetimer equippedrighthand
    endif
    if not varexist mylefthanditem and timerexists equippedlefthand
        removetimer equippedlefthand
    endif
    if not find "myrighthanditem" self and findlayer self righthand
        removetimer equippedrighthand
    endif
    if not find "mylefthanditem" self and findlayer self lefthand
        removetimer equippedlefthand
    endif
    if not timerexists equippedrighthand and findlayer self righthand as rheqitem
        getlabel rheqitem desc
        if "spells" in desc
            createtimer exceptionalspellbook
        elseif timerexists exceptionalspellbook
            removetimer exceptionalspellbook
        endif
        @setvar! "myrighthanditem" rheqitem
        createtimer equippedrighthand
    endif
    if not timerexists equippedlefthand and findlayer self lefthand as lheqitem
        @setvar! "mylefthanditem" lheqitem
        createtimer equippedlefthand
    endif
endif
if timerexists disarmtimerright
    if timer disarmtimerright >= 5000
        while not targetexists and not casting and varexist myrighthanditem and not timerexists exceptionalspellbook and not findlayer self righthand
            dclick "myrighthanditem"
            while queued
                //dn
            endwhile
        endwhile
        while not targetexists and not casting and varexist myrighthanditem and timerexists exceptionalspellbook and not findlayer self righthand
            while queued
                //dn
            endwhile
            drop backpack
            lift "myrighthanditem"
            drop self righthand
            while queued
                //dn
            endwhile
        endwhile
        while targetexists and not casting and varexist myrighthanditem and not findlayer self righthand
            while queued
                //dn
            endwhile
            drop backpack
            lift "myrighthanditem"
            drop self righthand
            while queued
                //dn
            endwhile
        endwhile
    endif
endif
if timerexists disarmtimerleft  
    if timer disarmtimerleft >= 5000
        while not targetexists and not casting and varexist mylefthanditem and not findlayer self lefthand
            dclick "mylefthanditem"
            while queued
                //dn
            endwhile
        endwhile
        while targetexists and not casting and varexist mylefthanditem and not findlayer self lefthand
            while queued
                //dn
            endwhile
            drop backpack
            lift "mylefthanditem"
            drop self lefthand
            while queued
                //dn
            endwhile
        endwhile
    endif
endif
if find "mylefthanditem" backpack and not casting and not targetexists and skill "Tactics" >= 80 and not findlayer self lefthand
    dclick "mylefthanditem"
    pause 500
    getlabel backpack ping
endif
if find "myrighthanditem" backpack and not casting and not targetexists and skill "Tactics" >= 80 and not findlayer self righthand
    dclick "myrighthanditem"
    pause 500
    getlabel backpack ping
endif
// End of Auto Re-equip after disarm routine

// Drink cleasning brew in warmode routine
if not findtype 4239|4240 ground -1 -1 2
    if warmode and not hidden and not timerexists brew and not targetexists and findbuff "Bleed" and findtype 50675 backpack as cbrew
        clearsysmsg 
        while queued
            //donothing
        endwhile
        dclick cbrew
        getlabel backpack ping
        if insysmsg "You drink a cleansing brew"
            createtimer brew
        endif
    elseif warmode and not hidden and not timerexists brew and not targetexists and findbuff "Diseased" and findtype 50675 backpack as cbrew
        while queued
            //donothing
        endwhile
        dclick cbrew
        getlabel backpack ping
        if insysmsg "You drink a cleansing brew"
            createtimer brew
        endif
    endif
    if timerexists brew
        if timer brew >= 120000
            removetimer brew
        endif
    endif
endif
// End of Drink cleasning brew in warmode routine

// Gold Dropper Routine
while diffweight <= 0 and findtype "gold coin" backpack as dropgold
    if not hidden and stam <= 4 and findtype "Red Potion" backpack as redpot
        while queued
            //donothing
        endwhile
        dclick redpot
        pause 500
        getlabel backpack ping
    endif
    overhead "My cup runneth over..." 1194
    drop backpack
    if "Drop444" = 1
        lift dropgold 444
    elseif "Drop2222" = 1
        lift dropgold 2222
    elseif "Drop3444" = 1
        lift dropgold 3444
    endif
    drop 0
    while queued
        //donothing
    endwhile
endwhile
// End of Gold Dropper Routine
loop