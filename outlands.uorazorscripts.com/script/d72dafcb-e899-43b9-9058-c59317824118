# This is an automated backup - check out https://outlands.uorazorscripts.com/script/d72dafcb-e899-43b9-9058-c59317824118 for latest
# Automation by Jaseowns
## Script: Minimum Viable Pooner - Land Background Heals
## Created by: dabiri#0
#############################################

//30-july-2025
// Land version of harpooner background healing

overhead 'Spying and fishing'

if not findtype 'Orange Potion' backpack
    overhead 'Out of cure pots' 28
endif

if not findtype 'White Potion' backpack
    overhead 'Out of strength pots' 28
endif

if not findtype 'Black Potion' backpack
    overhead 'Out of resist pots' 28
endif

if not findtype 'Blue Potion' backpack
    overhead 'Out of agility pots' 28
endif

if not findtype 'Yellow Potion' backpack
    overhead 'Out of heal pots' 28
endif


while not dead
    if lhandempty
        overhead 'Left hand empty'
        if findtype 31169 backpack as darpoon
            overhead 'Equipping harpoon'
            dclick darpoon
            getlabel backpack pingCheck
        elseif findtype 31172 backpack as drident
            overhead 'Equipping trident'
            dclick drident
            getlabel backpack pingCheck
        endif
    endif

    //Eat food if we need it
    if not findbuff "food" and findtype "tray" backpack as jood
        dclick jood
        wait 200
    endif

    //Heals & Cures
    //Bandage Self
    if not bandaging and hp < maxhp and skill healing > 50
        hotkey "Bandage Self"
        wait 200
    endif

    //Potion heal
    if diffhits >= 30 
        if findtype "Yellow Potion" backpack as pot 
            getlabel pot desc
            if "next usable" in desc
                // do nothing
            else
                dclick pot
                overhead 'Heal Potion' 48
                wait 500
            endif
        endif
    endif

    //Chivalry heal
    if diffhits >= 50 and skill "Chivalry" > 95 and not cooldown 'Holy Light'
        say '[Holylight'
        wait 250
        if insysmsg "Holy symbols remaining:"
            cooldown 'Holy Light' 31000
        endif
    endif

    // Cure
    if poisoned
        // Potion cure
        if findtype 'Orange Potion' backpack 
            overhead 'Drinking cure potion' 48
            hotkey 'Drink Cure'
            wait 500
        endif
    endif

    // Drink Red Pot
    if diffstam >= 5
        if findtype 'Red Potion' backpack
            overhead ' Drinking refresh potion'
            hotkey 'Drink Refresh'
            wait 500
        else
            overhead 'Out of refresh pots' 34
        endif
    endif

    // Drink str pot
    if not findbuff 'Strength'
        if findtype 'White Potion' backpack
            overhead 'Drinking strength potion'
            hotkey 'Drink Strength'
            wait 500
        endif
    endif

    // Drink resist pot
    if not findbuff 'Magic Resist Potion'
        if findtype 'Black Potion' backpack
            overhead 'Drinking resist potion'
            hotkey 'Drink Magic Resist'
            wait 500
        endif
    endif

    // Drink agility pot
    if not findbuff 'Agility'
        if findtype 'Blue Potion' backpack
            overhead 'Drinking agility potion'
            hotkey 'Drink Agility'
            wait 500
        endif
    endif
endwhile