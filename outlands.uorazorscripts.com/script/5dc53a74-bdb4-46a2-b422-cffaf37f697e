# This is an automated backup - check out https://outlands.uorazorscripts.com/script/5dc53a74-bdb4-46a2-b422-cffaf37f697e for latest
# Automation by Jaseowns
## Script: Vendor Dump to Logs
## Created by: Brozan (Syal)#4523
#############################################

clearignore
sysmsg "START CATALOGUE"
#Populate container lists
removelist 'container_graphic_ids'
createlist 'container_graphic_ids'
pushlist 'container_graphic_ids' 3705
pushlist 'container_graphic_ids' 2448
pushlist 'container_graphic_ids' 5402
pushlist 'container_graphic_ids' 2472
pushlist 'container_graphic_ids' 2473
pushlist 'container_graphic_ids' 2474
pushlist 'container_graphic_ids' 2475
pushlist 'container_graphic_ids' 2476
pushlist 'container_graphic_ids' 2477
pushlist 'container_graphic_ids' 2480
pushlist 'container_graphic_ids' 2481
pushlist 'container_graphic_ids' 2482
pushlist 'container_graphic_ids' 3701
pushlist 'container_graphic_ids' 3702
pushlist 'container_graphic_ids' 3704
pushlist 'container_graphic_ids' 3712


#Populate Items we care about
removelist 'item_graphic_ids'
createlist 'item_graphic_ids'
pushlist 'item_graphic_ids' 'rune'
pushlist 'item_graphic_ids' 'tray'
pushlist 'item_graphic_ids' 'bottle'
pushlist 'item_graphic_ids' 'full jars'
pushlist 'item_graphic_ids' 'deed'
pushlist 'item_graphic_ids' 'wall shelf'
pushlist 'item_graphic_ids' 'crate'
pushlist 'item_graphic_ids' 5901
pushlist 'item_graphic_ids' 17087
pushlist 'item_graphic_ids' 8032
pushlist 'item_graphic_ids' 8033
pushlist 'item_graphic_ids' 8031
pushlist 'item_graphic_ids' 8035
pushlist 'item_graphic_ids' 8029
pushlist 'item_graphic_ids' 8034
pushlist 'item_graphic_ids' 8037
pushlist 'item_graphic_ids' 8041
pushlist 'item_graphic_ids' 8042
pushlist 'item_graphic_ids' 8039
pushlist 'item_graphic_ids' 8038
pushlist 'item_graphic_ids' 42694
pushlist 'item_graphic_ids' 3657
pushlist 'item_graphic_ids' 29774
pushlist 'item_graphic_ids' 28883
pushlist 'item_graphic_ids' 28885
pushlist 'item_graphic_ids' 29773
pushlist 'item_graphic_ids' 28879
pushlist 'item_graphic_ids' 12215
pushlist 'item_graphic_ids' 2597
pushlist 'item_graphic_ids' 5362
pushlist 'item_graphic_ids' 12686
pushlist 'item_graphic_ids' 5356
pushlist 'item_graphic_ids' 8455
pushlist 'item_graphic_ids' 29348
pushlist 'item_graphic_ids' 19239
pushlist 'item_graphic_ids' 19227
pushlist 'item_graphic_ids' 29103
pushlist 'item_graphic_ids' 29863
pushlist 'item_graphic_ids' 42692
pushlist 'item_graphic_ids' 5363
pushlist 'item_graphic_ids' 7127
pushlist 'item_graphic_ids' 29447
pushlist 'item_graphic_ids' 5127
pushlist 'item_graphic_ids' 7109
pushlist 'item_graphic_ids' 3908
pushlist 'item_graphic_ids' 3897
pushlist 'item_graphic_ids' 11552
pushlist 'item_graphic_ids' 3718
pushlist 'item_graphic_ids' 15178
pushlist 'item_graphic_ids' 39860
pushlist 'item_graphic_ids' 5359
pushlist 'item_graphic_ids' 49711
pushlist 'item_graphic_ids' 28888
pushlist 'item_graphic_ids' 3897 
pushlist 'item_graphic_ids' 3985 
pushlist 'item_graphic_ids' 5356 
pushlist 'item_graphic_ids' 5981 
pushlist 'item_graphic_ids' 27611 
pushlist 'item_graphic_ids' 6464 
pushlist 'item_graphic_ids' 3530 
pushlist 'item_graphic_ids' 3836 
pushlist 'item_graphic_ids' 22336 
pushlist 'item_graphic_ids' 3843 
pushlist 'item_graphic_ids' 29025 
pushlist 'item_graphic_ids' 45285 
pushlist 'item_graphic_ids' 3842  
pushlist 'item_graphic_ids' 8826  
pushlist 'item_graphic_ids' 8901  
pushlist 'item_graphic_ids' 3834  
pushlist 'item_graphic_ids' 8787  
pushlist 'item_graphic_ids' 8786  
pushlist 'item_graphic_ids' 29036  
pushlist 'item_graphic_ids' 8012  
pushlist 'item_graphic_ids' 5903 
pushlist 'item_graphic_ids' 48407 
pushlist 'item_graphic_ids' 17686 
pushlist 'item_graphic_ids' 43167 
pushlist 'item_graphic_ids' 29030 
pushlist 'item_graphic_ids' 19235  
pushlist 'item_graphic_ids' 16898  
pushlist 'item_graphic_ids' 8788  
pushlist 'item_graphic_ids' 7107  
pushlist 'item_graphic_ids' 20495  
pushlist 'item_graphic_ids' 3827  
pushlist 'item_graphic_ids' 5356  
pushlist 'item_graphic_ids' 3920  
pushlist 'item_graphic_ids' 3713  
pushlist 'item_graphic_ids' 5117   
pushlist 'item_graphic_ids' 5042   
pushlist 'item_graphic_ids' 3721   
pushlist 'item_graphic_ids' 3762   
pushlist 'item_graphic_ids' 22187   
pushlist 'item_graphic_ids' 5078   
pushlist 'item_graphic_ids' 5187   
pushlist 'item_graphic_ids' 5049   
pushlist 'item_graphic_ids' 3568   
pushlist 'item_graphic_ids' 3911   
pushlist 'item_graphic_ids' 51100   
pushlist 'item_graphic_ids' 29048   
pushlist 'item_graphic_ids' 45085   
pushlist 'item_graphic_ids' 27612   
pushlist 'item_graphic_ids' 45085   
pushlist 'item_graphic_ids' 6264
pushlist 'item_graphic_ids' 19232


clearignore 
while not dead
    @hotkey 'Next Monster Target'
    wait 350
    @setvar! 'lastserial' lasttarget
        if noto 'lastserial' = invulnerable 
            if findtype 3701 'lastserial' as foundBackpack
        
                sysmsg 'New Vendor'
                dclick 'foundBackpack'
                @ignore 'foundBackpack'
                wait 250
                #Now we dig
                #List items in top layer
                foreach searchItem in 'item_graphic_ids'
                    #Search through list
                    while findtype searchItem 'foundBackpack' as foundItem
                        #found an item, display it to log
                        @getlabel 'foundItem' foundItemLabel
                        sysmsg foundItemLabel 33
                        @ignore foundItem
                    endwhile
                endfor
                wait 250
                
                #Start container part
                foreach searchContainer in 'container_graphic_ids'
                    while findtype searchContainer 'foundBackpack' as foundContainer
                        dclick foundContainer
                        wait 250
                        @getlabel 'foundContainer' foundContainerLabel
                        #output container label for bulk sells
                        sysmsg foundContainerLabel 33
                                
                        #container is open, now search it
                        foreach searchItem in 'item_graphic_ids'
                            #Search through list
                            while findtype searchItem 'foundContainer' as foundItem
                                #found an item, display it to log
                                @getlabel 'foundItem' foundItemLabel
                                sysmsg foundItemLabel 33
                                @ignore foundItem
                            endwhile
                        endfor
                        wait 250
                        @ignore foundContainer
                    endwhile
                endfor
            else 
                overhead 'DONE CATALOGUE'
                stop
            endif
        endif
endwhile