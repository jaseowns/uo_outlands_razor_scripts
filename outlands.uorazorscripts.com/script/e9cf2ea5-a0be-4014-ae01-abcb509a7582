# This is an automated backup - check out https://outlands.uorazorscripts.com/script/e9cf2ea5-a0be-4014-ae01-abcb509a7582 for latest
# Automation by Jaseowns
## Script: Animal Taming Script by DaKlue V2.0.3
## Created by: daklue#0
#############################################

///////////////////////////////////////////////////////////
# Animal Taming Script by DaKlue
# Version: V2.0.3
# Added all tamable animals to skill check. If you find an animal is not taming correctly pls DM me on discord daklue in the Jaseowns channel. Some animals names start with A and some start with An so some might not be corrcet in the script.
# Modified: Shelter Dungeon Animal Taming by Jaseowns
# UO Outlands
# How to use: YOU NEED A TANK PET! Recomended a Scarab bonded
#   as soon as possible. Need Herding and crook.
#   Use warmode too auto herd monster. Once pet has
#   hit monster and done damage tab to peace mode and
#   and say all follow me. Get to safe location. 
#   It should do the rest.
# Any questions PM DaKlue on Discord
///////////////////////////////////////////////////////////
// Set Time For Taming
@setvar! tamingTimerCd 13000
// Healing Pet Timer
@setvar! vetTimerCd 8000
// Trigger to Drink Heal and Cure Pots
@setvar! hpCheckToTrigger 25
// Speech Timer
@setvar! speechTimerCD 8000
///////////////////////////////////////////////////////////

// Tankpet setup
if followers = 0
    overhead 'We need to tame a tank pet.'
    wait 2000
    overhead 'Rerun script when you have a tank pet.'
    break
elseif followers > 0
    if not varexist tankpet 
        overhead 'Please select your tanking pet' 88
        @setvar! tankpet
        wft 500
    endif
endif
    

if not timerexists tamingTimer
    settimer tamingTimer tamingTimerCd
endif

if not timerexists sayTimer
    settimer sayTimer speechTimerCD
endif

// Vet Bandage timer 
if not timerexists vetTimer
    settimer vetTimer vetTimerCd
endif

// Bandage tankpet every 8 seconds
if timer vetTimer > vetTimerCd
    if not bandaging and findtype "clean bandage%s%|veterinary supplies" backpack as item
        dclick item
        wft 500
        target tankpet
        wait 200
        hotkey 'Cancel current target'
    endif

    if insysmsg 'not damaged'
        settimer 'vetTimer' 4000
    else
        settimer 'vetTimer' 0
    endif
endif

if followers = 0
    @setvar! myFollowers 0  
    settimer sayTimer 0
elseif followers = 1
    @setvar! myFollowers 1
elseif followers = 2
    @setvar! myFollowers 2
elseif followers = 3
    @setvar! myFollowers 3
elseif followers = 4
    @setvar! myFollowers 4
elseif followers = 5
    @setvar! myFollowers 5
    overhead "Too many followers - release some!" 88
    wait 2000
    replay
endif

@clearignore 

@setvar! tameThisThing 0

while not dead 
    if insysmsg 'world is saving'
        for 60
            overhead 'Waiting for world save...'
            wait 100
            if insysmsg 'save complete'
                overhead 'Save complete - continue on!' 88
                break
            endif
        endfor
    endif
    
        // Trapped
    if paralyzed 
        if findtype "pouch" backpack 38 
            yell "[pouch"
            wait minimumWaitForPing
        else
            overhead "Out of Pouches!" 34
        endif
    endif

    if findbuff "weaken" and weight > maxweight 
        if findtype "gold coin" backpack as item
            lift item 2000
            droprelloc 0 0
            wait minimumWaitForPing
            if insysmsg "cannot drop anything"
                drop backpack -1 -1 -1
            endif
            wait minimumWaitForPingUnequipping
        else
            overhead "We are overweight and cannot drop anything" 34
        endif
    endif
    
    if hp < maxhp and not bandaging
        if findtype "veterinary supplies" backpack aid
            dclick aid
        endif
    endif
    
if skill "Animal Taming" < 60
    while findtype "a Goat|a barbed Prowler|a Chicken|a Bird|a Cat|a Dog|a Cow|a Hind|a Mongbat|a Giant Rat|a Bull|a Great Hart|a Eagle|a Walrus|a Elk|a Bison|a Giant Bat|a Guar|a Giant Frog|a Cougar|a Wolf|a Llama|a Horse|a Black Bear|a Brown Bear|a Colossal Frog|a Firebat|a Muck|a Primordial Whelp|a Monitor Hatchling|a Shallow Water|a Familiar|a Rock Guar|a Sand Crab|a Grizzly Bear|a Polar Bear|a Flamehound|a Swamp Spider|a Scorpion|a Corpse Eater|a Aegis Rat|a mongbat|a giant rat|a guar|a wolf|a familiar|a giant frog|a primordial whelp|a colossal frog|a giant bat|a monitor hatchling" ground -1 -1 3 as janimal
        getlabel janimal desc
        if "released" in desc
            // ignore them
            @ignore janimal
        elseif "tame" in desc or "bonded" in desc
            // ignore them
            @ignore janimal
        else
            @setvar! tameThisThing janimal
            break
        endif
    endwhile
elseif skill "Animal Taming" < 70
    while findtype "a Giant Spider|a Fire Salamander|a Silverback|a Primordial|a Monitor|a Fire Ant|a Imp|a Cave Bear|a Desert Ostard|a Searing Lizard|a Embear|a Jaguar|a Giant Swamp Slug|a Giant Scorpion|a Carrion Beetle|a Aegis Mongbat|a Winter Wolf|a primordial|a cave bear|a corpse eater|a familiar|a guar|a wolf|a giant frog|a primordial whelp|a colossal frog|a giant bat|a monitor hatchling" ground -1 -1 3 as janimal
        getlabel janimal desc
        if "released" in desc
            // ignore them
            @ignore janimal
        elseif "tame" in desc or "bonded" in desc
            // ignore them
            @ignore janimal
        else
            @setvar! tameThisThing janimal
            break
        endif
    endwhile
elseif skill "Animal Taming" < 80
    while findtype "a Searing Mantis|a Asp|a Scarab|a Cave Bat|a Minion|a Forest Ostard|a Fire Beetle|a Colossal Swamp Slug|a Drake Whelp|a Chameleon|a Aegis Slime|a Trapdoor Spider|a corpse eater|a primordial|a cave bear|a drake whelp|a chameleon" ground -1 -1 3 as janimal
        getlabel janimal desc
        if "released" in desc
            // ignore them
            @ignore janimal
        elseif "tame" in desc or "bonded" in desc
            // ignore them
            @ignore janimal
        else
            @setvar! tameThisThing janimal
            break
        endif
    endwhile
elseif skill "Animal Taming" < 85
    while findtype "a Searing Imp|a Bullvore|a Ant Lion|a Adder|a Deep Crawler|a Wolfhound|a Devilbat|a deep crawler" ground -1 -1 3 as janimal
        getlabel janimal desc
        if "released" in desc
            // ignore them
            @ignore janimal
        elseif "tame" in desc or "bonded" in desc
            // ignore them
            @ignore janimal
        else
            @setvar! tameThisThing janimal
            break
        endif
    endwhile
elseif skill "Animal Taming" < 90
    while findtype "a Tundra Ostard|a Anaconda|a Drake|a Dragon Whelp|a Blood Ape|a Sabeartooth|a drake|a dragon whelp|a sabeartooth" ground -1 -1 3 as janimal
        getlabel janimal desc
        if "released" in desc
            // ignore them
            @ignore janimal
        elseif "tame" in desc or "bonded" in desc
            // ignore them
            @ignore janimal
        else
            @setvar! tameThisThing janimal
            break
        endif
    endwhile
elseif skill "Animal Taming" < 95
    while findtype "a Fire Minion|a Hellhound|a Giant Poison Dart Frog|a Flame Purger|a Sand Crawler|a Husk Crab|a Vampire Bat|a Skulker|a Stinger|a husk crab" ground -1 -1 3 as janimal
        getlabel janimal desc
        if "released" in desc
            // ignore them
            @ignore janimal
        elseif "tame" in desc or "bonded" in desc
            // ignore them
            @ignore janimal
        else
            @setvar! tameThisThing janimal
            break
        endif
    endwhile
elseif skill "Animal Taming" < 100
    while findtype "a Frenzied Ostard|a Molten Mongbat|a Dragon|a Wyvern Hatchling|a Giant Trapdoor Spider|a dragon|a molten mongbat|a Wolfhound|a Blood Ape" ground -1 -1 3 as janimal
        getlabel janimal desc
        if "released" in desc
            // ignore them
            @ignore janimal
        elseif "tame" in desc or "bonded" in desc
            // ignore them
            @ignore janimal
        else
            @setvar! tameThisThing janimal
            break
        endif
    endwhile
elseif skill "Animal Taming" < 105
    while findtype "a Wisp|a Fire Crawler|a Colossal Poison Dart Frog|a Black Widow|a Army Ant|a Komodo|a Skeletal Dragon|a Nightmare|a Tidal Mantis|a Water Drake|a Reef Serpent|a Shade Wolf|a Devourer Beetle|a Aegis Imp|a Bloodwolf|a Aegis Scorpion|a Dusk Drake|a Arctic Bullvore|a Air Drake|a Rime Guar|a Snowdrift|a skeletal dragon|a dragon|a snowdrift|a wisp|a Wolfhound|a Blood Ape|a nightmare|a manticore" ground -1 -1 3 as janimal
        getlabel janimal desc
        if "released" in desc
            // ignore them
            @ignore janimal
        elseif "tame" in desc or "bonded" in desc
            // ignore them
            @ignore janimal
        else
            @setvar! tameThisThing janimal
            break
        endif
    endwhile
elseif skill "Animal Taming" < 110
    while findtype "a Arboreal Wisp|a Swamp Drake|a Wyvern|a Eldritch Drake|a Ember Drake|a Giant Sandroach|a Manticore|a Aegis Whelp|a Aegis Asp|a Ankheg|a Earth Drake|a Acarid|an eldritch drake|an ember drake|a nightmare|a earth drake|a acarid|a primordial" ground -1 -1 3 as janimal
        getlabel janimal desc
        if "released" in desc
            // ignore them
            @ignore janimal
        elseif "tame" in desc or "bonded" in desc
            // ignore them
            @ignore janimal
        else
            @setvar! tameThisThing janimal
            break
        endif
    endwhile
elseif skill "Animal Taming" < 115
    while findtype "a Bonfire Wisp|a Giant Black Widow|a Smoke Drake|a Ruby Wyrmling|a Azure Wyrmling|a Sun Wyrmling|a Sphinx|a Cryptwing|a Colossal Searing Scorpion|a Water Dragon|a Corpse Purger|a Nightstalker|a Void Slime|a Aegis Minion|a Aegis Leech|a Blood Scorpion|a Blood Drake|a Blood Courser|a Dusk Dragon|a Air Dragon|a White Wyrmling|a Cave Gorger|a sphix|a aegis minion" ground -1 -1 3 as janimal
        getlabel janimal desc
        if "released" in desc
            // ignore them
            @ignore janimal
        elseif "tame" in desc or "bonded" in desc
            // ignore them
            @ignore janimal
        else
            @setvar! tameThisThing janimal
            break
        endif
    endwhile
elseif skill "Animal Taming" < 120
    while findtype "a Swamp Dragon|a Eldritch Dragon|a Ember Dragon|a Temple Guardian|a Colossal Sandroach|a Radiant Burrowbug|a Sand Muck|a Drowned Dragon|a Incubus|a Blood Serpent|a Blood Hunter|a Volt Wisp|a Earth Dragon|a Colossal Frost Scorpion|a Blood Mephit|a Earth Mephit|a Eldritch Mephit|a Fire Mephit|a Frost Mephit|a Poison Mephit|a Gravebug|a Searing Bullvore|a Colossal Black Widow|a Otyugh|a Smoke Dragon|a Harvestman|a Smoke Faerie Dragon|a Ruby Wyrm|a Azure Wyrm|a Sun Wyrm|a Black Cat|a Phoenix|a Colossal Blazing Beetle|a Fiery Leaper|a Fortress Beetle|a Blightmare|a Shadow Minion|a Entozoon|a Darkscale|a Bloodworm|a Blood Dragon|a Colossal Trapdoor Spider|a Lemura|a Barbed Prowler|a White Wyrm|a Frigid Hornbeast|a Corrupted Hornbeast|a earth dragon|a eldritch dragon|a colossal sandroach" ground -1 -1 3 as janimal
        getlabel janimal desc
        if "released" in desc
            // ignore them
            @ignore janimal
        elseif "tame" in desc or "bonded" in desc
            // ignore them
            @ignore janimal
        else
            @setvar! tameThisThing janimal
            break
        endif
    endwhile
elseif skill "Animal Taming" >= 120
    while findtype "a Goat|a barbed Prowler|a Chicken|a Bird|a Cat|a Dog|a Cow|a Hind|a Mongbat|a Giant Rat|a Bull|a Great Hart|a Eagle|a Walrus|a Elk|a Bison|a Giant Bat|a Guar|a Giant Frog|a Cougar|a Wolf|a Llama|a Horse|a Black Bear|a Brown Bear|a Colossal Frog|a Firebat|a Muck|a Primordial Whelp|a Monitor Hatchling|a Shallow Water|a Familiar|a Rock Guar|a Sand Crab|a Grizzly Bear|a Polar Bear|a Flamehound|a Swamp Spider|a Scorpion|a Corpse Eater|a Aegis Rat|a mongbat|a giant rat|a guar|a wolf|a familiar|a giant frog|a primordial whelp|a colossal frog|a giant bat|a monitor hatchling|a Giant Spider|a Fire Salamander|a Silverback|a Primordial|a Monitor|a Fire Ant|a Imp|a Cave Bear|a Desert Ostard|a Searing Lizard|a Embear|a Jaguar|a Giant Swamp Slug|a Giant Scorpion|a Carrion Beetle|a Aegis Mongbat|a Winter Wolf|a primordial|a cave bear|a corpse eater|a familiar|a guar|a wolf|a giant frog|a primordial whelp|a colossal frog|a giant bat|a monitor hatchling|a Searing Mantis|a Asp|a Scarab|a Cave Bat|a Minion|a Forest Ostard|a Fire Beetle|a Colossal Swamp Slug|a Drake Whelp|a Chameleon|a Aegis Slime|a Trapdoor Spider|a corpse eater|a primordial|a cave bear|a drake whelp|a chameleon|a Searing Imp|a Bullvore|a Ant Lion|a Adder|a Deep Crawler|a Wolfhound|a Devilbat|a deep crawler|a Tundra Ostard|a Anaconda|a Drake|a Dragon Whelp|a Blood Ape|a Sabeartooth|a drake|a dragon whelp|a sabeartooth|a Fire Minion|a Hellhound|a Giant Poison Dart Frog|a Flame Purger|a Sand Crawler|a Husk Crab|a Vampire Bat|a Skulker|a Stinger|a husk crab|a Frenzied Ostard|a Molten Mongbat|a Dragon|a Wyvern Hatchling|a Giant Trapdoor Spider|a dragon|a molten mongbat|a Wolfhound|a Blood Ape|a Wisp|a Fire Crawler|a Colossal Poison Dart Frog|a Black Widow|a Army Ant|a Komodo|a Skeletal Dragon|a Nightmare|a Tidal Mantis|a Water Drake|a Reef Serpent|a Shade Wolf|a Devourer Beetle|a Aegis Imp|a Bloodwolf|a Aegis Scorpion|a Dusk Drake|a Arctic Bullvore|a Air Drake|a Rime Guar|a Snowdrift|a skeletal dragon|a dragon|a snowdrift|a wisp|a Wolfhound|a Blood Ape|a nightmare|a manticore|a Arboreal Wisp|a Swamp Drake|a Wyvern|a Eldritch Drake|a Ember Drake|a Giant Sandroach|a Manticore|a Aegis Whelp|a Aegis Asp|a Ankheg|a Earth Drake|a Acarid|an eldritch drake|an ember drake|a nightmare|a earth drake|a acarid|a primordial|a Bonfire Wisp|a Giant Black Widow|a Smoke Drake|a Ruby Wyrmling|a Azure Wyrmling|a Sun Wyrmling|a Sphinx|a Cryptwing|a Colossal Searing Scorpion|a Water Dragon|a Corpse Purger|a Nightstalker|a Void Slime|a Aegis Minion|a Aegis Leech|a Blood Scorpion|a Blood Drake|a Blood Courser|a Dusk Dragon|a Air Dragon|a White Wyrmling|a Cave Gorger|a sphix|a aegis minion|a Swamp Dragon|a Eldritch Dragon|a Ember Dragon|a Temple Guardian|a Colossal Sandroach|a Radiant Burrowbug|a Sand Muck|a Drowned Dragon|a Incubus|a Blood Serpent|a Blood Hunter|a Volt Wisp|a Earth Dragon|a Colossal Frost Scorpion|a Blood Mephit|a Earth Mephit|a Eldritch Mephit|a Fire Mephit|a Frost Mephit|a Poison Mephit|a Gravebug|a Searing Bullvore|a Colossal Black Widow|a Otyugh|a Smoke Dragon|a Harvestman|a Smoke Faerie Dragon|a Ruby Wyrm|a Azure Wyrm|a Sun Wyrm|a Black Cat|a Phoenix|a Colossal Blazing Beetle|a Fiery Leaper|a Fortress Beetle|a Blightmare|a Shadow Minion|a Entozoon|a Darkscale|a Bloodworm|a Blood Dragon|a Colossal Trapdoor Spider|a Lemura|a Barbed Prowler|a White Wyrm|a Frigid Hornbeast|a Corrupted Hornbeast|a earth dragon|a eldritch dragon|a colossal sandroach" ground -1 -1 3 as janimal
        getlabel janimal desc
        if "released" in desc
            // ignore them
            @ignore janimal
        elseif "tame" in desc or "bonded" in desc
            // ignore them
            @ignore janimal
        else
            @setvar! tameThisThing janimal
            break
        endif
    endwhile
endif

if tameThisThing != 0
    clearsysmsg 
   
    while followers = myFollowers
        useskill "taming"
        wft 500
        target tameThisThing
            if timer 'sayTimer' >= speechTimerCD
                say 'all stop'
                wait 500
                say 'all follow me'
                wait 500
                settimer sayTimer 0
            endif
        if timer 'tamingTimer' >= tamingTimerCd
            settimer tamingTimer 0
            replay
        elseif insysmsg "cannot be seen"
            replay
        elseif dead tameThisThing or not find tameThisThing ground -1 -1 4
            replay
        endif
    endwhile                

    if followers > 3
        if skill "herding" > 0
            while not gumpexists 2426193729
                menu tameThisThing 10
                wait 50
            endwhile
        else
            while not gumpexists 2426193729
                menu tameThisThing 9
                wait 50
            endwhile
        endif
        while gumpexists 2426193729
            gumpresponse 1 2426193729
            wait 50
        endwhile
    endif
endif

if diffhits >= hpCheckToTrigger 
    if findtype "Yellow Potion" backpack as pot 
        getlabel pot desc
        if "next usable" in desc
            // do nothing
        else
            dclick pot
            wait 500
        endif
    endif
endif
if poisoned
    if diffhits >= hpCheckToTrigger and findtype "Orange Potion" backpack as pot 
        getlabel pot desc
        if "next usable" in desc
            // do nothing
        else
            dclick pot
            wait 500
        endif
    endif
endif

###########
# If shit is not working right, adjust this number to ping
#####
@setvar! minimumWaitForPing 200
@setvar! minimumWaitForPingUnequipping 650
@setvar! cdPreventOverheadSpam 10000
@setvar! hpCheckToTriggerHealPotion 40
@setvar! hpCheckToTriggerCurePotion 40
@setvar! myRangeCheckForTarget 2
@setvar! myPreviousKillTarget 0

#####
##  Skill Check Timer
####
@setvar! jaseowns_SkillTimerCD 11500
settimer jaseowns_SkillTimerCheck jaseowns_SkillTimerCD

#####
##  System Message Check Timer
####
@setvar! jaseowns_SystemMsgCheckCD 1000
settimer jaseowns_SystemMsgCheck jaseowns_SystemMsgCheckCD

#####
##  Targeting Variables
####
@setvar! jaseowns_CurrentTargetFocus 0
@setvar! jaseowns_LastFocusAggressionTarget 0
@setvar! jaseowns_KillTarget 0

if not timerexists preventOverheadSpamTimer
    settimer preventOverheadSpamTimer cdPreventOverheadSpam
endif

###############
### Targeting (based on warmode on)
#############
if warmode 
    @setvar! myKillTarget 0
    @hotkey 'Target Closest Non-Friendly Monster'
    wait minimumWaitForPing
    if insysmsg "No one matching that was found"
        if timer preventOverheadSpamTimer >= cdPreventOverheadSpam
            overhead "No targets found" 34
            settimer preventOverheadSpamTimer 0
        endif
    else
        @setvar! myKillTarget lasttarget 
    endif

    ###############
    ### Herding
    #############
    if myKillTarget != 0 and find myKillTarget ground -1 -1 12
        @setvar jaseowns_KillTarget myKillTarget
        if jaseowns_KillTarget != jaseowns_LastFocusAggressionTarget
        
        if find tankpet
                overhead "Ï Guarding Ï" 88 tankpet
                if skill "Herding" > 0
                    menu tankpet 4
                else
                    menu tankpet 3
                endif
            endif
        
            if timer jaseowns_SkillTimerCheck >= jaseowns_SkillTimerCD and findtype 3713 self as jrook
                settimer jaseowns_SystemMsgCheck 0
                while timer jaseowns_SystemMsgCheck <= jaseowns_SystemMsgCheckCD
                    if not targetexists
                        overhead "Ï ¼ Attempting Herd ¼ Ï" 88 jaseowns_KillTarget
                        dclick jrook
                        wft 500
                    else 
                        break
                    endif
                endwhile
                if insysmsg "What do you wish to focus your" and targetexists
                    target jaseowns_KillTarget
                    settimer jaseowns_SystemMsgCheck 0
                    while timer jaseowns_SystemMsgCheck <= jaseowns_SystemMsgCheckCD
                        if insysmsg "You focus your follower"
                            @setvar! jaseowns_LastFocusAggressionTarget jaseowns_KillTarget
                            break
                        elseif insysmsg "Target cannot be seen"
                            
                        endif
                    endwhile
                    if not targetexists 
                        settimer jaseowns_SkillTimerCheck 10000
                    endif
                endif
            endif
        endif
    else
        @setvar! jaseowns_LastFocusAggressionTarget 0
    endif
endif

wait 100
endwhile