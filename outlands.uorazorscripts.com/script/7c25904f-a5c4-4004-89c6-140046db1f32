# This is an automated backup - check out https://outlands.uorazorscripts.com/script/7c25904f-a5c4-4004-89c6-140046db1f32 for latest
# Automation by Jaseowns
## Script: Auto Abilities for Dexxer
## Created by: jolanar#0
#############################################

#Potions
@setvar! EmergencyPotions 1

#Chivalry
@setvar! RemoveCurse 0
@setvar! CloseWounds 0

#Parrying
@setvar! AutoBulwark 0


if hp < maxhp and not bandaging
    hotkey 'Bandage Self'
endif

if hp <= 35 and skill 'Chivalry' >= 95 and not cooldown 'HolyLight'
    say [HolyLight
    getlabel backpack PingCheck
    cooldown HolyLight
endif

if poisoned
    if findtype "Orange Potion" backpack as pot
        dclick pot
        getlabel backpack PingCheck
        hotkey 'Play Script: Auto Dexxer'
    endif
endif

if diffhits > 45
    if findtype "Yellow Potion" backpack as pot
        getlabel pot potlabel
        if 'next usable' in potlabel
            cooldown Potion 10000
        else
        dclick pot
        endif
    endif
endif

if EmergencyPotions = 1 and not findbuff 'Strength' and diffhits > 30
    if findtype "White Potion" backpack as pot
        dclick pot
        getlabel backpack PingCheck
        hotkey 'Play Script: Auto Dexxer'
    endif
endif

if EmergencyPotions = 1 and not findbuff 'Magic Resist Potion' and diffhits > 30
    if findtype "Black Potion" backpack as pot
        dclick pot
        getlabel backpack PingCheck
        hotkey 'Play Script: Auto Dexxer'
    endif
endif

if diffstam >= 8
    if findtype "Red Potion" backpack as pot
        dclick pot
        getlabel backpack PingCheck
        hotkey 'Play Script: Auto Dexxer'
    endif
endif
    
if paralyzed 
    if findtype "pouch" backpack 38 
        say [pouch
        getlabel backpack PingCheck
    else
        overhead "Out of Pouches!" 34
    endif
endif

#Parrying
if not cooldown Walk and AutoBulwark = 1 
    @setvar! SwitchToBulwark 1
else
    @setvar! SwitchToBulwark 0
endif
if SwitchToBulwark = 1 and findtype 'Shield Codex' backpack as codex
    getlabel codex codexdesc
        if 'Bulwark' in codexdesc
            //nothing
        else
            say [ShieldsStance5
        endif
endif
if SwitchToBulwark = 0 and findtype 'Shield Codex' backpack as codex and AutoBulwark = 1
    getlabel codex codexdesc
        if 'Testudo' in codexdesc
            //nothing
        else
            say [ShieldsStance3
        endif
endif

#Chivalry
if skill 'Chivalry' >= 95 
    if ingump '8/' 1387930325 or ingump '9/' 1387930325 or ingump '10/' 1387930325 or ingump '11/' 1387930325 or ingump '12/' 1387930325 or ingump '13/' 1387930325 or ingump '14/' 1387930325 or ingump '15/' 1387930325 or ingump '16/' 1387930325 and not findbuff 'Divine Fury'
    say [DivineFury
        getlabel backpack PingCheck
    endif
endif

if skill 'Chivalry' >= 95 
    if ingump '12/' 1387930325 or ingump '13/' 1387930325 or ingump '14/' 1387930325 or ingump '15/' 1387930325 or ingump '16/' 1387930325 and not findbuff 'Consecrate Weapon'
        say [ConsecrateWeapon
        getlabel backpack PingCheck
    endif
endif

if skill 'Chivalry' >= 95 
    if ingump '12/' 1387930325 or ingump '13/' 1387930325 or ingump '14/' 1387930325 or ingump '15/' 1387930325 or ingump '16/' 1387930325 and not findbuff 'Enemy of One'
        say [EnemyofOne
        getlabel backpack PingCheck
    endif
endif
    
if findbuff 'Diseased' and skill 'Chivalry' >= 70 and not findbuff 'Close Wounds' and CloseWounds = 1
    say [CloseWounds
    cooldown 'CloseWounds'
endif
    
if findbuff 'Bleed' and skill 'Chivalry' >= 70 and not findbuff 'Close Wounds' and CloseWounds = 1
    say [CloseWounds
    cooldown 'CloseWounds'
endif
    
if findbuff 'Chilled' and skill 'Chivalry' >= 50 and not findbuff 'Remove Curse' and RemoveCurse = 1
    say [RemoveCurse
    cooldown 'RemoveCurse'
endif

if findbuff 'Pierce' and skill 'Chivalry' >= 50 and not findbuff 'Remove Curse' and RemoveCurse = 1
    say [RemoveCurse
    cooldown 'RemoveCurse'
endif

if findbuff 'Cripple' and skill 'Chivalry' >= 50 and not findbuff 'Remove Curse' and RemoveCurse = 1
    say [RemoveCurse
    cooldown 'RemoveCurse'
endif

if findbuff 'Disorient' and skill 'Chivalry' >= 50 and not findbuff 'Remove Curse' and RemoveCurse = 1
    say [RemoveCurse
    cooldown 'RemoveCurse'
endif

if not findbuff "food satisfaction" and findtype 'tray' as food
    dclick food
endif

if not cooldown WeaponAbility and skill 'Archery' <= 80
    say [weaponability1
    cooldown WeaponAbility
endif

if skill 'Alchemy' > 19 and not findbuff 'Strength'
    if findtype "White Potion" backpack as pot
        dclick pot
        wait 1000
        hotkey 'Play Script: Auto Dexxer'
    endif
endif

if skill 'Alchemy' > 19 and not findbuff 'Agility'
    if findtype "Blue Potion" backpack as pot
        dclick pot
        wait 1000
        hotkey 'Play Script: Auto Dexxer'
    endif
endif

if skill 'Alchemy' > 19 and not findbuff 'Magic Resist Potion'
    if findtype "Black Potion" backpack as pot
        dclick pot
        wait 1000
        hotkey 'Play Script: Auto Dexxer'
    endif
endif

if findtype 3963|3980|3974|3973|3981|3962|3976|3972 backpack
    if findtype "reagent satchel" self as 'WizardSatchel'
        menu 'WizardSatchel' 0
        wait 500
    endif
endif


loop