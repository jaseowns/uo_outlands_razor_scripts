# This is an automated backup - check out https://outlands.uorazorscripts.com/script/696d0c44-878c-4367-9526-bcd98b24e440 for latest
# Automation by Jaseowns
## Script: Elderstone's Miner (New Player)
## Created by: kingxejo#0
#############################################

# ELDERSTONE'S NEW PLAYER MINER (7/27/25)
# Harvests all mining nodes within range.
# SEE SETUP TIPS AT THE END OF THE SCRIPT

if not findtype 'pickaxe' hand and findtype 'pickaxe' backpack
    dclicktype 'pickaxe' backpack
    overhead 'Check Harvest Aspect' 2086
    wait 650
endif
if not findbuff 'tracking'
    skill 'tracking'; wait 50
    overhead 'Check Harvest Aspect' 2086
endif
clearsysmsg 
hotkey 'use item in hand'
getlabel backpack waitForPing
pause 400
if insysmsg 'stationary penalty'
    overhead 'Stationary Penalty' 54;
    stop
elseif insysmsg 'recently traveled' or insysmsg 'recently teleported'
    overhead 'Recall Timer' 54;
    stop
elseif insysmsg "harvestable"
    overhead "No Available Ore" 54;
    stop
else
    settimer timeOut 0
    while not insysmsg "you dig some" or insysmsg "loosen some rocks"
        if timer timeOut > 5000
            break
        endif
    endwhile
    replay
endif
loop

# SETUP INSTRUCTIONS
#  0. Click SAVE after pasting this script, then set the hotkey (Set HK) to a convenient key

# OTHER TIPS
#  1. To clean up your Journal, add these text filters (Filters => Add => type keywords (no quotes) ==> Check `Filter System Messages` Box => Okay
#       "cannot produce" (also check overhead box)
#       "harvestable resources"
#       "this item on?"
#       "You dig some"
#       "loosen some rocks"
#       "Organizer Agent queued"
#       "queued action"
#       "Organize Agent did not find"
#  2. Create a simple two-line Recall script and hotkey to be ready for Thieves/PKs
#       wait 50
#       [recallcharge Home (but change "Home" to the EXACT name of a rune in your runetome/runebook)
#  3. For smelting your ore, look for Elderstone's Smelter & Shaper script and set to a new hotkey, it will automatically put the ingots in a container of your choice

# EARLY HARVESTING TIPS
#  4. Stick with Mastercrafted Iron or Dull Copper pickaxes.  No cost benefit above that, just convenience/looks
#  5. To reduce movement time, learn your favorite routes and try to stand on tiles that allow you to mine more than one node before needing to move again
#  6. Other than script testing, don't harvest on Shelter Island, there is a 50% yield penalty and too much competition