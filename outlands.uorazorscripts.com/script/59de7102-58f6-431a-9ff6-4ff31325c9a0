# This is an automated backup - check out https://outlands.uorazorscripts.com/script/59de7102-58f6-431a-9ff6-4ff31325c9a0 for latest
# Automation by Jaseowns
## Script: Guards Bank Room
## Created by: oakman8490#0
#############################################

## Created by Oak [KoU] ##
//Script that will call the guards, open your bank vault, and quickly enter your room (regardless of whether in town or not.
//Change the names of the characters to match those of the ones that are on the account that owns the rental room.

//Room # -  Default is 100, but may need to change it if you are a friend/co-owner to multiple rooms
@setvar! roomSelection 100

say "Guards Bank Room"

@clearignore
for 20
    if findtype 400|401 'ground' -1 -1 10 as npc
        getlabel npc npcLabel
        if 'house steward' in npcLabel
            @setvar! inTown 0
        elseif 'innkeeper' in npcLabel
            @setvar! inTown 1
        else 
            @setvar! inTown 3
        endif
        @ignore! npc
        if inTown = 3
            //nothing
        else 
            break
        endif
    endif
endfor

if inTown = 1
    @setvar! innRoomResponse 5
elseif inTown = 0
    @setvar! innRoomResponse 2
elseif inTown = 3
    stop
endif

waitforgump 2393832411 1000

if name = "CharacterA"
    gumpresponse 4
elseif name = "CharacterB"
    gumpresponse 4
elseif name = "CharacterC"
    gumpresponse 4
elseif name = "CharacterD"
    gumpresponse 4
elseif name = "CharacterE"
    gumpresponse 4
else 
    gumpresponse innRoomResponse
    waitforgump 2393832411 1000
    gumpresponse roomSelection
endif